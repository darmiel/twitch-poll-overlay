(()=>{var e={982:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(15),i=s.n(n),o=s(645),r=s.n(o)()(i());r.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=e(t);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);n&&i[c[0]]||(s&&(c[2]?c[2]="".concat(s," and ").concat(c[2]):c[2]=s),t.push(c))}},t}},15:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}e.exports=function(e){var s,n,i=(n=4,function(e){if(Array.isArray(e))return e}(s=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return s}}(s,n)||function(e,s){if(e){if("string"==typeof e)return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,s):void 0}}(s,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],r=i[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([h]).join("\n")}return[o].join("\n")}},187:e=>{"use strict";var t,s="object"==typeof Reflect?Reflect:null,n=s&&"function"==typeof s.apply?s.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(s,n){function i(){void 0!==o&&e.removeListener("error",o),s([].slice.call(arguments))}var o;"error"!==t&&(o=function(s){e.removeListener(t,i),n(s)},e.once("error",o)),e.once(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var r=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,s,n){var i,o,r,h;if(a(s),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),o=e._events),r=o[t]),void 0===r)r=o[t]=s,++e._eventsCount;else if("function"==typeof r?r=o[t]=n?[s,r]:[r,s]:n?r.unshift(s):r.push(s),(i=c(e))>0&&r.length>i&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,h=l,console&&console.warn&&console.warn(h)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,s){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},i=l.bind(n);return i.listener=s,n.wrapFn=i,i}function m(e,t,s){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?s?[i.listener||i]:[i]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function f(e,t){for(var s=new Array(t),n=0;n<t;++n)s[n]=e[n];return s}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");r=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var h=c.length,l=f(c,h);for(s=0;s<h;++s)n(l[s],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var s,n,i,o,r;if(a(t),void 0===(n=this._events))return this;if(void 0===(s=n[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(i=-1,o=s.length-1;o>=0;o--)if(s[o]===t||s[o].listener===t){r=s[o].listener,i=o;break}if(i<0)return this;0===i?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,i),1===s.length&&(n[e]=s[0]),void 0!==n.removeListener&&this.emit("removeListener",e,r||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,s,n;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var i,o=Object.keys(s);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},153:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(379),i=s.n(n),o=s(982);i()(o.Z,{insert:"head",singleton:!1});const r=o.Z.locals||{}},379:(e,t,s)=>{"use strict";var n,i=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),o=[];function r(e){for(var t=-1,s=0;s<o.length;s++)if(o[s].identifier===e){t=s;break}return t}function a(e,t){for(var s={},n=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],h=s[c]||0,l="".concat(c," ").concat(h);s[c]=h+1;var u=r(l),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:l,updater:d(m,t),references:1}),n.push(l)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=s.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,l=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function u(e,t,s,n){var i=s?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function m(e,t,s){var n=s.css,i=s.media,o=s.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function d(e,t){var s,n,i;if(t.singleton){var o=f++;s=p||(p=c(t)),n=u.bind(null,s,o,!1),i=u.bind(null,s,o,!0)}else s=c(t),n=m.bind(null,s,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var s=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<s.length;n++){var i=r(s[n]);o[i].references--}for(var c=a(e,t),h=0;h<s.length;h++){var l=r(s[h]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}s=c}}}},993:(e,t,s)=>{e.exports={client:s(839),Client:s(839)}},681:(e,t,s)=>{var n=s(887),i=s(49);e.exports=function(e,t){var s=null===i.get(e.url,null)?i.get(e.uri,null):i.get(e.url,null);if(i.isURL(s)||(s="https://api.twitch.tv/kraken"+("/"===s[0]?s:`/${s}`)),i.isNode())n(i.merge({method:"GET",json:!0},e,{url:s}),t);else if(i.isExtension()||i.isReactNative()){e=i.merge({url:s,method:"GET",headers:{}},e);var o=new XMLHttpRequest;for(var r in o.open(e.method,e.url,!0),e.headers)o.setRequestHeader(r,e.headers[r]);o.responseType="json",o.addEventListener("load",(e=>{4==o.readyState&&(200!=o.status?t(o.status,null,null):t(null,null,o.response))})),o.send()}else{var a=`jsonp_callback_${Math.round(1e5*Math.random())}`;window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=`${s}${s.includes("?")?"&":"?"}callback=${a}`,document.body.appendChild(c)}}},839:(e,t,s)=>{var n=s(681),i=s(641),o=s(378).EventEmitter,r=s(352),a=s(549),c=s(776),h=s.g.WebSocket||s.g.MozWebSocket||s(418),l=s(49),u=function e(t){if(this instanceof e==0)return new e(t);this.setMaxListeners(0),this.opts=l.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=l.get(this.opts.options.clientId,null),this.maxReconnectAttempts=l.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=l.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=l.get(this.opts.connection.reconnect,!1),this.reconnectDecay=l.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=l.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=l.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var s="error";this.opts.options.debug&&(s="info"),this.log=this.opts.logger||r;try{r.setLevel(s)}catch(e){}this.opts.channels.forEach((function(e,t,s){s[t]=l.channel(e)})),o.call(this)};for(var m in l.inherits(u,o),u.prototype.api=n,i)u.prototype[m]=i[m];u.prototype.handleMessage=function(e){if(!l.isNull(e)){this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);var t=l.channel(l.get(e.params[0],null)),s=l.get(e.params[1],null),n=l.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.badgeInfo(a.emotes(e.tags))),e.tags){var i=e.tags;for(var o in i)if("emote-sets"!==o&&"ban-duration"!==o&&"bits"!==o){var r=i[o];l.isBoolean(r)?r=null:"1"===r?r=!0:"0"===r?r=!1:l.isString(r)&&(r=l.unescapeIRC(r)),i[o]=r}}if(l.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PONG");break;case"PONG":var h=new Date;this.currentLatency=(h.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(e,null,4)}`)}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#tmijs"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout((()=>{l.isNull(this.ws)||(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),l.get(this.opts.connection.timeout,9999))}),6e4);var u=new c.queue(2e3),m=l.union(this.opts.channels,this.channels);this.channels=[];for(var p=0;p<m.length;p++){let e=m[p];u.add((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.join(e).catch((e=>{this.log.error(e)}))}))}u.run();break;case"NOTICE":var f=[null],d=[t,n,s],g=[t,!0],_=[t,!1],v=[d,f],y=[d,[n]],b=`[${t}] ${s}`;switch(n){case"subs_on":this.log.info(`[${t}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[g,g,f]);break;case"subs_off":this.log.info(`[${t}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[_,_,f]);break;case"emote_only_on":this.log.info(`[${t}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[g,f]);break;case"emote_only_off":this.log.info(`[${t}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[_,f]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${t}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[g,g,f]);break;case"r9k_off":this.log.info(`[${t}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[_,_,f]);break;case"room_mods":var w=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseMods","mods"],[[null,w],[t,w]]);break;case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[t,[]]]);break;case"vips_success":s.endsWith(".")&&(s=s.slice(0,-1));var C=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseVips","vips"],[[null,C],[t,C]]);break;case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[t,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(b),this.emits(["notice","_promiseBan"],y);break;case"ban_success":this.log.info(b),this.emits(["notice","_promiseBan"],v);break;case"usage_clear":this.log.info(b),this.emits(["notice","_promiseClear"],y);break;case"usage_mods":this.log.info(b),this.emits(["notice","_promiseMods"],[d,[n,[]]]);break;case"mod_success":this.log.info(b),this.emits(["notice","_promiseMod"],v);break;case"usage_vips":this.log.info(b),this.emits(["notice","_promiseVips"],[d,[n,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":this.log.info(b),this.emits(["notice","_promiseVip"],[d,[n,[]]]);break;case"vip_success":this.log.info(b),this.emits(["notice","_promiseVip"],v);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(b),this.emits(["notice","_promiseMod"],y);break;case"unmod_success":this.log.info(b),this.emits(["notice","_promiseUnmod"],v);break;case"unvip_success":this.log.info(b),this.emits(["notice","_promiseUnvip"],v);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(b),this.emits(["notice","_promiseUnmod"],y);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(b),this.emits(["notice","_promiseUnvip"],y);break;case"color_changed":this.log.info(b),this.emits(["notice","_promiseColor"],v);break;case"usage_color":case"turbo_only_color":this.log.info(b),this.emits(["notice","_promiseColor"],y);break;case"commercial_success":this.log.info(b),this.emits(["notice","_promiseCommercial"],v);break;case"usage_commercial":case"bad_commercial_error":this.log.info(b),this.emits(["notice","_promiseCommercial"],y);break;case"hosts_remaining":this.log.info(b);var x=isNaN(s[0])?0:parseInt(s[0]);this.emits(["notice","_promiseHost"],[d,[null,~~x]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(b),this.emits(["notice","_promiseHost"],[d,[n,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(b),this.emits(["notice","_promiseR9kbeta"],y);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(b),this.emits(["notice","_promiseR9kbetaoff"],y);break;case"timeout_success":this.log.info(b),this.emits(["notice","_promiseTimeout"],v);break;case"delete_message_success":this.log.info(`[${t} ${s}]`),this.emits(["notice","_promiseDeletemessage"],v);case"already_subs_off":case"usage_subs_off":this.log.info(b),this.emits(["notice","_promiseSubscribersoff"],y);break;case"already_subs_on":case"usage_subs_on":this.log.info(b),this.emits(["notice","_promiseSubscribers"],y);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(b),this.emits(["notice","_promiseEmoteonlyoff"],y);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(b),this.emits(["notice","_promiseEmoteonly"],y);break;case"usage_slow_on":this.log.info(b),this.emits(["notice","_promiseSlow"],y);break;case"usage_slow_off":this.log.info(b),this.emits(["notice","_promiseSlowoff"],y);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(b),this.emits(["notice","_promiseTimeout"],y);break;case"untimeout_success":case"unban_success":this.log.info(b),this.emits(["notice","_promiseUnban"],v);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(b),this.emits(["notice","_promiseUnban"],y);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(b),this.emits(["notice","_promiseDeletemessage"],y);break;case"usage_unhost":case"not_hosting":this.log.info(b),this.emits(["notice","_promiseUnhost"],y);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info(b),this.emits(["notice","_promiseWhisper"],y);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":this.log.info(b),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],[d,[n,t]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(b),this.emit("automod",t,n,s);break;case"unrecognized_cmd":this.log.info(b),this.emit("notice",t,n,s);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info(b),this.emit("notice",t,n,s);break;case"host_on":case"host_off":break;default:s.includes("Login unsuccessful")||s.includes("Login authentication failed")||s.includes("Error logging in")||s.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=s,this.log.error(this.reason),this.ws.close()):s.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}break;case"USERNOTICE":var k=e.tags["display-name"]||e.tags.login,O=e.tags["msg-param-sub-plan"]||"",M=l.unescapeIRC(l.get(e.tags["msg-param-sub-plan-name"],""))||null,E={prime:O.includes("Prime"),plan:O,planName:M},P=e.tags,T=~~(e.tags["msg-param-streak-months"]||0),S=e.tags["msg-param-recipient-display-name"]||e.tags["msg-param-recipient-user-name"],N=~~e.tags["msg-param-mass-gift-count"];switch(P["message-type"]=n,n){case"resub":this.emits(["resub","subanniversary"],[[t,k,T,s,P,E]]);break;case"sub":this.emit("subscription",t,k,E,s,P);break;case"subgift":this.emit("subgift",t,k,T,S,E,P);break;case"anonsubgift":this.emit("anonsubgift",t,T,S,E,P);break;case"submysterygift":this.emit("submysterygift",t,k,N,E,P);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",t,N,E,P);break;case"primepaidupgrade":this.emit("primepaidupgrade",t,k,E,P);break;case"giftpaidupgrade":var L=e.tags["msg-param-sender-name"]||e.tags["msg-param-sender-login"];this.emit("giftpaidupgrade",t,k,L,P);break;case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",t,k,P);break;case"raid":k=e.tags["msg-param-displayName"]||e.tags["msg-param-login"];var $=e.tags["msg-param-viewerCount"];this.emit("raided",t,k,$)}break;case"HOSTTARGET":var R=s.split(" ");$=~~R[1]||0,"-"===R[0]?(this.log.info(`[${t}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[t,$],[null]])):(this.log.info(`[${t}] Now hosting ${R[0]} for ${$} viewer(s).`),this.emit("hosting",t,R[0],$));break;case"CLEARCHAT":if(e.params.length>1){var I=l.get(e.tags["ban-duration"],null);l.isNull(I)?(this.log.info(`[${t}] ${s} has been banned.`),this.emit("ban",t,s,null,e.tags)):(this.log.info(`[${t}] ${s} has been timed out for ${I} seconds.`),this.emit("timeout",t,s,null,~~I,e.tags))}else this.log.info(`[${t}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[t],[null]]);break;case"CLEARMSG":if(e.params.length>1){k=e.tags.login;var j=s;(P=e.tags)["message-type"]="messagedeleted",this.log.info(`[${t}] ${k}'s message has been deleted.`),this.emit("messagedeleted",t,k,j,P)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect(),setTimeout((()=>{this.connect()}),this.reconnectTimer);break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].includes(this.username)||this.moderators[this.lastJoined].push(this.username)),l.isJustinfan(this.getUsername())||this.userstate[t]||(this.userstate[t]=e.tags,this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,l.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[t]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(l.channel(this.lastJoined)===t&&this.emit("_promiseJoin",null,t),e.tags.channel=t,this.emit("roomstate",t,e.tags),!e.tags.hasOwnProperty("subs-only")){if(e.tags.hasOwnProperty("slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){var A=[t,!0,~~e.tags.slow];this.log.info(`[${t}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[A,A,[null]])}else{var D=[t,!1,0];this.log.info(`[${t}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[D,D,[null]])}e.tags.hasOwnProperty("followers-only")&&("-1"===e.tags["followers-only"]?(D=[t,!1,0],this.log.info(`[${t}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[D,D,[null]])):(A=[t,!0,~~e.tags["followers-only"]],this.log.info(`[${t}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[A,A,[null]])))}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===s?(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(e.params[2])||this.moderators[t].push(e.params[2]),this.emit("mod",t,e.params[2])):"-o"===s&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].filter((t=>t!=e.params[2])),this.emit("unmod",t,e.params[2]));break;default:this.log.warn(`Could not parse message from jtv:\n${JSON.stringify(e,null,4)}`)}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":var U=e.prefix.split("!")[0];l.isJustinfan(this.getUsername())&&this.username===U&&(this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,U,!0)),this.username!==U&&this.emit("join",t,U,!1);break;case"PART":var H,F=!1;U=e.prefix.split("!")[0],this.username===U&&(F=!0,this.userstate[t]&&delete this.userstate[t],-1!==(H=this.channels.indexOf(t))&&this.channels.splice(H,1),-1!==(H=this.opts.channels.indexOf(t))&&this.opts.channels.splice(H,1),this.log.info(`Left ${t}`),this.emit("_promisePart",null)),this.emit("part",t,U,F);break;case"WHISPER":U=e.prefix.split("!")[0],this.log.info(`[WHISPER] <${U}>: ${s}`),e.tags.hasOwnProperty("username")||(e.tags.username=U),e.tags["message-type"]="whisper";var J=l.channel(e.tags.username);this.emits(["whisper","message"],[[J,e.tags,s,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){var W=l.username(s.split(" ")[0]),B=s.includes("auto");if(s.includes("hosting you for")){var G=l.extractNumber(s);this.emit("hosted",t,W,G,B)}else s.includes("hosting you")&&this.emit("hosted",t,W,0,B)}else{var V=l.actionMessage(s);V?(e.tags["message-type"]="action",this.log.info(`[${t}] *<${e.tags.username}>: ${V[1]}`),this.emits(["action","message"],[[t,e.tags,V[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",t,e.tags,s):(e.tags["message-type"]="chat",this.log.info(`[${t}] <${e.tags.username}>: ${s}`),this.emits(["chat","message"],[[t,e.tags,s,!1]]))}break;default:this.log.warn(`Could not parse message:\n${JSON.stringify(e,null,4)}`)}}},u.prototype.connect=function(){return new Promise(((e,t)=>{this.server=l.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=l.get(this.opts.connection.port,80),this.secure&&(this.port=443),443===this.port&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",(s=>{s?t(s):e([this.server,~~this.port])}))}))},u.prototype._openConnection=function(){this.ws=new h(`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,"irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},u.prototype._onOpen=function(){l.isNull(this.ws)||1!==this.ws.readyState||(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=l.get(this.opts.identity.username,l.justinfan()),this.password=l.password(l.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send(`PASS ${this.password}`),this.ws.send(`NICK ${this.username}`))},u.prototype._onMessage=function(e){e.data.split("\r\n").forEach((e=>{l.isNull(e)||this.handleMessage(a.msg(e))}))},u.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=l.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer)),this.ws=null},u.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer))),this.ws=null},u.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},u.prototype._sendCommand=function(e,t,s,n){return new Promise(((i,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if("number"==typeof e&&l.promiseDelay(e).then((()=>{o("No response from Twitch.")})),l.isNull(t))this.log.info(`Executing command: ${s}`),this.ws.send(s);else{var r=l.channel(t);this.log.info(`[${r}] Executing command: ${s}`),this.ws.send(`PRIVMSG ${r} :${s}`)}n(i,o)}))},u.prototype._sendMessage=function(e,t,s,n){return new Promise(((i,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if(l.isJustinfan(this.getUsername()))return o("Cannot send anonymous messages.");var r=l.channel(t);if(this.userstate[r]||(this.userstate[r]={}),s.length>=500){var c=l.splitLine(s,500);s=c[0],setTimeout((()=>{this._sendMessage(e,t,c[1],(()=>{}))}),350)}this.ws.send(`PRIVMSG ${r} :${s}`);var h={};Object.keys(this.emotesets).forEach((e=>{this.emotesets[e].forEach((function(e){if(l.isRegex(e.code))return a.emoteRegex(s,e.code,e.id,h);a.emoteString(s,e.code,e.id,h)}))}));var u=l.merge(this.userstate[r],a.emotes({emotes:a.transformEmotes(h)||null})),m=l.actionMessage(s);m?(u["message-type"]="action",this.log.info(`[${r}] *<${this.getUsername()}>: ${m[1]}`),this.emits(["action","message"],[[r,u,m[1],!0]])):(u["message-type"]="chat",this.log.info(`[${r}] <${this.getUsername()}>: ${s}`),this.emits(["chat","message"],[[r,u,s,!0]])),n(i,o)}))},u.prototype._updateEmoteset=function(e){this.emotes=e,this.api({url:`/chat/emoticon_images?emotesets=${e}`,headers:{Authorization:`OAuth ${l.password(l.get(this.opts.identity.password,"")).replace("oauth:","")}`,"Client-ID":this.clientId}},((t,s,n)=>{if(!t)return this.emotesets=n.emoticon_sets||{},this.emit("emotesets",e,this.emotesets);setTimeout((()=>{this._updateEmoteset(e)}),6e4)}))},u.prototype.getUsername=function(){return this.username},u.prototype.getOptions=function(){return this.opts},u.prototype.getChannels=function(){return this.channels},u.prototype.isMod=function(e,t){var s=l.channel(e);return this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].includes(l.username(t))},u.prototype.readyState=function(){return l.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},u.prototype.disconnect=function(){return new Promise(((e,t)=>{l.isNull(this.ws)||3===this.ws.readyState?(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),t("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",(()=>{e([this.server,~~this.port])})))}))},e.exports&&(e.exports=u),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=u,window.tmi.Client=u)},641:(e,t,s)=>{var n=s(49);function i(e,t){return e=n.channel(e),t=n.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/followers ${t}`,((s,n)=>{this.once("_promiseFollowers",(i=>{i?n(i):s([e,~~t])}))}))}function o(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/followersoff",((t,s)=>{this.once("_promiseFollowersoff",(n=>{n?s(n):t([e])}))}))}function r(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),null,`PART ${e}`,((t,s)=>{this.once("_promisePart",(n=>{n?s(n):t([e])}))}))}function a(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",((t,s)=>{this.once("_promiseR9kbeta",(n=>{n?s(n):t([e])}))}))}function c(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",((t,s)=>{this.once("_promiseR9kbetaoff",(n=>{n?s(n):t([e])}))}))}function h(e,t){return e=n.channel(e),t=n.get(t,300),this._sendCommand(this._getPromiseDelay(),e,`/slow ${t}`,((s,n)=>{this.once("_promiseSlow",(i=>{i?n(i):s([e,~~t])}))}))}function l(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",((t,s)=>{this.once("_promiseSlowoff",(n=>{n?s(n):t([e])}))}))}e.exports={action:function(e,t){return e=n.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])}))},ban:function(e,t,s){return e=n.channel(e),t=n.username(t),s=n.get(s,""),this._sendCommand(this._getPromiseDelay(),e,`/ban ${t} ${s}`,((n,i)=>{this.once("_promiseBan",(o=>{o?i(o):n([e,t,s])}))}))},clear:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",((t,s)=>{this.once("_promiseClear",(n=>{n?s(n):t([e])}))}))},color:function(e,t){return t=n.get(t,e),this._sendCommand(this._getPromiseDelay(),"#tmijs",`/color ${t}`,((e,s)=>{this.once("_promiseColor",(n=>{n?s(n):e([t])}))}))},commercial:function(e,t){return e=n.channel(e),t=n.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/commercial ${t}`,((s,n)=>{this.once("_promiseCommercial",(i=>{i?n(i):s([e,~~t])}))}))},deletemessage:function(e,t){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,`/delete ${t}`,((t,s)=>{this.once("_promiseDeletemessage",(n=>{n?s(n):t([e])}))}))},emoteonly:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",((t,s)=>{this.once("_promiseEmoteonly",(n=>{n?s(n):t([e])}))}))},emoteonlyoff:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",((t,s)=>{this.once("_promiseEmoteonlyoff",(n=>{n?s(n):t([e])}))}))},followersonly:i,followersmode:i,followersonlyoff:o,followersmodeoff:o,host:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(2e3,e,`/host ${t}`,((s,n)=>{this.once("_promiseHost",((i,o)=>{i?n(i):s([e,t,~~o])}))}))},join:function(e){return e=n.channel(e),this._sendCommand(null,null,`JOIN ${e}`,((t,s)=>{var i="_promiseJoin",o=!1,r=(a,c)=>{e===n.channel(c)&&(this.removeListener(i,r),o=!0,a?s(a):t([e]))};this.on(i,r);var a=this._getPromiseDelay();n.promiseDelay(a).then((()=>{o||this.emit(i,"No response from Twitch.",e)}))}))},mod:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/mod ${t}`,((s,n)=>{this.once("_promiseMod",(i=>{i?n(i):s([e,t])}))}))},mods:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",((t,s)=>{this.once("_promiseMods",((n,i)=>{n?s(n):(i.forEach((t=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(t)||this.moderators[e].push(t)})),t(i))}))}))},part:r,leave:r,ping:function(){return this._sendCommand(this._getPromiseDelay(),null,"PING",((e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),n.get(this.opts.connection.timeout,9999)),this.once("_promisePing",(t=>{e([parseFloat(t)])}))}))},r9kbeta:a,r9kmode:a,r9kbetaoff:c,r9kmodeoff:c,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,((t,s)=>{t([e])}))},say:function(e,t){return e=n.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])})):this._sendMessage(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])}))},slow:h,slowmode:h,slowoff:l,slowmodeoff:l,subscribers:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",((t,s)=>{this.once("_promiseSubscribers",(n=>{n?s(n):t([e])}))}))},subscribersoff:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",((t,s)=>{this.once("_promiseSubscribersoff",(n=>{n?s(n):t([e])}))}))},timeout:function(e,t,s,i){return e=n.channel(e),t=n.username(t),n.isNull(s)||n.isInteger(s)||(i=s,s=300),s=n.get(s,300),i=n.get(i,""),this._sendCommand(this._getPromiseDelay(),e,`/timeout ${t} ${s} ${i}`,((n,o)=>{this.once("_promiseTimeout",(r=>{r?o(r):n([e,t,~~s,i])}))}))},unban:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unban ${t}`,((s,n)=>{this.once("_promiseUnban",(i=>{i?n(i):s([e,t])}))}))},unhost:function(e){return e=n.channel(e),this._sendCommand(2e3,e,"/unhost",((t,s)=>{this.once("_promiseUnhost",(n=>{n?s(n):t([e])}))}))},unmod:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unmod ${t}`,((s,n)=>{this.once("_promiseUnmod",(i=>{i?n(i):s([e,t])}))}))},unvip:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unvip ${t}`,((s,n)=>{this.once("_promiseUnvip",(i=>{i?n(i):s([e,t])}))}))},vip:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/vip ${t}`,((s,n)=>{this.once("_promiseVip",(i=>{i?n(i):s([e,t])}))}))},vips:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/vips",((e,t)=>{this.once("_promiseVips",((s,n)=>{s?t(s):e(n)}))}))},whisper:function(e,t){return(e=n.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#tmijs",`/w ${e} ${t}`,((s,i)=>{var o=n.channel(e),r=n.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);this.emits(["whisper","message"],[[o,r,t,!0],[o,r,t,!0]]),s([e,t])}))}}},378:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emits=function(e,t){for(var s=0;s<e.length;s++){var n=s<t.length?t[s]:t[t.length-1];this.emit.apply(this,[e[s]].concat(n))}},t.prototype.emit=function(e){var t,o,r,a,c,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i(o=this._events[e]))return!1;if(s(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),o.apply(this,a)}else if(n(o))for(a=Array.prototype.slice.call(arguments,1),r=(h=o.slice()).length,c=0;c<r;c++)h[c].apply(this,a);return!0},t.prototype.addListener=function(e,o){var r;if(!s(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(o.listener)?o.listener:o),this._events[e]?n(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,n(this._events[e])&&!this._events[e].warned&&(r=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var n=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var i=1,o=e;for(var r in this._events)this._events.hasOwnProperty(r)&&r.startsWith(o)&&i++;e+=i}function a(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},t.prototype.removeListener=function(e,t){var i,o,r,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(i=this._events[e]).length,o=-1,i===t||s(i.listener)&&i.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var c=e;for(var h in this._events)this._events.hasOwnProperty(h)&&h.startsWith(c)&&(isNaN(parseInt(h.substr(h.length-1)))||(this._events[e+parseInt(h.substr(h.length-1)-1)]=this._events[h],delete this._events[h]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(n(i)){for(a=r;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=a;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},352:(e,t,s)=>{var n=s(49),i="info",o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function r(e){return function(t){o[e]>=o[i]&&console.log(`[${n.formatDate(new Date)}] ${e}: ${t}`)}}e.exports={setLevel:function(e){i=e},trace:r("trace"),debug:r("debug"),info:r("info"),warn:r("warn"),error:r("error"),fatal:r("fatal")}},549:(e,t,s)=>{var n=s(49),i=/\S+/g;function o(e,t,s=",",i="/",o){var r=e[t];if(void 0===r)return e;var a=n.isString(r);if(e[t+"-raw"]=a?r:null,!0===r)return e[t]=null,e;if(e[t]={},a)for(var c=r.split(s),h=0;h<c.length;h++){var l=c[h].split(i),u=l[1];void 0!==o&&u&&(u=u.split(o)),e[t][l[0]]=u||null}return e}e.exports={badges:function(e){return o(e,"badges")},badgeInfo:function(e){return o(e,"badge-info")},emotes:function(e){return o(e,"emotes","/",":",",")},emoteRegex:function(e,t,s,o){i.lastIndex=0;for(var r,a=new RegExp("(\\b|^|s)"+n.unescapeHtml(t)+"(\\b|$|s)");null!==(r=i.exec(e));)a.test(r[0])&&(o[s]=o[s]||[],o[s].push([r.index,i.lastIndex-1]))},emoteString:function(e,t,s,o){var r;for(i.lastIndex=0;null!==(r=i.exec(e));)r[0]===n.unescapeHtml(t)&&(o[s]=o[s]||[],o[s].push([r.index,i.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach((s=>{t=`${t+s}:`,e[s].forEach((e=>{t=`${t+e.join("-")},`})),t=`${t.slice(0,-1)}/`})),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},s=0,n=0;if(64===e.charCodeAt(0)){if(-1===(n=e.indexOf(" ")))return null;for(var i=e.slice(1,n).split(";"),o=0;o<i.length;o++){var r=i[o],a=r.split("=");t.tags[a[0]]=r.substring(r.indexOf("=")+1)||!0}s=n+1}for(;32===e.charCodeAt(s);)s++;if(58===e.charCodeAt(s)){if(-1===(n=e.indexOf(" ",s)))return null;for(t.prefix=e.slice(s+1,n),s=n+1;32===e.charCodeAt(s);)s++}if(-1===(n=e.indexOf(" ",s)))return e.length>s?(t.command=e.slice(s),t):null;for(t.command=e.slice(s,n),s=n+1;32===e.charCodeAt(s);)s++;for(;s<e.length;){if(n=e.indexOf(" ",s),58===e.charCodeAt(s)){t.params.push(e.slice(s+1));break}if(-1===n){if(-1===n){t.params.push(e.slice(s));break}}else for(t.params.push(e.slice(s,n)),s=n+1;32===e.charCodeAt(s);)s++}return t}}},776:(e,t)=>{function s(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}s.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},s.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},s.prototype.next=function(){var e=this.index++,t=this.queue[e],s=this.queue[this.index];t&&(t.fn(),s&&setTimeout((()=>{this.next()}),s.delay||this.defaultDelay))},s.prototype.reset=function(){this.index=0},s.prototype.clear=function(){this.index=0,this.queue=[]},t.queue=s},49:e=>{var t=/^\u0001ACTION ([^\u0001]+)\u0001$/,s=/^(justinfan)(\d+$)/,n=/\\([sn:r\\])/g,i={s:" ",n:"",":":";",r:""},o=e.exports={get:(e,t)=>void 0===e?t:e,isBoolean:e=>"boolean"==typeof e,isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),isInteger:e=>!isNaN(o.toNumber(e,0)),isJustinfan:e=>s.test(e),isNull:e=>null===e,isRegex:e=>/[\|\\\^\$\*\+\?\:\#]/.test(e),isString:e=>"string"==typeof e,isURL:e=>RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e),justinfan:()=>`justinfan${Math.floor(8e4*Math.random()+1e3)}`,password:e=>["SCHMOOPIIE","",null].includes(e)?"SCHMOOPIIE":`oauth:${e.toLowerCase().replace("oauth:","")}`,promiseDelay:e=>new Promise((function(t){setTimeout(t,e)})),replaceAll:(e,t)=>{if(null==e)return null;for(var s in t)e=e.replace(new RegExp(s,"g"),t[s]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC:e=>e&&e.includes("\\")?e.replace(n,((e,t)=>t in i?i[t]:t)):e,actionMessage:e=>e.match(t),addWord:(e,t)=>e.length?e+" "+t:e+t,channel:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},extractNumber:e=>{for(var t=e.split(" "),s=0;s<t.length;s++)if(o.isInteger(t[s]))return~~t[s];return 0},formatDate:e=>{var t=e.getHours(),s=e.getMinutes();return`${t=(t<10?"0":"")+t}:${s=(s<10?"0":"")+s}`},inherits:(e,t)=>{e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e},isNode:()=>{try{return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}catch(e){}return!1},isExtension:()=>{try{return window.chrome&&chrome.runtime&&chrome.runtime.id}catch(e){}return!1},isReactNative:()=>{try{return navigator&&"ReactNative"==navigator.product}catch(e){}return!1},merge:Object.assign,splitLine:(e,t)=>{var s=e.substring(0,t).lastIndexOf(" ");return-1===s&&(s=t-1),[e.substring(0,s),e.substring(s+1)]},toNumber:(e,t)=>{if(null===e)return 0;var s=Math.pow(10,o.isFinite(t)?t:0);return Math.round(e*s)/s},union:(e,t)=>{for(var s={},n=[],i=0;i<e.length;i++)s[o=e[i]]||(s[o]=!0,n.push(o));for(i=0;i<t.length;i++){var o;s[o=t[i]]||(s[o]=!0,n.push(o))}return n},username:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t}}},607:(e,t,s)=>{"use strict";var n,i,o;s(153);var r=s(824),a=s(320),c=s(651),h=s(18),l=s(877),u=new URLSearchParams(window.location.search),m=null!==(n=u.get("channel"))&&void 0!==n?n:"",p=parseInt(null!==(i=u.get("timeout"))&&void 0!==i?i:"10"),f=parseInt(null!==(o=u.get("requiredPings"))&&void 0!==o?o:"5"),d=new r.Job(p,f),g=new a.TwitchChat(m),_="pie"==(u.has("type")?u.get("type"):null)?new h.Pie({elementId:"bar",background:"none",x:-1,y:-1,radiusFactor:2}):new l.Bar({elementId:"bar",background:"none",barMarginHeight:0,barMarginWidth:0,strokeMarginHeight:0,strokeMarginWidth:0}),v=new c.ReactionStorage(g,d);v.on("update",(function(e,t,s){console.log("on: update =",t,s,d.isActive(),s==c.UpdateMode.INCREMENT),s==c.UpdateMode.INCREMENT&&d.isActive()&&v.drawChart(_)})),d.on("start",(function(){console.log("Job started!")})),d.on("cancel",(function(){console.log("Job canceled!"),_.clear(),v.resetStorage()}))},877:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Bar=t.FONT_DYNAMIC=void 0;var r=s(256),a=s(613);t.FONT_DYNAMIC=-1;var c={elementId:"",barMarginHeight:10,barMarginWidth:10,strokeMarginHeight:5,strokeMarginWidth:5,valueColors:r.colors,strokeColor:"#34495e",strokeIterations:1,fontSize:-1,fontFamily:"courier",fontSizeFactor:1.8,fontColorFactor:.65,textRound:!0},h=function(e){function t(t){var s=e.call(this,t)||this;return s.properties=t,s.properties=o(o({},c),s.properties),console.log(s.properties),s}return i(t,e),t.prototype.init=function(){},t.prototype.draw=function(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=!0),s&&this.clear();var n=this.properties,i=this.width-2*n.barMarginWidth,o=this.height-2*n.barMarginHeight,a=n.fontSize;-1===a&&(a=o*(2/3));var c=a/n.fontSizeFactor;this.ctx.font=Math.round(a)+"px "+n.fontFamily,this.ctx.strokeStyle=n.strokeColor;for(var h=0;h<n.strokeIterations;h++)this.ctx.beginPath(),this.ctx.rect(this.x+n.barMarginWidth-n.strokeMarginWidth-h,this.y+n.barMarginHeight-n.strokeMarginHeight-h,i+2*n.strokeMarginWidth+h,o+2*n.strokeMarginHeight+h),this.ctx.stroke(),this.ctx.closePath();for(var l=e.reduce((function(e,t){return e+t})),u=n.barMarginWidth,m=0;m<e.length;m++){var p=e[m]/l;if(0!=p){var f=i*p;if(this.ctx.fillStyle=n.valueColors[m%n.valueColors.length],this.ctx.beginPath(),this.ctx.rect(this.x+u,this.y+n.barMarginHeight,f,o),this.ctx.fill(),this.ctx.closePath(),t){var d;d=n.textRound?Math.round(100*p)+"%":100*p+"%",this.ctx.beginPath(),this.ctx.fillStyle=r.darkenHexColor(this.ctx.fillStyle,n.fontColorFactor),this.ctx.fillText(d,this.x+u+f/2-c*d.length/2,this.y+n.barMarginHeight+o/2+c/2),this.ctx.closePath()}u+=f}}},t.prototype.clear=function(){this.ctx.clearRect(this.x,this.y,this.width,this.height)},t}(a.Chart);t.Bar=h},613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chart=void 0;t.Chart=function(e){var t,s,n,i,o,r;this.canvasElementId=e.elementId,this.x=null!==(t=e.x)&&void 0!==t?t:0,this.y=null!==(s=e.y)&&void 0!==s?s:0,this.width=null!==(n=e.width)&&void 0!==n?n:-1,this.height=null!==(i=e.height)&&void 0!==i?i:-1,-1===this.width?this.width=document.defaultView.innerWidth:-2===this.x&&(this.x=document.defaultView.innerWidth/2-this.width/2),-1==this.height?this.height=document.defaultView.innerHeight:-2===this.x&&(this.y=document.defaultView.innerHeight/2-this.height/2);var a=document.getElementById(this.canvasElementId);if(null!=a){this.canvas=a;var c=this.canvas.getContext("2d");null!=c?(this.ctx=c,this.canvas.height=this.height,this.canvas.width=this.width,"none"!=(null!==(o=e.background)&&void 0!==o?o:"#2c3e50")&&(this.canvas.style.background=null!==(r=e.background)&&void 0!==r?r:"#2c3e50"),this.error||this.init()):this.error="Context not found."}else this.error="Canvas not found."}},18:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pie=t.LOCATION_CENTER=void 0;var r=s(613),a=s(256);t.LOCATION_CENTER=-1;var c={elementId:"",fontSize:25,round:!0,radiusFactor:4.5,fontFamily:"courier",fontColorFactor:.65},h=function(e){function t(t){var s=e.call(this,t)||this;return s.properties=t,s.properties=o(o({},c),s.properties),-1===s.x&&(s.x=s.width/2),-1===s.y&&(s.y=s.height/2),s.r=Math.min(s.height,s.width)/s.properties.radiusFactor,s}return i(t,e),t.prototype.init=function(){},t.prototype.draw=function(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=!0),s&&this.clear();var n=this.properties,i=e.reduce((function(e,t){return e+t}));this.endAngle=0;for(var o=0;o<e.length;o++){var r=e[o]/i*100;if(0!=r){var c=a.colors[o%a.colors.length],h=Math.PI/50*r;this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.arc(this.x,this.y,this.r,this.endAngle-.5*Math.PI,this.endAngle+h-.5*Math.PI),this.ctx.fillStyle=c,this.ctx.fill(),this.ctx.closePath();var l=this.endAngle+h/2;if(t){this.ctx.fillStyle=a.darkenHexColor(this.ctx.fillStyle,n.fontColorFactor),this.ctx.font=n.fontSize+"px "+n.fontFamily;var u,m=15*(u=n.round?Math.round(r)+"%":r+"$").length,p=this.r-50,f=this.x+(Math.sin(l)*p+m/2*(Math.sin(l)-1)),d=this.y-(Math.cos(l)*p+7.5*(Math.cos(l)-1));this.ctx.fillText(u,f,d)}this.endAngle+=h}}},t.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},t}(r.Chart);t.Pie=h},131:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;var o=function(e){function t(t){var s=e.call(this)||this;return s.channel=t,s}return i(t,e),t.prototype.onMessage=function(e){this.on("message",e)},t.prototype.emitMessage=function(e,t){this.emit("message",e,t)},t}(s(187).EventEmitter);t.Chat=o},320:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchChat=void 0;var o=s(131),r=s(993),a=function(e){function t(t){var s=e.call(this,t)||this;return s.client=r.Client({connection:{secure:!0,reconnect:!0},channels:[s.channel]}),console.log("[Chat] Connecting to channel: "+t),s.client.connect(),console.log("[Chat] Connected!"),s.client.on("message",(function(e,t,n,i){s.emitMessage(t.username,n)})),s}return i(t,e),t}(o.Chat);t.TwitchChat=a},256:(e,t)=>{"use strict";function s(e,t,s,n){return void 0===n&&(n=!0),(n?"#":"")+(16777215&(e<<16|t<<8|s)).toString(16)}function n(e){e.startsWith("#")&&(e=e.substring(1));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}function i(e,t,n,i){return s(e=Math.max(0,e*i),t=Math.max(0,t*i),n=Math.max(0,n*i))}Object.defineProperty(t,"__esModule",{value:!0}),t.darkenHexColor=t.darkenRGBColor=t.Hex2RGB=t.RGB2Hex=t.colors=void 0,t.colors=["#3498db","#f1c40f","#e74c3c","#3498db","#2ecc71","#1abc9c","#9b59b6","#f1c40f","#e67e22","#e74c3c","#ecf0f1"],t.RGB2Hex=s,t.Hex2RGB=n,t.darkenRGBColor=i,t.darkenHexColor=function(e,t){var s=n(e);return i(s[0],s[1],s[2],t)}},824:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.Job=void 0;var o=function(e){function t(t,s){void 0===t&&(t=10),void 0===s&&(s=1);var n=e.call(this)||this;return n.timeout=t,n.requiredPings=s,n.current=0,n.currentPing=0,n}return i(t,e),t.prototype.onTime=function(){this.current++,this.current>=this.timeout&&(this.stopTimer(),this.emit("cancel"))},t.prototype.ping=function(){var e=this;this.currentPing++,this.currentPing<this.requiredPings||(this.current=0,this.currentPing=0,null==this.timer&&(this.timer=window.setInterval((function(){return e.onTime()}),1e3),this.emit("start")))},t.prototype.stopTimer=function(){this.isActive()&&(window.clearInterval(this.timer),this.timer=null),this.current=0,this.currentPing=0},t.prototype.isActive=function(){return null!=this.timer},t}(s(187).EventEmitter);t.Job=o},834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reactions=t.getReactionByKeyword=void 0;var s=[{sorting:0,display:"+1",keywords:["+1","1","yes","ye","ja"]},{sorting:2,display:"~",keywords:["2","wtf"]},{sorting:3,display:"-1",keywords:["-1","0","no","nein"]}];t.reactions=s,t.getReactionByKeyword=function(e){e=e.toLowerCase();for(var t=0;t<s.length;t++)for(var n=s[t],i=0;i<n.keywords.length;i++)if(n.keywords[i]==e)return n;return null}},651:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionStorage=t.UpdateMode=void 0;var o,r=s(187),a=s(834);!function(e){e[e.INCREMENT=1]="INCREMENT",e[e.DECREMENT=-1]="DECREMENT"}(o=t.UpdateMode||(t.UpdateMode={}));var c=function(e){function t(t,s,n){void 0===n&&(n=!0);var i=e.call(this)||this;return i.chat=t,i.job=s,i.duplicationChecking=n,i.users=new Map,i.reactions=new Map,i.chat.onMessage((function(e,t){i.onMessage(e,t)})),i}return i(t,e),t.prototype.onMessage=function(e,t){if(null!=e&&null!=t){var s=a.getReactionByKeyword(t);null!=s&&(this.job.ping(),this.react(e,s))}else console.log("[Storage]","Null:",e,"or",t)},t.prototype.getReaction=function(e){var t;return null!==(t=this.reactions.get(e))&&void 0!==t?t:0},t.prototype.updateReaction=function(e,t){var s=this.getReaction(e);switch(t){case o.INCREMENT:s++;break;case o.DECREMENT:s--}return this.reactions.set(e,s),this.emit("update",e,s,t),s},t.prototype.react=function(e,t){if(1==this.duplicationChecking){if(this.users.has(e)){var s=this.users.get(e);if(s==t)return;this.updateReaction(s,o.DECREMENT)}this.users.set(e,t)}this.updateReaction(t,o.INCREMENT),this.emit("reaction",e,t)},t.prototype.resetStorage=function(){this.users.clear(),this.reactions.clear(),console.log("[Storage]","Reset users and reactions!")},t.prototype.getValues=function(){var e=this,t=[],s=new Map;a.reactions.forEach((function(n){s.set(n.sorting,e.getReaction(n)),t.push(n.sorting)}));for(var n=0;n<t.length;n++)for(var i=0;i<t.length;i++)if(n!=i){var o=t[n],r=t[i];o<r&&(t[n]=r,t[i]=o)}var c=[];for(n=0;n<t.length;n++)c.push(s.get(t[n]));return c},t.prototype.drawChart=function(e){var t=this.getValues();e.draw(t,!0,!0)},t}(r.EventEmitter);t.ReactionStorage=c},887:()=>{},418:()=>{}},t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL2Fzc2V0cy9zdHlsZXMvbWFpbi5zY3NzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy9hc3NldHMvc3R5bGVzL21haW4uc2Nzcz9kOGFjIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL2FwaS5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvY2xpZW50LmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9jb21tYW5kcy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvZXZlbnRzLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL3BhcnNlci5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvdGltZXIuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9jaGFydHMvYmFyLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL2NoYXJ0LnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL3BpZS50cyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL3RzL2NoYXRzL2NoYXQudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9jaGF0cy90d2l0Y2guY2hhdC50cyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL3RzL2NvbG9yLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvam9iLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMva2V5d29yZHMudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9yZWFjdGlvbnN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsIkV2ZW50RW1pdHRlciIsImluaXQiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXZlbnRMaXN0ZW5lciIsImVycm9yTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImFyZ3VtZW50cyIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJtIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwiY3JlYXRlIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiYmluZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwiYXJnIiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImhhbmRsZXIiLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsIm9uIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXkiLCJrZXlzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsIm1lbW8iLCJnZXRUYXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiY2xpZW50IiwiQ2xpZW50IiwicmVxdWVzdCIsIl8iLCJjYWxsYmFjayIsInVybCIsInVyaSIsImlzVVJMIiwiaXNOb2RlIiwibWVyZ2UiLCJtZXRob2QiLCJqc29uIiwiaXNFeHRlbnNpb24iLCJpc1JlYWN0TmF0aXZlIiwiaGVhZGVycyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJzZW5kIiwiY2FsbGJhY2tOYW1lIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiYm9keSIsInNjcmlwdCIsInNyYyIsImluY2x1ZGVzIiwiYXBpIiwiY29tbWFuZHMiLCJldmVudEVtaXR0ZXIiLCJsb2dnZXIiLCJwYXJzZSIsInRpbWVyIiwid3MiLCJnIiwiV2ViU29ja2V0IiwiTW96V2ViU29ja2V0Iiwib3B0cyIsImNoYW5uZWxzIiwiY29ubmVjdGlvbiIsImlkZW50aXR5IiwiY2xpZW50SWQiLCJtYXhSZWNvbm5lY3RBdHRlbXB0cyIsIkluZmluaXR5IiwibWF4UmVjb25uZWN0SW50ZXJ2YWwiLCJyZWNvbm5lY3QiLCJyZWNvbm5lY3REZWNheSIsInJlY29ubmVjdEludGVydmFsIiwicmVjb25uZWN0aW5nIiwicmVjb25uZWN0aW9ucyIsInJlY29ubmVjdFRpbWVyIiwic2VjdXJlIiwiZW1vdGVzIiwiZW1vdGVzZXRzIiwiY3VycmVudExhdGVuY3kiLCJnbG9iYWx1c2Vyc3RhdGUiLCJsYXN0Sm9pbmVkIiwibGF0ZW5jeSIsIkRhdGUiLCJtb2RlcmF0b3JzIiwicGluZ0xvb3AiLCJwaW5nVGltZW91dCIsInJlYXNvbiIsInVzZXJuYW1lIiwidXNlcnN0YXRlIiwid2FzQ2xvc2VDYWxsZWQiLCJsZXZlbCIsImRlYnVnIiwibG9nIiwic2V0TGV2ZWwiLCJwYXJ0IiwidGhlQXJyYXkiLCJjaGFubmVsIiwibWV0aG9kTmFtZSIsImluaGVyaXRzIiwiaGFuZGxlTWVzc2FnZSIsImlzTnVsbCIsInBhcmFtcyIsIm1zZyIsIm1zZ2lkIiwidGFncyIsImJhZGdlcyIsImJhZGdlSW5mbyIsImlzQm9vbGVhbiIsImlzU3RyaW5nIiwidW5lc2NhcGVJUkMiLCJwcmVmaXgiLCJjb21tYW5kIiwiY3VyckRhdGUiLCJnZXRUaW1lIiwiZW1pdHMiLCJjbGVhclRpbWVvdXQiLCJpbmZvIiwic2VydmVyIiwicG9ydCIsInNldEludGVydmFsIiwic2V0VGltZW91dCIsImNsb3NlIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVvdXQiLCJqb2luUXVldWUiLCJxdWV1ZSIsImpvaW5DaGFubmVscyIsInVuaW9uIiwiYWRkIiwiY2F0Y2giLCJydW4iLCJudWxsQXJyIiwibm90aWNlQXJyIiwiY2hhbm5lbFRydWVBcnIiLCJjaGFubmVsRmFsc2VBcnIiLCJub3RpY2VBbmROdWxsIiwibm90aWNlQW5kTXNnaWQiLCJiYXNpY0xvZyIsIm1vZHMiLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJ2aXBzIiwicmVtYWluaW5nSG9zdCIsInBhcnNlSW50IiwicGxhbiIsInBsYW5OYW1lIiwibWV0aG9kcyIsInByaW1lIiwic3RyZWFrTW9udGhzIiwicmVjaXBpZW50IiwiZ2lmdFN1YkNvdW50Iiwic2VuZGVyIiwidmlld2VycyIsIm1zZ1NwbGl0IiwiZHVyYXRpb24iLCJkZWxldGVkTWVzc2FnZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiaXNKdXN0aW5mYW4iLCJnZXRVc2VybmFtZSIsIl91cGRhdGVFbW90ZXNldCIsImhhc093blByb3BlcnR5Iiwic2xvdyIsImVuYWJsZWQiLCJkaXNhYmxlZCIsIm5pY2siLCJpc1NlbGYiLCJpbmRleE9mIiwiYXV0b2hvc3QiLCJleHRyYWN0TnVtYmVyIiwiYWN0aW9uTWVzc2FnZSIsIl9vcGVuQ29ubmVjdGlvbiIsIm9ubWVzc2FnZSIsIl9vbk1lc3NhZ2UiLCJvbmVycm9yIiwiX29uRXJyb3IiLCJvbmNsb3NlIiwiX29uQ2xvc2UiLCJvbm9wZW4iLCJfb25PcGVuIiwianVzdGluZmFuIiwicGFzc3dvcmQiLCJldmVudCIsInN0ciIsIl9nZXRQcm9taXNlRGVsYXkiLCJfc2VuZENvbW1hbmQiLCJkZWxheSIsImZuIiwicHJvbWlzZURlbGF5IiwidGhlbiIsImNoYW4iLCJfc2VuZE1lc3NhZ2UiLCJzcGxpdExpbmUiLCJlbW90ZSIsImlzUmVnZXgiLCJjb2RlIiwiZW1vdGVSZWdleCIsImVtb3RlU3RyaW5nIiwidHJhbnNmb3JtRW1vdGVzIiwic2V0cyIsInJlcGxhY2UiLCJyZXMiLCJnZXRPcHRpb25zIiwiZ2V0Q2hhbm5lbHMiLCJpc01vZCIsInRtaSIsImZvbGxvd2Vyc29ubHkiLCJtaW51dGVzIiwiZm9sbG93ZXJzb25seW9mZiIsInI5a2JldGEiLCJyOWtiZXRhb2ZmIiwic2Vjb25kcyIsInNsb3dvZmYiLCJhY3Rpb24iLCJiYW4iLCJjbGVhciIsImNvbG9yIiwibmV3Q29sb3IiLCJjb21tZXJjaWFsIiwiZGVsZXRlbWVzc2FnZSIsIm1lc3NhZ2VVVUlEIiwiZW1vdGVvbmx5IiwiZW1vdGVvbmx5b2ZmIiwiZm9sbG93ZXJzbW9kZSIsImZvbGxvd2Vyc21vZGVvZmYiLCJob3N0IiwicmVtYWluaW5nIiwiZXZlbnROYW1lIiwiaGFzRnVsZmlsbGVkIiwiam9pbmVkQ2hhbm5lbCIsIm1vZCIsImxlYXZlIiwicGluZyIsInBhcnNlRmxvYXQiLCJyOWttb2RlIiwicjlrbW9kZW9mZiIsInJhdyIsInNheSIsInN0YXJ0c1dpdGgiLCJzdWJzdHIiLCJzbG93bW9kZSIsInNsb3dtb2Rlb2ZmIiwic3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVyc29mZiIsImlzSW50ZWdlciIsInVuYmFuIiwidW5ob3N0IiwidW5tb2QiLCJ1bnZpcCIsInZpcCIsIndoaXNwZXIiLCJpc0Z1bmN0aW9uIiwiaXNPYmplY3QiLCJpc1VuZGVmaW5lZCIsInNlYXJjaFN0cmluZyIsInR5cGVzIiwidmFsdWVzIiwidmFsIiwidHJhY2UiLCJjaGFyQXQiLCJzZWFyY2hGb3IiLCJrIiwic3Vic3RyaW5nIiwiY3VycmVudExldmVsIiwibGV2ZWxzIiwiZm9ybWF0RGF0ZSIsImZhdGFsIiwibm9uc3BhY2VSZWdleCIsInBhcnNlQ29tcGxleFRhZyIsInRhZ0tleSIsInNwbEEiLCJzcGxCIiwic3BsQyIsInRhZ0lzU3RyaW5nIiwic3BsIiwicGFydHMiLCJsYXN0SW5kZXgiLCJtYXRjaCIsInJlZ2V4IiwiUmVnRXhwIiwidW5lc2NhcGVIdG1sIiwiZXhlYyIsInRyYW5zZm9ybWVkIiwibmV4dHNwYWNlIiwiY2hhckNvZGVBdCIsInJhd1RhZ3MiLCJ0YWciLCJwYWlyIiwiZGVmYXVsdERlbGF5IiwiYXQiLCJyZXNldCIsImFjdGlvbk1lc3NhZ2VSZWdleCIsImp1c3RpbkZhblJlZ2V4IiwidW5lc2NhcGVJUkNSZWdleCIsImlyY0VzY2FwZWRDaGFycyIsInMiLCJyIiwic2VsZiIsIm9iajEiLCJvYmoyIiwiaXNGaW5pdGUiLCJpbnQiLCJ0b051bWJlciIsImZsb29yIiwidGltZSIsInJlcGxhY2VBbGwiLCJ4Iiwic2FmZSIsInAiLCJhZGRXb3JkIiwibGluZSIsIndvcmQiLCJkYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnMiLCJnZXRNaW51dGVzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsIlRlbXBDdG9yIiwicHJvY2VzcyIsImNocm9tZSIsInJ1bnRpbWUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiYXNzaWduIiwiaW5wdXQiLCJsYXN0U3BhY2UiLCJsYXN0SW5kZXhPZiIsIm51bSIsInByZWNpc2lvbiIsImZhY3RvciIsInBvdyIsImFycjEiLCJoYXNoIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJyZXF1aXJlZFBpbmdzIiwiam9iIiwiSm9iIiwiY2hhdCIsIlR3aXRjaENoYXQiLCJjaGFydCIsImhhcyIsIlBpZSIsImVsZW1lbnRJZCIsImJhY2tncm91bmQiLCJ5IiwicmFkaXVzRmFjdG9yIiwiQmFyIiwiYmFyTWFyZ2luSGVpZ2h0IiwiYmFyTWFyZ2luV2lkdGgiLCJzdHJva2VNYXJnaW5IZWlnaHQiLCJzdHJva2VNYXJnaW5XaWR0aCIsInN0b3JhZ2UiLCJSZWFjdGlvblN0b3JhZ2UiLCJyZWFjdGlvbiIsIm1vZGUiLCJpc0FjdGl2ZSIsIlVwZGF0ZU1vZGUiLCJJTkNSRU1FTlQiLCJkcmF3Q2hhcnQiLCJyZXNldFN0b3JhZ2UiLCJGT05UX0RZTkFNSUMiLCJkZWZhdWx0QmFyUHJvcGVydGllcyIsInZhbHVlQ29sb3JzIiwiY29sb3JzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VJdGVyYXRpb25zIiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiZm9udFNpemVGYWN0b3IiLCJmb250Q29sb3JGYWN0b3IiLCJ0ZXh0Um91bmQiLCJwcm9wZXJ0aWVzIiwiZHJhdyIsImRyYXdUZXh0IiwicHJvcCIsInJlY3RXaWR0aCIsIndpZHRoIiwicmVjdEhlaWdodCIsImhlaWdodCIsImZvbnRNcCIsImN0eCIsImZvbnQiLCJzdHJva2VTdHlsZSIsImoiLCJiZWdpblBhdGgiLCJyZWN0Iiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwic3VtIiwicmVkdWNlIiwiYSIsImMiLCJsYXN0WCIsInBlcmNlbnRhZ2UiLCJ2YWx1ZVdpZHRoIiwiZmlsbFN0eWxlIiwiZmlsbCIsInR4dCIsImRhcmtlbkhleENvbG9yIiwiZmlsbFRleHQiLCJjbGVhclJlY3QiLCJDaGFydCIsImNhbnZhc0VsZW1lbnRJZCIsImRlZmF1bHRWaWV3IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiTE9DQVRJT05fQ0VOVEVSIiwiZGVmYXVsdFBpZVBhcmFtcyIsIm1pbiIsImVuZEFuZ2xlIiwiY3VycmVudEFuZ2xlIiwiUEkiLCJtb3ZlVG8iLCJhcmMiLCJiZXRhIiwidCIsIkFicyIsIlR4Iiwic2luIiwiVHkiLCJjb3MiLCJvbk1lc3NhZ2UiLCJlbWl0TWVzc2FnZSIsIkNoYXQiLCJ1IiwiUkdCMkhleCIsImIiLCJsZWFkaW5nSGFzaCIsIkhleDJSR0IiLCJoZXgiLCJyZ2IiLCJkYXJrZW5SR0JDb2xvciIsIm1wIiwibWF4IiwiY3VycmVudCIsImN1cnJlbnRQaW5nIiwib25UaW1lIiwic3RvcFRpbWVyIiwicmVhY3Rpb25zIiwic29ydGluZyIsImRpc3BsYXkiLCJrZXl3b3JkcyIsImtleXdvcmQiLCJkdXBsaWNhdGlvbkNoZWNraW5nIiwidXNlcnMiLCJNYXAiLCJnZXRSZWFjdGlvbkJ5S2V5d29yZCIsInJlYWN0IiwiZ2V0UmVhY3Rpb24iLCJ1cGRhdGVSZWFjdGlvbiIsIkRFQ1JFTUVOVCIsIm9sZFJlYWN0aW9uIiwiZ2V0VmFsdWVzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsImdsb2JhbFRoaXMiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6InVGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLEdBQUksR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLEdBQUcsTUFBUSxHQUFHLFNBQVcsR0FBRyxXQUFhLE1BRWhILFcscUJDQ0FELEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNk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VSxlQUFlNVUsS0FBSzRJLEVBQUswWixHQ0NqRm1GLEVBQW9CdEssRUFBSzlmLElBQ0gsb0JBQVh5QixRQUEwQkEsT0FBT21wQixhQUMxQ2pwQixPQUFPeUcsZUFBZXBJLEVBQVN5QixPQUFPbXBCLFlBQWEsQ0FBRXhvQixNQUFPLFdBRTdEVCxPQUFPeUcsZUFBZXBJLEVBQVMsYUFBYyxDQUFFb0MsT0FBTyxLQ0h2RGdvQixFQUFvQixNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJcIixcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIGlmIChlcnJvckxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgLy8gQWRkaW5nIGFuIGVycm9yIGxpc3RlbmVyIGlzIG5vdCBvcHRpb25hbCBiZWNhdXNlXG4gICAgLy8gaWYgYW4gZXJyb3IgaXMgdGhyb3duIG9uIGFuIGV2ZW50IGVtaXR0ZXIgd2UgY2Fubm90XG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgd2FpdGluZyB3aWxsXG4gICAgLy8gYmUgZmlyZWQuIFRoZSByZXN1bHQgY291bGQgYmUgYSBzaWxlbnQgd2F5IHRvIGNyZWF0ZVxuICAgIC8vIG1lbW9yeSBvciBmaWxlIGRlc2NyaXB0b3IgbGVha3MsIHdoaWNoIGlzIHNvbWV0aGluZ1xuICAgIC8vIHdlIHNob3VsZCBhdm9pZC5cbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVtaXR0ZXIub25jZShuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLnNjc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRjbGllbnQ6IHJlcXVpcmUoXCIuL2xpYi9jbGllbnRcIiksXG5cdENsaWVudDogcmVxdWlyZShcIi4vbGliL2NsaWVudFwiKVxufTtcbiIsInZhciByZXF1ZXN0ID0gcmVxdWlyZShcInJlcXVlc3RcIik7XG52YXIgXyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgYXBpID0gZnVuY3Rpb24gYXBpKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgLy8gU2V0IHRoZSB1cmwgdG8gb3B0aW9ucy51cmkgb3Igb3B0aW9ucy51cmwuLlxuICAgIHZhciB1cmwgPSBfLmdldChvcHRpb25zLnVybCwgbnVsbCkgPT09IG51bGwgPyBfLmdldChvcHRpb25zLnVyaSwgbnVsbCkgOiBfLmdldChvcHRpb25zLnVybCwgbnVsbCk7XG5cbiAgICAvLyBNYWtlIHN1cmUgaXQgaXMgYSB2YWxpZCB1cmwuLlxuICAgIGlmICghXy5pc1VSTCh1cmwpKSB7IHVybCA9IFwiaHR0cHM6Ly9hcGkudHdpdGNoLnR2L2tyYWtlblwiICsgKHVybFswXSA9PT0gXCIvXCIgPyB1cmwgOiBgLyR7dXJsfWApOyB9XG5cbiAgICAvLyBXZSBhcmUgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiwgc28gd2UgY2FuIHVzZSB0aGUgcmVxdWVzdCBtb2R1bGUuLlxuICAgIGlmIChfLmlzTm9kZSgpKSB7XG4gICAgICAgIHJlcXVlc3QoXy5tZXJnZSh7IG1ldGhvZDogXCJHRVRcIiwganNvbjogdHJ1ZSB9LCBvcHRpb25zLCB7IHVybDogdXJsIH0pLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhbiBleHRlbnNpb24gLT4gd2UgY2Fubm90IHVzZSBqc29ucCFcbiAgICBlbHNlIGlmIChfLmlzRXh0ZW5zaW9uKCkgfHwgXy5pc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IF8ubWVyZ2UoeyB1cmw6IHVybCwgbWV0aG9kOiBcIkdFVFwiLCBoZWFkZXJzOiB7fSB9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gcHJlcGFyZSByZXF1ZXN0XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsLCB0cnVlKTtcbiAgICAgICAgZm9yKHZhciBuYW1lIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgb3B0aW9ucy5oZWFkZXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIC8vIHNldCByZXF1ZXN0IGhhbmRsZXJcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhoci5zdGF0dXMsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gc3VibWl0XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhIHdlYiBhcHBsaWNhdGlvbiwgdXNlIGpzb25wLi5cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQ2FsbGJhY2tzIG11c3QgbWF0Y2ggdGhlIHJlZ2V4IFthLXpBLVpfJF1bXFx3JF0qKFxcLlthLXpBLVpfJF1bXFx3JF0qKSpcbiAgICAgICAgdmFyIGNhbGxiYWNrTmFtZSA9IGBqc29ucF9jYWxsYmFja18ke01hdGgucm91bmQoMTAwMDAwICogTWF0aC5yYW5kb20oKSl9YDtcbiAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgd2luZG93W2NhbGxiYWNrTmFtZV07XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsLCBkYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbmplY3QgdGhlIHNjcmlwdCBpbiB0aGUgZG9jdW1lbnQuLlxuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0LnNyYyA9IGAke3VybH0ke3VybC5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifWNhbGxiYWNrPSR7Y2FsbGJhY2tOYW1lfWA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIuL2FwaVwiKTtcbnZhciBjb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzXCIpO1xudmFyIGV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2V2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG52YXIgbG9nZ2VyID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xudmFyIHBhcnNlID0gcmVxdWlyZShcIi4vcGFyc2VyXCIpO1xudmFyIHRpbWVyID0gcmVxdWlyZShcIi4vdGltZXJcIik7XG52YXIgd3MgPSBnbG9iYWwuV2ViU29ja2V0IHx8IGdsb2JhbC5Nb3pXZWJTb2NrZXQgfHwgcmVxdWlyZShcIndzXCIpO1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuLy8gQ2xpZW50IGluc3RhbmNlLi5cbnZhciBjbGllbnQgPSBmdW5jdGlvbiBjbGllbnQob3B0cykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgY2xpZW50ID09PSBmYWxzZSkgeyByZXR1cm4gbmV3IGNsaWVudChvcHRzKTsgfVxuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKDApO1xuXG4gICAgdGhpcy5vcHRzID0gXy5nZXQob3B0cywge30pO1xuICAgIHRoaXMub3B0cy5jaGFubmVscyA9IHRoaXMub3B0cy5jaGFubmVscyB8fCBbXTtcbiAgICB0aGlzLm9wdHMuY29ubmVjdGlvbiA9IHRoaXMub3B0cy5jb25uZWN0aW9uIHx8IHt9O1xuICAgIHRoaXMub3B0cy5pZGVudGl0eSA9IHRoaXMub3B0cy5pZGVudGl0eSB8fCB7fTtcbiAgICB0aGlzLm9wdHMub3B0aW9ucyA9IHRoaXMub3B0cy5vcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5jbGllbnRJZCA9IF8uZ2V0KHRoaXMub3B0cy5vcHRpb25zLmNsaWVudElkLCBudWxsKTtcblxuICAgIHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RBdHRlbXB0cywgSW5maW5pdHkpO1xuICAgIHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RJbnRlcnZhbCwgMzAwMDApO1xuICAgIHRoaXMucmVjb25uZWN0ID0gXy5nZXQodGhpcy5vcHRzLmNvbm5lY3Rpb24ucmVjb25uZWN0LCBmYWxzZSk7XG4gICAgdGhpcy5yZWNvbm5lY3REZWNheSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnJlY29ubmVjdERlY2F5LCAxLjUpO1xuICAgIHRoaXMucmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5yZWNvbm5lY3RJbnRlcnZhbCwgMTAwMCk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVjb25uZWN0aW9ucyA9IDA7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHRoaXMucmVjb25uZWN0SW50ZXJ2YWw7XG5cbiAgICB0aGlzLnNlY3VyZSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlY3VyZSwgZmFsc2UpO1xuXG4gICAgLy8gUmF3IGRhdGEgYW5kIG9iamVjdCBmb3IgZW1vdGUtc2V0cy4uXG4gICAgdGhpcy5lbW90ZXMgPSBcIlwiO1xuICAgIHRoaXMuZW1vdGVzZXRzID0ge307XG5cbiAgICB0aGlzLmNoYW5uZWxzID0gW107XG4gICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IDA7XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcbiAgICB0aGlzLmxhc3RKb2luZWQgPSBcIlwiO1xuICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5tb2RlcmF0b3JzID0ge307XG4gICAgdGhpcy5waW5nTG9vcCA9IG51bGw7XG4gICAgdGhpcy5waW5nVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5yZWFzb24gPSBcIlwiO1xuICAgIHRoaXMudXNlcm5hbWUgPSBcIlwiO1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMud3MgPSBudWxsO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBsb2dnZXIuLlxuICAgIHZhciBsZXZlbCA9IFwiZXJyb3JcIjtcbiAgICBpZiAodGhpcy5vcHRzLm9wdGlvbnMuZGVidWcpIHsgbGV2ZWwgPSBcImluZm9cIjsgfVxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRzLmxvZ2dlciB8fCBsb2dnZXI7XG5cbiAgICB0cnkgeyBsb2dnZXIuc2V0TGV2ZWwobGV2ZWwpOyB9IGNhdGNoKGUpIHt9O1xuXG4gICAgLy8gRm9ybWF0IHRoZSBjaGFubmVsIG5hbWVzLi5cbiAgICB0aGlzLm9wdHMuY2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0LCBpbmRleCwgdGhlQXJyYXkpIHtcbiAgICAgICAgdGhlQXJyYXlbaW5kZXhdID0gXy5jaGFubmVsKHBhcnQpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbl8uaW5oZXJpdHMoY2xpZW50LCBldmVudEVtaXR0ZXIpO1xuXG5jbGllbnQucHJvdG90eXBlLmFwaSA9IGFwaTtcblxuLy8gUHV0IGFsbCBjb21tYW5kcyBpbiBwcm90b3R5cGUuLlxuZm9yKHZhciBtZXRob2ROYW1lIGluIGNvbW1hbmRzKSB7XG4gICAgY2xpZW50LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGNvbW1hbmRzW21ldGhvZE5hbWVdO1xufVxuXG4vLyBIYW5kbGUgcGFyc2VkIGNoYXQgc2VydmVyIG1lc3NhZ2UuLlxuY2xpZW50LnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoXCJyYXdfbWVzc2FnZVwiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKSwgbWVzc2FnZSk7XG5cbiAgICB2YXIgY2hhbm5lbCA9IF8uY2hhbm5lbChfLmdldChtZXNzYWdlLnBhcmFtc1swXSwgbnVsbCkpO1xuICAgIHZhciBtc2cgPSBfLmdldChtZXNzYWdlLnBhcmFtc1sxXSwgbnVsbCk7XG4gICAgdmFyIG1zZ2lkID0gXy5nZXQobWVzc2FnZS50YWdzW1wibXNnLWlkXCJdLCBudWxsKTtcblxuICAgIC8vIFBhcnNlIGJhZGdlcywgYmFkZ2UtaW5mbyBhbmQgZW1vdGVzLi5cbiAgICBtZXNzYWdlLnRhZ3MgPSBwYXJzZS5iYWRnZXMocGFyc2UuYmFkZ2VJbmZvKHBhcnNlLmVtb3RlcyhtZXNzYWdlLnRhZ3MpKSk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gSVJDdjMgdGFncy4uXG4gICAgaWYgKG1lc3NhZ2UudGFncykge1xuICAgICAgICB2YXIgdGFncyA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGFncykge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJlbW90ZS1zZXRzXCIgJiYga2V5ICE9PSBcImJhbi1kdXJhdGlvblwiICYmIGtleSAhPT0gXCJiaXRzXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0YWdzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNCb29sZWFuKHZhbHVlKSkgeyB2YWx1ZSA9IG51bGw7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gXCIxXCIpIHsgdmFsdWUgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IFwiMFwiKSB7IHZhbHVlID0gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfLmlzU3RyaW5nKHZhbHVlKSkgeyB2YWx1ZSA9IF8udW5lc2NhcGVJUkModmFsdWUpOyB9XG4gICAgICAgICAgICAgICAgdGFnc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNZXNzYWdlcyB3aXRoIG5vIHByZWZpeC4uXG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UucHJlZml4KSkge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBQSU5HIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJQSU5HXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicGluZ1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQT05HXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgUE9ORyBmcm9tIHNlcnZlciwgcmV0dXJuIGN1cnJlbnQgbGF0ZW5jeS4uXG4gICAgICAgICAgICBjYXNlIFwiUE9OR1wiOlxuICAgICAgICAgICAgICAgIHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IChjdXJyRGF0ZS5nZXRUaW1lKCkgLSB0aGlzLmxhdGVuY3kuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJwb25nXCIsIFwiX3Byb21pc2VQaW5nXCJdLCBbW3RoaXMuY3VycmVudExhdGVuY3ldXSk7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2Ugd2l0aCBubyBwcmVmaXg6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIHdpdGggXCJ0bWkudHdpdGNoLnR2XCIgYXMgYSBwcmVmaXguLlxuICAgIGVsc2UgaWYgKG1lc3NhZ2UucHJlZml4ID09PSBcInRtaS50d2l0Y2gudHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMDAyXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDAzXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDA0XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc1XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc2XCI6XG4gICAgICAgICAgICBjYXNlIFwiQ0FQXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHVzZXJuYW1lIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCIwMDFcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gbWVzc2FnZS5wYXJhbXNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIENvbm5lY3RlZCB0byBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIjM3MlwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJDb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzdGF0ZVtcIiN0bWlqc1wiXSA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY29ubmVjdGVkXCIsIFwiX3Byb21pc2VDb25uZWN0XCJdLCBbW3RoaXMuc2VydmVyLCB0aGlzLnBvcnRdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbnMgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLnJlY29ubmVjdEludGVydmFsO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFuIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICAgICAgdGhpcy5waW5nTG9vcCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBjb25uZWN0aW9uIGlzIG9wZW5lZCBiZWZvcmUgc2VuZGluZyB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQSU5HXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5waW5nTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi50aW1lb3V0LCA5OTk5KSk7XG4gICAgICAgICAgICAgICAgfSwgNjAwMDApO1xuXG4gICAgICAgICAgICAgICAgLy8gSm9pbiBhbGwgdGhlIGNoYW5uZWxzIGZyb20gY29uZmlndXJhdGlvbiB3aXRoIGEgMiBzZWNvbmRzIGludGVydmFsLi5cbiAgICAgICAgICAgICAgICB2YXIgam9pblF1ZXVlID0gbmV3IHRpbWVyLnF1ZXVlKDIwMDApO1xuICAgICAgICAgICAgICAgIHZhciBqb2luQ2hhbm5lbHMgPSBfLnVuaW9uKHRoaXMub3B0cy5jaGFubmVscywgdGhpcy5jaGFubmVscyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqb2luQ2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWwgPSBqb2luQ2hhbm5lbHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzTnVsbCh0aGlzLndzKSAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW4oY2hhbm5lbCkuY2F0Y2goZXJyID0+IHsgdGhpcy5sb2cuZXJyb3IoZXJyKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5ydW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1c3RpbnR2L1R3aXRjaC1BUEkvYmxvYi9tYXN0ZXIvY2hhdC9jYXBhYmlsaXRpZXMubWQjbm90aWNlXG4gICAgICAgICAgICBjYXNlIFwiTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIG51bGxBcnIgPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgdmFyIG5vdGljZUFyciA9IFtjaGFubmVsLCBtc2dpZCwgbXNnXTtcbiAgICAgICAgICAgICAgICB2YXIgbXNnaWRBcnIgPSBbbXNnaWRdO1xuICAgICAgICAgICAgICAgIHZhciBjaGFubmVsVHJ1ZUFyciA9IFtjaGFubmVsLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbEZhbHNlQXJyID0gW2NoYW5uZWwsIGZhbHNlXTtcbiAgICAgICAgICAgICAgICB2YXIgbm90aWNlQW5kTnVsbCA9IFtub3RpY2VBcnIsIG51bGxBcnJdO1xuICAgICAgICAgICAgICAgIHZhciBub3RpY2VBbmRNc2dpZCA9IFtub3RpY2VBcnIsIG1zZ2lkQXJyXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzaWNMb2cgPSBgWyR7Y2hhbm5lbH1dICR7bXNnfWA7XG4gICAgICAgICAgICAgICAgc3dpdGNoKG1zZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJzdWJzY3JpYmVyXCIsIFwic3Vic2NyaWJlcnNcIiwgXCJfcHJvbWlzZVN1YnNjcmliZXJzXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHN1YnNjcmliZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBzdWJzY3JpYmVycy1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInN1YnNjcmliZXJcIiwgXCJzdWJzY3JpYmVyc1wiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIGNoYW5uZWxGYWxzZUFyciwgbnVsbEFycl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImVtb3Rlb25seVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5XCJdLCBbY2hhbm5lbFRydWVBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZW1vdGUtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW1vdGVfb25seV9vZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIGVtb3RlLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZW1vdGVvbmx5XCIsIFwiX3Byb21pc2VFbW90ZW9ubHlvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBoYW5kbGUgc2xvd19vbi9vZmYgaGVyZSwgbGlzdGVuIHRvIHRoZSBST09NU1RBVEUgbm90aWNlIGluc3RlYWQgYXMgaXQgcmV0dXJucyB0aGUgZGVsYXkuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IGhhbmRsZSBmb2xsb3dlcnNfb24vb2ZmIGhlcmUsIGxpc3RlbiB0byB0aGUgUk9PTVNUQVRFIG5vdGljZSBpbnN0ZWFkIGFzIGl0IHJldHVybnMgdGhlIGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29uX3plcm9cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvbGxvd2Vyc19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiByOWsgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInI5a19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHI5ayBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicjlrX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBbY2hhbm5lbEZhbHNlQXJyLCBjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbSBhcmU6IFsuLi4sIC4uLl1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJvb21fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZHMgPSBtc2cuc3BsaXQoXCI6IFwiKVsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiLCBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VNb2RzXCIsIFwibW9kc1wiXSwgW1tudWxsLCBtb2RzXSwgW2NoYW5uZWwsIG1vZHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9kZXJhdG9ycyBmb3IgdGhpcyByb29tLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZU1vZHNcIiwgXCJtb2RzXCJdLCBbW251bGwsIFtdXSwgW2NoYW5uZWwsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFZJUHMgb2YgdGhpcyBjaGFubmVsIGFyZTogWy4uLiwgLi4uXVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmlwc19zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmVuZHNXaXRoKFwiLlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlwcyA9IG1zZy5zcGxpdChcIjogXCIpWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCB2aXBzXSwgW2NoYW5uZWwsIHZpcHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIG5vIFZJUHMgZm9yIHRoaXMgcm9vbS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vX3ZpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCBbXV0sIFtjaGFubmVsLCBbXV1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJhbiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfYmFuX3NlbGZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9iYW5fc3RhZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBCYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhbl9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VCYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY2xlYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNsZWFyXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2RzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZU1vZHNcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2QgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQcyBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV92aXBzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBzXCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3ZpcFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2FscmVhZHlfdmlwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBWSVAgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZpcF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX21vZF9iYW5uZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBVbnZpcCBjb21tYW5kIHN1Y2Nlc3MuLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVudmlwX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmROdWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VubW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdW5tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW52aXAgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW52aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bnZpcF9ncmFudGVlX25vdF92aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29sb3JfY2hhbmdlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29sb3JcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sb3IgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInR1cmJvX29ubHlfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbG9yXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb21tZXJjaWFsIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21tZXJjaWFsX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWVyY2lhbCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9jb21tZXJjaWFsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfY29tbWVyY2lhbF9lcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29tbWVyY2lhbFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSG9zdCBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdHNfcmVtYWluaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb3N0ID0gKCFpc05hTihtc2dbMF0pID8gcGFyc2VJbnQobXNnWzBdKSA6IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUhvc3RcIl0sIFtub3RpY2VBcnIsIFtudWxsLCB+fnJlbWFpbmluZ0hvc3RdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIb3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X3JhdGVfZXhjZWVkZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2Vycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9ob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VIb3N0XCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIG51bGxdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyByOWtiZXRhIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfcjlrX29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVI5a2JldGFcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHI5a2JldGFvZmYgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lb3V0X3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVRpbWVvdXRcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZV9tZXNzYWdlX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9ICR7bXNnfV1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCJdLCBub3RpY2VBbmROdWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpYmVyc29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X3N1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zdWJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmliZXJzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVtb3Rlb25seW9mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Vtb3RlX29ubHlfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBFbW90ZW9ubHkgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VFbW90ZW9ubHlcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNsb3cgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc2xvd19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2xvd29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd29mZlwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZW91dCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV90aW1lb3V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3RpbWVvdXRfYnJvYWRjYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF90aW1lb3V0X2R1cmF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zdGFmZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVGltZW91dFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY2FuIGFsc28gYmUgdXNlZCB0byBjYW5jZWwgYW4gYWN0aXZlIHRpbWVvdXQuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bnRpbWVvdXRfc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5iYW5fc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVW5iYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW5iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bmJhbl9ub19iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuYmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfZGVsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfZGVsZXRlX21lc3NhZ2VfZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9kZWxldGVfbWVzc2FnZV9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2RlbGV0ZV9tZXNzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRGVsZXRlbWVzc2FnZVwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5ob3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VuaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm90X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuaG9zdFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hpc3BlciBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2ludmFsaWRfbG9naW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfaW52YWxpZF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2xpbWl0X3Blcl9taW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfbGltaXRfcGVyX3NlY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2hpc3Blcl9yZXN0cmljdGVkX3JlY2lwaWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlV2hpc3BlclwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGVybWlzc2lvbiBlcnJvci4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19wZXJtaXNzaW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfYmFubmVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcm9vbV9ub3RfZm91bmRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jaGFubmVsX3N1c3BlbmRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9zX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vdGljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VCYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlQ2xlYXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVW5iYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVGltZW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZU1vZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlTW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVubW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVZpcHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVudmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VVbmhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSm9pblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VQYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVI5a2JldGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlUjlrYmV0YW9mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTbG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVNsb3dvZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRm9sbG93ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUZvbGxvd2Vyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VFbW90ZW9ubHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIFtub3RpY2VBcnIsIFttc2dpZCwgY2hhbm5lbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0b21vZC1yZWxhdGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19yZWplY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3JlamVjdGVkX21hbmRhdG9yeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhdXRvbW9kXCIsIGNoYW5uZWwsIG1zZ2lkLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5yZWNvZ25pemVkIGNvbW1hbmQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2NtZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBmb2xsb3dpbmcgbXNnLWlkcyB0byB0aGUgbm90aWNlIGV2ZW50IGxpc3RlbmVyLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNtZHNfYXZhaWxhYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0X3RhcmdldF93ZW50X29mZmxpbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jZW5zb3JlZF9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2R1cGxpY2F0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2Vtb3Rlb25seVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3ZlcmlmaWVkX2VtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcmF0ZWxpbWl0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3Vic29ubHlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ190aW1lZG91dFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2JhZF9jaGFyYWN0ZXJzXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfY2hhbm5lbF9ibG9ja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZmFjZWJvb2tcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19mb2xsb3dlcnNvbmx5XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZm9sbG93ZXJzb25seV9mb2xsb3dlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2ZvbGxvd2Vyc29ubHlfemVyb1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3Nsb3dtb2RlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3VzcGVuZGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9kaXNjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9tZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhpcyBiZWNhdXNlIHdlIGFyZSBhbHJlYWR5IGxpc3RlbmluZyB0byBIT1NUVEFSR0VULi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pbmNsdWRlcyhcIkxvZ2luIHVuc3VjY2Vzc2Z1bFwiKSB8fCBtc2cuaW5jbHVkZXMoXCJMb2dpbiBhdXRoZW50aWNhdGlvbiBmYWlsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXNvbiA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnLmluY2x1ZGVzKFwiRXJyb3IgbG9nZ2luZyBpblwiKSB8fCBtc2cuaW5jbHVkZXMoXCJJbXByb3Blcmx5IGZvcm1hdHRlZCBhdXRoXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFzb24gPSBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcIkludmFsaWQgTklDS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhc29uID0gXCJJbnZhbGlkIE5JQ0suXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLndhcm4oYENvdWxkIG5vdCBwYXJzZSBOT1RJQ0UgZnJvbSB0bWkudHdpdGNoLnR2OlxcbiR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZSwgbnVsbCwgNCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJhbm5pdmVyc2FyeSAvIHJlc3ViLi5cbiAgICAgICAgICAgIGNhc2UgXCJVU0VSTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wiZGlzcGxheS1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcImxvZ2luXCJdO1xuICAgICAgICAgICAgICAgIHZhciBwbGFuID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXN1Yi1wbGFuXCJdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHBsYW5OYW1lID0gXy51bmVzY2FwZUlSQyhfLmdldChtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3ViLXBsYW4tbmFtZVwiXSwgXCJcIikpIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1lID0gcGxhbi5pbmNsdWRlcyhcIlByaW1lXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtZXRob2RzID0geyBwcmltZSwgcGxhbiwgcGxhbk5hbWUgfTtcbiAgICAgICAgICAgICAgICB2YXIgdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIHZhciBzdHJlYWtNb250aHMgPSB+fihtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3RyZWFrLW1vbnRoc1wiXSB8fCAwKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjaXBpZW50ID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC1kaXNwbGF5LW5hbWVcIl0gfHwgbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC11c2VyLW5hbWVcIl07XG4gICAgICAgICAgICAgICAgdmFyIGdpZnRTdWJDb3VudCA9IH5+bWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLW1hc3MtZ2lmdC1jb3VudFwiXTtcbiAgICAgICAgICAgICAgICB1c2Vyc3RhdGVbXCJtZXNzYWdlLXR5cGVcIl0gPSBtc2dpZDtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChtc2dpZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmVzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc3ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInJlc3ViXCIsIFwic3ViYW5uaXZlcnNhcnlcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgbXNnLCB1c2Vyc3RhdGUsIG1ldGhvZHNdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3Vic2NyaXB0aW9uXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCBtZXRob2RzLCBtc2csIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZ2lmdCBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN1YmdpZnRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyBnaWZ0IHN1YlxuICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHByb29mIHRoYXQgdGhpcyBldmVudCBvY2N1clxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5vbnN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJnaWZ0XCIsIGNoYW5uZWwsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhbmRvbSBnaWZ0IHN1YnNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1Ym15c3RlcnlnaWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCB1c2VybmFtZSwgZ2lmdFN1YkNvdW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyByYW5kb20gZ2lmdCBzdWJzXG4gICAgICAgICAgICAgICAgICAgIC8vIE5lZWQgcHJvb2YgdGhhdCB0aGlzIGV2ZW50IG9jY3VyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uc3VibXlzdGVyeWdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCBnaWZ0U3ViQ291bnQsIG1ldGhvZHMsIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdXNlciB1cGdyYWRpbmcgZnJvbSBQcmltZSB0byBhIG5vcm1hbCB0aWVyIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJpbWVwYWlkdXBncmFkZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicHJpbWVwYWlkdXBncmFkZVwiLCBjaGFubmVsLCB1c2VybmFtZSwgbWV0aG9kcywgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGEgZ2lmdGVkIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZGVyID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXNlbmRlci1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1zZW5kZXItbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJnaWZ0cGFpZHVwZ3JhZGVcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHNlbmRlciwgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGFuIGFub255bW91cyBnaWZ0ZWQgc3ViXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhaWRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJhaWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1kaXNwbGF5TmFtZVwiXSB8fCBtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlld2VycyA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS12aWV3ZXJDb3VudFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJhaWRlZFwiLCBjaGFubmVsLCB1c2VybmFtZSwgdmlld2Vycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gQ2hhbm5lbCBpcyBub3cgaG9zdGluZyBhbm90aGVyIGNoYW5uZWwgb3IgZXhpdGVkIGhvc3QgbW9kZS4uXG4gICAgICAgICAgICBjYXNlIFwiSE9TVFRBUkdFVFwiOlxuICAgICAgICAgICAgICAgIHZhciBtc2dTcGxpdCA9IG1zZy5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdlcnMgPSB+fm1zZ1NwbGl0WzFdIHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gU3RvcHBlZCBob3N0aW5nLi5cbiAgICAgICAgICAgICAgICBpZiAobXNnU3BsaXRbMF0gPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBFeGl0ZWQgaG9zdCBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInVuaG9zdFwiLCBcIl9wcm9taXNlVW5ob3N0XCJdLCBbW2NoYW5uZWwsIHZpZXdlcnNdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm93IGhvc3RpbmcuLlxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gTm93IGhvc3RpbmcgJHttc2dTcGxpdFswXX0gZm9yICR7dmlld2Vyc30gdmlld2VyKHMpLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0aW5nXCIsIGNoYW5uZWwsIG1zZ1NwbGl0WzBdLCB2aWV3ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFNvbWVvbmUgaGFzIGJlZW4gdGltZWQgb3V0IG9yIGNoYXQgaGFzIGJlZW4gY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICBjYXNlIFwiQ0xFQVJDSEFUXCI6XG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYmVlbiBiYW5uZWQgLyB0aW1lZCBvdXQgYnkgYSBtb2RlcmF0b3IuLlxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIER1cmF0aW9uIHJldHVybnMgbnVsbCBpZiBpdCdzIGEgYmFuLCBvdGhlcndpc2UgaXQncyBhIHRpbWVvdXQuLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBfLmdldChtZXNzYWdlLnRhZ3NbXCJiYW4tZHVyYXRpb25cIl0sIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzTnVsbChkdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gYmFubmVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiYmFuXCIsIGNoYW5uZWwsIG1zZywgbnVsbCwgbWVzc2FnZS50YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gdGltZWQgb3V0IGZvciAke2R1cmF0aW9ufSBzZWNvbmRzLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidGltZW91dFwiLCBjaGFubmVsLCBtc2csIG51bGwsIH5+ZHVyYXRpb24sIG1lc3NhZ2UudGFncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hhdCB3YXMgY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBDaGF0IHdhcyBjbGVhcmVkIGJ5IGEgbW9kZXJhdG9yLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImNsZWFyY2hhdFwiLCBcIl9wcm9taXNlQ2xlYXJcIl0sIFtbY2hhbm5lbF0sIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgY2FzZSBcIkNMRUFSTVNHXCI6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wibG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVkTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzdGF0ZSA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJtZXNzYWdlZGVsZXRlZFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke3VzZXJuYW1lfSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZWRlbGV0ZWRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIGRlbGV0ZWRNZXNzYWdlLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgYSByZWNvbm5lY3Rpb24gcmVxdWVzdCBmcm9tIHRoZSBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIlJFQ09OTkVDVFwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJSZWNlaXZlZCBSRUNPTk5FQ1QgcmVxdWVzdCBmcm9tIFR3aXRjaC4uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYERpc2Nvbm5lY3RpbmcgYW5kIHJlY29ubmVjdGluZyBpbiAke01hdGgucm91bmQodGhpcy5yZWNvbm5lY3RUaW1lciAvIDEwMDApfSBzZWNvbmRzLi5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBSZWNlaXZlZCB3aGVuIGpvaW5pbmcgYSBjaGFubmVsIGFuZCBldmVyeSB0aW1lIHlvdSBzZW5kIGEgUFJJVk1TRyB0byBhIGNoYW5uZWwuXG4gICAgICAgICAgICBjYXNlIFwiVVNFUlNUQVRFXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY2xpZW50IHRvIHRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbS4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcInVzZXItdHlwZVwiXSA9PT0gXCJtb2RcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdKSB7IHRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdID0gW107IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5pbmNsdWRlcyh0aGlzLnVzZXJuYW1lKSkgeyB0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5wdXNoKHRoaXMudXNlcm5hbWUpOyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTG9nZ2VkIGluIGFuZCB1c2VybmFtZSBkb2Vzbid0IHN0YXJ0IHdpdGgganVzdGluZmFuLi5cbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSAmJiAhdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0gPSBtZXNzYWdlLnRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEpvaW5lZCA9IGNoYW5uZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMucHVzaChjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgSm9pbmVkICR7Y2hhbm5lbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBfLnVzZXJuYW1lKHRoaXMuZ2V0VXNlcm5hbWUoKSksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEVtb3RlLXNldHMgaGFzIGNoYW5nZWQsIHVwZGF0ZSBpdC4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0gIT09IHRoaXMuZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBEZXNjcmliZSBub24tY2hhbm5lbC1zcGVjaWZpYyBzdGF0ZSBpbmZvcm1hdGlvbnMuLlxuICAgICAgICAgICAgY2FzZSBcIkdMT0JBTFVTRVJTVEFURVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgZW1vdGUtc2V0cy4uXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnRhZ3NbXCJlbW90ZS1zZXRzXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgd2hlbiBqb2luaW5nIGEgY2hhbm5lbCBhbmQgZXZlcnkgdGltZSBvbmUgb2YgdGhlIGNoYXQgcm9vbSBzZXR0aW5ncywgbGlrZSBzbG93IG1vZGUsIGNoYW5nZS5cbiAgICAgICAgICAgIC8vIFRoZSBtZXNzYWdlIG9uIGpvaW4gY29udGFpbnMgYWxsIHJvb20gc2V0dGluZ3MuXG4gICAgICAgICAgICBjYXNlIFwiUk9PTVNUQVRFXCI6XG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoaXMgbm90aWNlIHRvIGtub3cgaWYgd2Ugc3VjY2Vzc2Z1bGx5IGpvaW5lZCBhIGNoYW5uZWwuLlxuICAgICAgICAgICAgICAgIGlmIChfLmNoYW5uZWwodGhpcy5sYXN0Sm9pbmVkKSA9PT0gY2hhbm5lbCkgeyB0aGlzLmVtaXQoXCJfcHJvbWlzZUpvaW5cIiwgbnVsbCwgY2hhbm5lbCk7IH1cblxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgdGhlIGNoYW5uZWwgbmFtZSBpbiB0aGUgdGFncyBiZWZvcmUgZW1pdHRpbmcgaXQuLlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFncy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyb29tc3RhdGVcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZS50YWdzLmhhc093blByb3BlcnR5KFwic3Vicy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzbG93IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBzbG93X29uL29mZiBub3RpY2UuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS4gWW91IG1heSBzZW5kIG1lc3NhZ2VzIGV2ZXJ5IHNsb3dfZHVyYXRpb24gc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInNsb3dcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS50YWdzLnNsb3cgPT09IFwiYm9vbGVhblwiICYmICFtZXNzYWdlLnRhZ3Muc2xvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gc2xvdyBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wic2xvd1wiLCBcInNsb3dtb2RlXCIsIFwiX3Byb21pc2VTbG93b2ZmXCJdLCBbZGlzYWJsZWQsIGRpc2FibGVkLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSB+fm1lc3NhZ2UudGFncy5zbG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmFibGVkID0gW2NoYW5uZWwsIHRydWUsIG1pbnV0ZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInNsb3dcIiwgXCJzbG93bW9kZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGZvbGxvd2VycyBvbmx5IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBmb2xsb3dlcnNfb24vb2ZmIG5vdGljZS4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIDxkdXJhdGlvbj4gZm9sbG93ZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBmb2xsb3dlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBkdXJhdGlvbiBpcyBpbiBtaW51dGVzIChzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIHdoZW4gL2ZvbGxvd2Vyc29mZiAoc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZSB3aGVuIC9mb2xsb3dlcnMgd2l0aCBubyBkdXJhdGlvbiAoYm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcImZvbGxvd2Vycy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl0gPT09IFwiLTFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZm9sbG93ZXJzLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImZvbGxvd2Vyc29ubHlcIiwgXCJmb2xsb3dlcnNtb2RlXCIsIFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIl0sIFtkaXNhYmxlZCwgZGlzYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IH5+bWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuYWJsZWQgPSBbY2hhbm5lbCwgdHJ1ZSwgbWludXRlc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZm9sbG93ZXJzb25seVwiLCBcImZvbGxvd2Vyc21vZGVcIiwgXCJfcHJvbWlzZUZvbGxvd2Vyc1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBXcm9uZyBjbHVzdGVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJTRVJWRVJDSEFOR0VcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBmcm9tIHRtaS50d2l0Y2gudHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIGZyb20ganR2Li5cbiAgICBlbHNlIGlmIChtZXNzYWdlLnByZWZpeCA9PT0gXCJqdHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiTU9ERVwiOlxuICAgICAgICAgICAgICAgIGlmIChtc2cgPT09IFwiK29cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdXNlcm5hbWUgdG8gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5pbmNsdWRlcyhtZXNzYWdlLnBhcmFtc1syXSkpIHsgdGhpcy5tb2RlcmF0b3JzW2NoYW5uZWxdLnB1c2gobWVzc2FnZS5wYXJhbXNbMl0pOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnID09PSBcIi1vXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHVzZXJuYW1lIGZyb20gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uZmlsdGVyKCh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUgIT0gbWVzc2FnZS5wYXJhbXNbMl07IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInVubW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgZnJvbSBqdHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFueXRoaW5nIGVsc2UuLlxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMzUzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibmFtZXNcIiwgbWVzc2FnZS5wYXJhbXNbMl0sIG1lc3NhZ2UucGFyYW1zWzNdLnNwbGl0KFwiIFwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCIzNjZcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSBoYXMgam9pbmVkIHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJKT0lOXCI6XG4gICAgICAgICAgICAgICAgdmFyIG5pY2sgPSBtZXNzYWdlLnByZWZpeC5zcGxpdChcIiFcIilbMF07XG4gICAgICAgICAgICAgICAgLy8gSm9pbmVkIGEgY2hhbm5lbCBhcyBhIGp1c3RpbmZhbiAoYW5vbnltb3VzKSB1c2VyLi5cbiAgICAgICAgICAgICAgICBpZiAoXy5pc0p1c3RpbmZhbih0aGlzLmdldFVzZXJuYW1lKCkpICYmIHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Sm9pbmVkID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscy5wdXNoKGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBKb2luZWQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJqb2luXCIsIGNoYW5uZWwsIG5pY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgZWxzZSBqb2luZWQgdGhlIGNoYW5uZWwsIGp1c3QgZW1pdCB0aGUgam9pbiBldmVudC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgIT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBuaWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBTb21lb25lIGhhcyBsZWZ0IHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJQQVJUXCI6XG4gICAgICAgICAgICAgICAgdmFyIGlzU2VsZiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIC8vIENsaWVudCBsZWZ0IGEgY2hhbm5lbC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdKSB7IGRlbGV0ZSB0aGlzLnVzZXJzdGF0ZVtjaGFubmVsXTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLmNoYW5uZWxzLnNwbGljZShpbmRleCwgMSk7IH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm9wdHMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLm9wdHMuY2hhbm5lbHMuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYExlZnQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJfcHJvbWlzZVBhcnRcIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xpZW50IG9yIHNvbWVvbmUgZWxzZSBsZWZ0IHRoZSBjaGFubmVsLCBlbWl0IHRoZSBwYXJ0IGV2ZW50Li5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwYXJ0XCIsIGNoYW5uZWwsIG5pY2ssIGlzU2VsZik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIGEgd2hpc3Blci4uXG4gICAgICAgICAgICBjYXNlIFwiV0hJU1BFUlwiOlxuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFtXSElTUEVSXSA8JHtuaWNrfT46ICR7bXNnfWApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YWdzIHRvIHByb3ZpZGUgdGhlIHVzZXJuYW1lLi5cbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInVzZXJuYW1lXCIpKSB7IG1lc3NhZ2UudGFncy51c2VybmFtZSA9IG5pY2s7IH1cbiAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcIndoaXNwZXJcIjtcblxuICAgICAgICAgICAgICAgIHZhciBmcm9tID0gXy5jaGFubmVsKG1lc3NhZ2UudGFncy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBmb3IgYm90aCwgd2hpc3BlciBhbmQgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJ3aGlzcGVyXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgICAgICBbZnJvbSwgbWVzc2FnZS50YWdzLCBtc2csIGZhbHNlXVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiUFJJVk1TR1wiOlxuICAgICAgICAgICAgICAgIC8vIEFkZCB1c2VybmFtZSAobG93ZXJjYXNlKSB0byB0aGUgdGFncy4uXG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBmcm9tIEpUVi4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy51c2VybmFtZSA9PT0gXCJqdHZcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IF8udXNlcm5hbWUobXNnLnNwbGl0KFwiIFwiKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdXRvaG9zdCA9IG1zZy5pbmNsdWRlcyhcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCBhbmQgdGhlIG1lc3NhZ2UgY29udGFpbnMgaG93IG1hbnkgdmlld2Vycy4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoXCJob3N0aW5nIHlvdSBmb3JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IF8uZXh0cmFjdE51bWJlcihtc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgY291bnQsIGF1dG9ob3N0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCwgYnV0IG5vIHZpZXdlcihzKSBjb3VudCBwcm92aWRlZCBpbiB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcImhvc3RpbmcgeW91XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgMCwgYXV0b2hvc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcImFjdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dICo8JHttZXNzYWdlLnRhZ3MudXNlcm5hbWV9PjogJHthY3Rpb25NZXNzYWdlWzFdfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJhY3Rpb25cIiwgXCJtZXNzYWdlXCJdLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgYWN0aW9uTWVzc2FnZVsxXSwgZmFsc2VdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MuaGFzT3duUHJvcGVydHkoXCJiaXRzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2hlZXJcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNZXNzYWdlIGlzIGEgcmVndWxhciBjaGF0IG1lc3NhZ2UuLlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIDwke21lc3NhZ2UudGFncy51c2VybmFtZX0+OiAke21zZ31gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgbXNnLCBmYWxzZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZTpcXG4ke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDQpfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gQ29ubmVjdCB0byBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnNlcnZlciA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlcnZlciwgXCJpcmMtd3MuY2hhdC50d2l0Y2gudHZcIik7XG4gICAgICAgIHRoaXMucG9ydCA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnBvcnQsIDgwKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBwb3J0IGlmIHVzaW5nIGEgc2VjdXJlIGNvbm5lY3Rpb24uLlxuICAgICAgICBpZiAodGhpcy5zZWN1cmUpIHsgdGhpcy5wb3J0ID0gNDQzOyB9XG4gICAgICAgIGlmICh0aGlzLnBvcnQgPT09IDQ0MykgeyB0aGlzLnNlY3VyZSA9IHRydWU7IH1cblxuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gdGhpcy5yZWNvbm5lY3RUaW1lciAqIHRoaXMucmVjb25uZWN0RGVjYXk7XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyID49IHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLm1heFJlY29ubmVjdEludGVydmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29ubmVjdCB0byBzZXJ2ZXIgZnJvbSBjb25maWd1cmF0aW9uLi5cbiAgICAgICAgdGhpcy5fb3BlbkNvbm5lY3Rpb24oKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VDb25uZWN0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW3RoaXMuc2VydmVyLCB+fnRoaXMucG9ydF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vLyBPcGVuIGEgY29ubmVjdGlvbi4uXG5jbGllbnQucHJvdG90eXBlLl9vcGVuQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIF9vcGVuQ29ubmVjdGlvbigpIHtcbiAgICB0aGlzLndzID0gbmV3IHdzKGAke3RoaXMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIn06Ly8ke3RoaXMuc2VydmVyfToke3RoaXMucG9ydH0vYCwgXCJpcmNcIik7XG5cbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLl9vbkNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLl9vbk9wZW4uYmluZCh0aGlzKTtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBPUEVOLlxuLy8gSW5kaWNhdGVzIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgcmVhZHkgdG8gc2VuZCBhbmQgcmVjZWl2ZSBkYXRhLi5cbmNsaWVudC5wcm90b3R5cGUuX29uT3BlbiA9IGZ1bmN0aW9uIF9vbk9wZW4oKSB7XG4gICAgaWYgKF8uaXNOdWxsKHRoaXMud3MpIHx8IHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEVtaXR0aW5nIFwiY29ubmVjdGluZ1wiIGV2ZW50Li5cbiAgICB0aGlzLmxvZy5pbmZvKGBDb25uZWN0aW5nIHRvICR7dGhpcy5zZXJ2ZXJ9IG9uIHBvcnQgJHt0aGlzLnBvcnR9Li5gKTtcbiAgICB0aGlzLmVtaXQoXCJjb25uZWN0aW5nXCIsIHRoaXMuc2VydmVyLCB+fnRoaXMucG9ydCk7XG5cbiAgICB0aGlzLnVzZXJuYW1lID0gXy5nZXQodGhpcy5vcHRzLmlkZW50aXR5LnVzZXJuYW1lLCBfLmp1c3RpbmZhbigpKTtcbiAgICB0aGlzLnBhc3N3b3JkID0gXy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiU0NITU9PUElJRVwiKSk7XG5cbiAgICAvLyBFbWl0dGluZyBcImxvZ29uXCIgZXZlbnQuLlxuICAgIHRoaXMubG9nLmluZm8oXCJTZW5kaW5nIGF1dGhlbnRpY2F0aW9uIHRvIHNlcnZlci4uXCIpO1xuICAgIHRoaXMuZW1pdChcImxvZ29uXCIpO1xuXG4gICAgLy8gQXV0aGVudGljYXRpb24uLlxuICAgIHRoaXMud3Muc2VuZChcIkNBUCBSRVEgOnR3aXRjaC50di90YWdzIHR3aXRjaC50di9jb21tYW5kcyB0d2l0Y2gudHYvbWVtYmVyc2hpcFwiKTtcbiAgICB0aGlzLndzLnNlbmQoYFBBU1MgJHt0aGlzLnBhc3N3b3JkfWApO1xuICAgIHRoaXMud3Muc2VuZChgTklDSyAke3RoaXMudXNlcm5hbWV9YCk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLi5cbmNsaWVudC5wcm90b3R5cGUuX29uTWVzc2FnZSA9IGZ1bmN0aW9uIF9vbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICB2YXIgcGFydHMgPSBldmVudC5kYXRhLnNwbGl0KFwiXFxyXFxuXCIpO1xuXG4gICAgcGFydHMuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgICAgIGlmICghXy5pc051bGwoc3RyKSkgeyB0aGlzLmhhbmRsZU1lc3NhZ2UocGFyc2UubXNnKHN0cikpOyB9XG4gICAgfSk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuLlxuY2xpZW50LnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICB0aGlzLnJlYXNvbiA9ICFfLmlzTnVsbCh0aGlzLndzKSA/IFwiVW5hYmxlIHRvIGNvbm5lY3QuXCIgOiBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuXG4gICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dXSk7XG5cbiAgICAvLyBSZWNvbm5lY3QgdG8gc2VydmVyLi5cbiAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgIHRoaXMuZW1pdChcIm1heHJlY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJNYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVjb25uZWN0ICYmICF0aGlzLnJlY29ubmVjdGluZyAmJiB0aGlzLnJlY29ubmVjdGlvbnMgPD0gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cy0xKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgIHRoaXMubG9nLmVycm9yKGBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlY29ubmVjdFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7IHRoaXMuY29ubmVjdCgpOyB9LCB0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICB9XG5cbiAgICB0aGlzLndzID0gbnVsbDtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBDTE9TRUQuLlxuY2xpZW50LnByb3RvdHlwZS5fb25DbG9zZSA9IGZ1bmN0aW9uIF9vbkNsb3NlKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICAvLyBVc2VyIGNhbGxlZCAuZGlzY29ubmVjdCgpLCBkb24ndCB0cnkgdG8gcmVjb25uZWN0LlxuICAgIGlmICh0aGlzLndhc0Nsb3NlQ2FsbGVkKSB7XG4gICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFzb24gPSBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuICAgICAgICB0aGlzLmxvZy5pbmZvKHRoaXMucmVhc29uKTtcbiAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJfcHJvbWlzZURpc2Nvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dLCBbbnVsbF0sIFt0aGlzLnJlYXNvbl1dKTtcbiAgICB9XG4gICAgLy8gR290IGRpc2Nvbm5lY3RlZCBmcm9tIHNlcnZlci4uXG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VDb25uZWN0XCIsIFwiZGlzY29ubmVjdGVkXCJdLCBbW3RoaXMucmVhc29uXV0pO1xuXG4gICAgICAgIC8vIFJlY29ubmVjdCB0byBzZXJ2ZXIuLlxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJtYXhyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihcIk1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzIHJlYWNoZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdCAmJiAhdGhpcy5yZWNvbm5lY3RpbmcgJiYgdGhpcy5yZWNvbm5lY3Rpb25zIDw9IHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMtMSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihgQ291bGQgbm90IGNvbm5lY3QgdG8gc2VydmVyLiBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cyA9IG51bGw7XG59O1xuXG4vLyBNaW5pbXVtIG9mIDYwMG1zIGZvciBjb21tYW5kIHByb21pc2VzLCBpZiBjdXJyZW50IGxhdGVuY3kgZXhjZWVkcywgYWRkIDEwMG1zIHRvIGl0IHRvIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IGdldCB0aW1lZCBvdXQuLlxuY2xpZW50LnByb3RvdHlwZS5fZ2V0UHJvbWlzZURlbGF5ID0gZnVuY3Rpb24gX2dldFByb21pc2VEZWxheSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50TGF0ZW5jeSA8PSA2MDApIHsgcmV0dXJuIDYwMDsgfVxuICAgIGVsc2UgeyByZXR1cm4gdGhpcy5jdXJyZW50TGF0ZW5jeSArIDEwMDsgfVxufTtcblxuLy8gU2VuZCBjb21tYW5kIHRvIHNlcnZlciBvciBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuX3NlbmRDb21tYW5kID0gZnVuY3Rpb24gX3NlbmRDb21tYW5kKGRlbGF5LCBjaGFubmVsLCBjb21tYW5kLCBmbikge1xuICAgIC8vIFJhY2UgcHJvbWlzZSBhZ2FpbnN0IGRlbGF5Li5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvY2tldCBpcyBvcGVuZWQuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIuLlxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vdCBjb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7IHJlamVjdChcIk5vIHJlc3BvbnNlIGZyb20gVHdpdGNoLlwiKTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRpbmcgYSBjb21tYW5kIG9uIGEgY2hhbm5lbC4uXG4gICAgICAgIGlmICghXy5pc051bGwoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbn1dIEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHtjb21tYW5kfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhlY3V0aW5nIGEgcmF3IGNvbW1hbmQuLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoY29tbWFuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIFNlbmQgYSBtZXNzYWdlIHRvIGNoYW5uZWwuLlxuY2xpZW50LnByb3RvdHlwZS5fc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiBfc2VuZE1lc3NhZ2UoZGVsYXksIGNoYW5uZWwsIG1lc3NhZ2UsIGZuKSB7XG4gICAgLy8gUHJvbWlzZSBhIHJlc3VsdC4uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb2NrZXQgaXMgb3BlbmVkIGFuZCBub3QgbG9nZ2VkIGluIGFzIGEganVzdGluZmFuIHVzZXIuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIkNhbm5vdCBzZW5kIGFub255bW91cyBtZXNzYWdlcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYW4gPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIGlmICghdGhpcy51c2Vyc3RhdGVbY2hhbl0pIHsgdGhpcy51c2Vyc3RhdGVbY2hhbl0gPSB7fSB9XG5cbiAgICAgICAgLy8gU3BsaXQgbG9uZyBsaW5lcyBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGVhdGVuIGJ5IHRoZSBzZXJ2ZXIuLlxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPj0gNTAwKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gXy5zcGxpdExpbmUobWVzc2FnZSwgNTAwKTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtc2dbMF07XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRNZXNzYWdlKGRlbGF5LCBjaGFubmVsLCBtc2dbMV0sICgpID0+IHt9KTtcbiAgICAgICAgICAgIH0sIDM1MCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHttZXNzYWdlfWApO1xuXG4gICAgICAgIHZhciBlbW90ZXMgPSB7fTtcblxuICAgICAgICAvLyBQYXJzZSByZWdleCBhbmQgc3RyaW5nIGVtb3Rlcy4uXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZW1vdGVzZXRzKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbW90ZXNldHNbaWRdLmZvckVhY2goZnVuY3Rpb24oZW1vdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc1JlZ2V4KGVtb3RlLmNvZGUpKSB7IHJldHVybiBwYXJzZS5lbW90ZVJlZ2V4KG1lc3NhZ2UsIGVtb3RlLmNvZGUsIGVtb3RlLmlkLCBlbW90ZXMpOyB9XG4gICAgICAgICAgICAgICAgcGFyc2UuZW1vdGVTdHJpbmcobWVzc2FnZSwgZW1vdGUuY29kZSwgZW1vdGUuaWQsIGVtb3Rlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgdXNlcnN0YXRlIHdpdGggcGFyc2VkIGVtb3Rlcy4uXG4gICAgICAgIHZhciB1c2Vyc3RhdGUgPSBfLm1lcmdlKHRoaXMudXNlcnN0YXRlW2NoYW5dLCBwYXJzZS5lbW90ZXMoeyBlbW90ZXM6IHBhcnNlLnRyYW5zZm9ybUVtb3RlcyhlbW90ZXMpIHx8IG51bGwgfSkpO1xuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICBpZiAoYWN0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJhY3Rpb25cIjtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW59XSAqPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7YWN0aW9uTWVzc2FnZVsxXX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiYWN0aW9uXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgIFtjaGFuLCB1c2Vyc3RhdGUsIGFjdGlvbk1lc3NhZ2VbMV0sIHRydWVdXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYSByZWd1bGFyIGNoYXQgbWVzc2FnZS4uXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFufV0gPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbY2hhbiwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIEdyYWIgdGhlIGVtb3RlLXNldHMgb2JqZWN0IGZyb20gdGhlIEFQSS4uXG5jbGllbnQucHJvdG90eXBlLl91cGRhdGVFbW90ZXNldCA9IGZ1bmN0aW9uIF91cGRhdGVFbW90ZXNldChzZXRzKSB7XG4gICAgdGhpcy5lbW90ZXMgPSBzZXRzO1xuXG4gICAgdGhpcy5hcGkoe1xuICAgICAgICB1cmw6IGAvY2hhdC9lbW90aWNvbl9pbWFnZXM/ZW1vdGVzZXRzPSR7c2V0c31gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYE9BdXRoICR7Xy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiXCIpKS5yZXBsYWNlKFwib2F1dGg6XCIsIFwiXCIpfWAsXG4gICAgICAgICAgICBcIkNsaWVudC1JRFwiOiB0aGlzLmNsaWVudElkXG4gICAgICAgIH1cbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZW1vdGVzZXRzID0gYm9keVtcImVtb3RpY29uX3NldHNcIl0gfHwge307XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiZW1vdGVzZXRzXCIsIHNldHMsIHRoaXMuZW1vdGVzZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fdXBkYXRlRW1vdGVzZXQoc2V0cyk7IH0sIDYwMDAwKTtcbiAgICB9KTtcbn07XG5cbi8vIEdldCBjdXJyZW50IHVzZXJuYW1lLi5cbmNsaWVudC5wcm90b3R5cGUuZ2V0VXNlcm5hbWUgPSBmdW5jdGlvbiBnZXRVc2VybmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbn07XG5cbi8vIEdldCBjdXJyZW50IG9wdGlvbnMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRzO1xufTtcblxuLy8gR2V0IGN1cnJlbnQgY2hhbm5lbHMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkge1xuICAgIHJldHVybiB0aGlzLmNoYW5uZWxzO1xufTtcblxuLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgYSBtb2RlcmF0b3Igb24gYSBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuaXNNb2QgPSBmdW5jdGlvbiBpc01vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIGlmICghdGhpcy5tb2RlcmF0b3JzW2NoYW5dKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFuXSA9IFtdOyB9XG4gICAgcmV0dXJuIHRoaXMubW9kZXJhdG9yc1tjaGFuXS5pbmNsdWRlcyhfLnVzZXJuYW1lKHVzZXJuYW1lKSk7XG59O1xuXG4vLyBHZXQgcmVhZHlTdGF0ZS4uXG5jbGllbnQucHJvdG90eXBlLnJlYWR5U3RhdGUgPSBmdW5jdGlvbiByZWFkeVN0YXRlKCkge1xuICAgIGlmIChfLmlzTnVsbCh0aGlzLndzKSkgeyByZXR1cm4gXCJDTE9TRURcIjsgfVxuICAgIHJldHVybiBbXCJDT05ORUNUSU5HXCIsIFwiT1BFTlwiLCBcIkNMT1NJTkdcIiwgXCJDTE9TRURcIl1bdGhpcy53cy5yZWFkeVN0YXRlXTtcbn07XG5cbi8vIERpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMykge1xuICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKFwiRGlzY29ubmVjdGluZyBmcm9tIHNlcnZlci4uXCIpO1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VEaXNjb25uZWN0XCIsICgpID0+IHsgcmVzb2x2ZShbdGhpcy5zZXJ2ZXIsIH5+dGhpcy5wb3J0XSk7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJDYW5ub3QgZGlzY29ubmVjdCBmcm9tIHNlcnZlci4gU29ja2V0IGlzIG5vdCBvcGVuZWQgb3IgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGNsb3NpbmcuXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiQ2Fubm90IGRpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuIFNvY2tldCBpcyBub3Qgb3BlbmVkIG9yIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBjbG9zaW5nLlwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLy8gRXhwb3NlIGV2ZXJ5dGhpbmcsIGZvciBicm93c2VyIGFuZCBOb2RlLi5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjbGllbnQ7XG59XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbmRvdy50bWkgPSB7fTtcbiAgICB3aW5kb3cudG1pLmNsaWVudCA9IGNsaWVudDtcbiAgICB3aW5kb3cudG1pLkNsaWVudCA9IGNsaWVudDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbi8vIEVuYWJsZSBmb2xsb3dlcnMtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBmb2xsb3dlcnNvbmx5KGNoYW5uZWwsIG1pbnV0ZXMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIG1pbnV0ZXMgPSBfLmdldChtaW51dGVzLCAzMCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZm9sbG93ZXJzICR7bWludXRlc31gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlRm9sbG93ZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRm9sbG93ZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+bWludXRlc10pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gZm9sbG93ZXJzb25seW9mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvZm9sbG93ZXJzb2ZmXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VGb2xsb3dlcnNvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIExlYXZlIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBwYXJ0KGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBgUEFSVCAke2NoYW5uZWx9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVBhcnQgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VQYXJ0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiByOWtiZXRhKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9yOWtiZXRhXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VSOWtiZXRhIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlUjlrYmV0YVwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gRGlzYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbmZ1bmN0aW9uIHI5a2JldGFvZmYoY2hhbm5lbCkge1xuICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL3I5a2JldGFvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVI5a2JldGFvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VSOWtiZXRhb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgc2xvdyBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBzbG93KGNoYW5uZWwsIHNlY29uZHMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3Nsb3cgJHtzZWNvbmRzfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VTbG93IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlU2xvd1wiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB+fnNlY29uZHNdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gc2xvd29mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvc2xvd29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlU2xvd29mZiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVNsb3dvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFNlbmQgYWN0aW9uIG1lc3NhZ2UgKC9tZSA8bWVzc2FnZT4pIG9uIGEgY2hhbm5lbC4uXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBtZXNzYWdlID0gYFxcdTAwMDFBQ1RJT04gJHttZXNzYWdlfVxcdTAwMDFgO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICBiYW46IGZ1bmN0aW9uIGJhbihjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHVzZXJuYW1lID0gXy51c2VybmFtZSh1c2VybmFtZSk7XG4gICAgICAgIHJlYXNvbiA9IF8uZ2V0KHJlYXNvbiwgXCJcIik7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgYC9iYW4gJHt1c2VybmFtZX0gJHtyZWFzb259YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VCYW4gZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQmFuXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2xlYXIgYWxsIG1lc3NhZ2VzIG9uIGEgY2hhbm5lbC4uXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9jbGVhclwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUNsZWFyIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNsZWFyXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvZiB5b3VyIHVzZXJuYW1lLi5cbiAgICBjb2xvcjogZnVuY3Rpb24gY29sb3IoY2hhbm5lbCwgbmV3Q29sb3IpIHtcbiAgICAgICAgbmV3Q29sb3IgPSBfLmdldChuZXdDb2xvciwgY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC9jb2xvciAke25ld0NvbG9yfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlQ29sb3IgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQ29sb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW25ld0NvbG9yXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gUnVuIGNvbW1lcmNpYWwgb24gYSBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIGNvbW1lcmNpYWw6IGZ1bmN0aW9uIGNvbW1lcmNpYWwoY2hhbm5lbCwgc2Vjb25kcykge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBzZWNvbmRzID0gXy5nZXQoc2Vjb25kcywgMzApO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvY29tbWVyY2lhbCAke3NlY29uZHN9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VDb21tZXJjaWFsIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNvbW1lcmNpYWxcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+c2Vjb25kc10pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblx0XG5cdFxuICAgIC8vIERlbGV0ZSBhIHNwZWNpZmljIG1lc3NhZ2Ugb24gYSBjaGFubmVsXG4gICAgZGVsZXRlbWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlbWVzc2FnZShjaGFubmVsLCBtZXNzYWdlVVVJRCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZGVsZXRlICR7bWVzc2FnZVVVSUR9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VEZWxldGVtZXNzYWdlIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZURlbGV0ZW1lc3NhZ2VcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmFibGUgZW1vdGUtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgZW1vdGVvbmx5OiBmdW5jdGlvbiBlbW90ZW9ubHkoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL2Vtb3Rlb25seVwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUVtb3Rlb25seSBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VFbW90ZW9ubHlcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBEaXNhYmxlIGVtb3RlLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGVtb3Rlb25seW9mZjogZnVuY3Rpb24gZW1vdGVvbmx5b2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9lbW90ZW9ubHlvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VFbW90ZW9ubHlvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRW5hYmxlIGZvbGxvd2Vycy1vbmx5IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBmb2xsb3dlcnNvbmx5OiBmb2xsb3dlcnNvbmx5LFxuXG4gICAgLy8gQWxpYXMgZm9yIGZvbGxvd2Vyc29ubHkoKS4uXG4gICAgZm9sbG93ZXJzbW9kZTogZm9sbG93ZXJzb25seSxcblxuICAgIC8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGZvbGxvd2Vyc29ubHlvZmY6IGZvbGxvd2Vyc29ubHlvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3IgZm9sbG93ZXJzb25seW9mZigpLi5cbiAgICBmb2xsb3dlcnNtb2Rlb2ZmOiBmb2xsb3dlcnNvbmx5b2ZmLFxuXG4gICAgLy8gSG9zdCBhIGNoYW5uZWwuLlxuICAgIGhvc3Q6IGZ1bmN0aW9uIGhvc3QoY2hhbm5lbCwgdGFyZ2V0KSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHRhcmdldCA9IF8udXNlcm5hbWUodGFyZ2V0KTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKDIwMDAsIGNoYW5uZWwsIGAvaG9zdCAke3RhcmdldH1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUhvc3QgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlSG9zdFwiLCAoZXJyLCByZW1haW5pbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB0YXJnZXQsIH5+cmVtYWluaW5nXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gSm9pbiBhIGNoYW5uZWwuLlxuICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciAuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQobnVsbCwgbnVsbCwgYEpPSU4gJHtjaGFubmVsfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBcIl9wcm9taXNlSm9pblwiO1xuICAgICAgICAgICAgdmFyIGhhc0Z1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gKGVyciwgam9pbmVkQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsID09PSBfLmNoYW5uZWwoam9pbmVkQ2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VKb2luIGV2ZW50IGZvciB0aGUgdGFyZ2V0IGNoYW5uZWwsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzRnVsZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgLy8gUmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5fZ2V0UHJvbWlzZURlbGF5KCk7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNGdWxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KGV2ZW50TmFtZSwgXCJObyByZXNwb25zZSBmcm9tIFR3aXRjaC5cIiwgY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBNb2QgdXNlcm5hbWUgb24gY2hhbm5lbC4uXG4gICAgbW9kOiBmdW5jdGlvbiBtb2QoY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL21vZCAke3VzZXJuYW1lfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlTW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZU1vZFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgbGlzdCBvZiBtb2RzIG9uIGEgY2hhbm5lbC4uXG4gICAgbW9kczogZnVuY3Rpb24gbW9kcyhjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvbW9kc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZU1vZHMgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlTW9kc1wiLCAoZXJyLCBtb2RzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBsaXN0IG9mIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBtb2RzLmZvckVhY2goKHVzZXJuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uaW5jbHVkZXModXNlcm5hbWUpKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5wdXNoKHVzZXJuYW1lKTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBMZWF2ZSBhIGNoYW5uZWwuLlxuICAgIHBhcnQ6IHBhcnQsXG5cbiAgICAvLyBBbGlhcyBmb3IgcGFydCgpLi5cbiAgICBsZWF2ZTogcGFydCxcblxuICAgIC8vIFNlbmQgYSBwaW5nIHRvIHRoZSBzZXJ2ZXIuLlxuICAgIHBpbmc6IGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIG51bGwsIFwiUElOR1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICB0aGlzLmxhdGVuY3kgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnRpbWVvdXQsIDk5OTkpKTtcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VQaW5nIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVBpbmdcIiwgKGxhdGVuY3kpID0+IHsgcmVzb2x2ZShbcGFyc2VGbG9hdChsYXRlbmN5KV0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICByOWtiZXRhOiByOWtiZXRhLFxuXG4gICAgLy8gQWxpYXMgZm9yIHI5a2JldGEoKS4uXG4gICAgcjlrbW9kZTogcjlrYmV0YSxcblxuICAgIC8vIERpc2FibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgcjlrYmV0YW9mZjogcjlrYmV0YW9mZixcblxuICAgIC8vIEFsaWFzIGZvciByOWtiZXRhb2ZmKCkuLlxuICAgIHI5a21vZGVvZmY6IHI5a2JldGFvZmYsXG5cbiAgICAvLyBTZW5kIGEgcmF3IG1lc3NhZ2UgdG8gdGhlIHNlcnZlci4uXG4gICAgcmF3OiBmdW5jdGlvbiByYXcobWVzc2FnZSkge1xuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBtZXNzYWdlLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKFttZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBTZW5kIGEgbWVzc2FnZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNheTogZnVuY3Rpb24gc2F5KGNoYW5uZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2Uuc3RhcnRzV2l0aChcIi5cIikgJiYgIW1lc3NhZ2Uuc3RhcnRzV2l0aChcIi4uXCIpKSB8fCBtZXNzYWdlLnN0YXJ0c1dpdGgoXCIvXCIpIHx8IG1lc3NhZ2Uuc3RhcnRzV2l0aChcIlxcXFxcIikpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZXNzYWdlIGlzIGFuIGFjdGlvbiBtZXNzYWdlLi5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN1YnN0cigxLCAzKSA9PT0gXCJtZSBcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbihjaGFubmVsLCBtZXNzYWdlLnN1YnN0cig0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyB0aW1lLCB0aGVyZSBpcyBubyBwb3NzaWJsZSB3YXkgdG8gZGV0ZWN0IGlmIGEgbWVzc2FnZSBoYXMgYmVlbiBzZW50IGhhcyBiZWVuIGVhdGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBzZXJ2ZXIsIHNvIHdlIGNhbiBvbmx5IHJlc29sdmUgdGhlIFByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBzbG93IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBzbG93OiBzbG93LFxuXG4gICAgLy8gQWxpYXMgZm9yIHNsb3coKS4uXG4gICAgc2xvd21vZGU6IHNsb3csXG5cbiAgICAvLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNsb3dvZmY6IHNsb3dvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3Igc2xvd29mZigpLi5cbiAgICBzbG93bW9kZW9mZjogc2xvd29mZixcblxuICAgIC8vIEVuYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnM6IGZ1bmN0aW9uIHN1YnNjcmliZXJzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnNvZmY6IGZ1bmN0aW9uIHN1YnNjcmliZXJzb2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzb2ZmIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gVGltZW91dCB1c2VybmFtZSBvbiBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQoY2hhbm5lbCwgdXNlcm5hbWUsIHNlY29uZHMsIHJlYXNvbikge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIGlmICghXy5pc051bGwoc2Vjb25kcykgJiYgIV8uaXNJbnRlZ2VyKHNlY29uZHMpKSB7XG4gICAgICAgICAgICByZWFzb24gPSBzZWNvbmRzO1xuICAgICAgICAgICAgc2Vjb25kcyA9IDMwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuICAgICAgICByZWFzb24gPSBfLmdldChyZWFzb24sIFwiXCIpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdGltZW91dCAke3VzZXJuYW1lfSAke3NlY29uZHN9ICR7cmVhc29ufWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVGltZW91dCBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VUaW1lb3V0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgfn5zZWNvbmRzLCByZWFzb25dKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBVbmJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICB1bmJhbjogZnVuY3Rpb24gdW5iYW4oY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3VuYmFuICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VVbmJhbiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VVbmJhblwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmQgdGhlIGN1cnJlbnQgaG9zdGluZy4uXG4gICAgdW5ob3N0OiBmdW5jdGlvbiB1bmhvc3QoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQoMjAwMCwgY2hhbm5lbCwgXCIvdW5ob3N0XCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVW5ob3N0IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVuaG9zdFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVubW9kIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVubW9kOiBmdW5jdGlvbiB1bm1vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW5tb2QgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVubW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVubW9kXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVudmlwIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVudmlwOiBmdW5jdGlvbiB1bnZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW52aXAgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVudmlwIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVudmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEFkZCB1c2VybmFtZSB0byBWSVAgbGlzdCBvbiBjaGFubmVsLi5cbiAgICB2aXA6IGZ1bmN0aW9uIHZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdmlwICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VWaXAgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlVmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEdldCBsaXN0IG9mIFZJUHMgb24gYSBjaGFubmVsLi5cbiAgICB2aXBzOiBmdW5jdGlvbiB2aXBzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi92aXBzXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVmlwcyBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VWaXBzXCIsIChlcnIsIHZpcHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKHZpcHMpOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFNlbmQgYW4gd2hpc3BlciBtZXNzYWdlIHRvIGEgdXNlci4uXG4gICAgd2hpc3BlcjogZnVuY3Rpb24gd2hpc3Blcih1c2VybmFtZSwgbWVzc2FnZSkge1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgd2lsbCBub3Qgc2VuZCBhIHdoaXNwZXIgdG8gdGhlIGFjY291bnQgdGhhdCBzZW50IGl0LlxuICAgICAgICBpZiAodXNlcm5hbWUgPT09IHRoaXMuZ2V0VXNlcm5hbWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQ2Fubm90IHNlbmQgYSB3aGlzcGVyIHRvIHRoZSBzYW1lIGFjY291bnQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC93ICR7dXNlcm5hbWV9ICR7bWVzc2FnZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IF8uY2hhbm5lbCh1c2VybmFtZSksXG4gICAgICAgICAgICAgICAgdXNlcnN0YXRlID0gXy5tZXJnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3NhZ2UtdHlwZVwiOiBcIndoaXNwZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZS1pZFwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aHJlYWQtaWRcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdldFVzZXJuYW1lKClcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5nbG9iYWx1c2Vyc3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IGZvciBib3RoLCB3aGlzcGVyIGFuZCBtZXNzYWdlLi5cbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wid2hpc3BlclwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXSxcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW3VzZXJuYW1lLCBtZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4gKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4gKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4gKiBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbiAqIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4gKiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuICogT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuICogVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gICAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdCBtdWx0aXBsZSBldmVudHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0cyA9IGZ1bmN0aW9uKHR5cGVzLCB2YWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwgPSBpIDwgdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1tpXSA6IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbdHlwZXNbaV1dLmNvbmNhdCh2YWwpKTtcbiAgICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHsgdGhpcy5fZXZlbnRzID0ge307IH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgICBpZiAodHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8IChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikgeyB0aHJvdyBlcjsgfVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFxcXCJlcnJvclxcXCIgZXZlbnQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIHNsb3dlclxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgICAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbTtcblxuICAgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpIHsgdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpOyB9XG5cbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgeyB0aGlzLl9ldmVudHMgPSB7fTsgfVxuXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmVtaXQoXCJuZXdMaXN0ZW5lclwiLCB0eXBlLCBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyOyB9XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpIHsgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpOyB9XG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgZWxzZSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTsgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgICAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIiwgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBOb3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7IHRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTsgfVxuXG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KHR5cGUpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICB2YXIgY291bnQgPSAxO1xuICAgICAgICB2YXIgc2VhcmNoRm9yID0gdHlwZTtcblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGspICYmIGsuc3RhcnRzV2l0aChzZWFyY2hGb3IpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gdHlwZSArIGNvdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGcoKSB7XG4gICAgICAgIGlmICh0eXBlLmNoYXJBdCgwKSA9PT0gXCJfXCIgJiYgIWlzTmFOKHR5cGUuc3Vic3RyKHR5cGUubGVuZ3RoIC0gMSkpKSB7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5zdWJzdHJpbmcoMCwgdHlwZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgICAgIGlmICghZmlyZWQpIHtcbiAgICAgICAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgdGhpcy5vbih0eXBlLCBnKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdHMgYSBcInJlbW92ZUxpc3RlbmVyXCIgZXZlbnQgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLi5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMgZnJvbSAub25jZSgpLi5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkgeyB0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7IH1cblxuICAgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgcG9zaXRpb24gPSAtMTtcbiAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlICsgXCIyXCIpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEZvciA9IHR5cGU7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShrKSAmJiBrLnN0YXJ0c1dpdGgoc2VhcmNoRm9yKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGsuc3Vic3RyKGsubGVuZ3RoIC0gMSkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGUgKyBwYXJzZUludChrLnN1YnN0cihrLmxlbmd0aCAtIDEpIC0gMSldID0gdGhpcy5fZXZlbnRzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1trXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpOyB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBrZXksIGxpc3RlbmVycztcblxuICAgIGlmICghdGhpcy5fZXZlbnRzKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsgdGhpcy5fZXZlbnRzID0ge307IH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKSB7IGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcInJlbW92ZUxpc3RlbmVyXCIpIHsgY29udGludWU7IH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHsgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpOyB9XG4gICAgZWxzZSBpZiAobGlzdGVuZXJzKSB7IHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKSB7IHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7IH0gfVxuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSkgeyByZXQgPSBbXTsgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSkgeyByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTsgfVxuICAgIGVsc2UgeyByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTsgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgICAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSkgeyByZXR1cm4gMTsgfVxuICAgICAgICBlbHNlIGlmIChldmxpc3RlbmVyKSB7IHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDsgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcIm51bWJlclwiO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBjdXJyZW50TGV2ZWwgPSBcImluZm9cIjtcbnZhciBsZXZlbHMgPSB7IFwidHJhY2VcIjogMCwgXCJkZWJ1Z1wiOiAxLCBcImluZm9cIjogMiwgXCJ3YXJuXCI6IDMsIFwiZXJyb3JcIjogNCwgXCJmYXRhbFwiOiA1IH1cblxuLy8gTG9nZ2VyIGltcGxlbWVudGF0aW9uLi5cbmZ1bmN0aW9uIGxvZyhsZXZlbCkge1xuICAgIC8vIFJldHVybiBhIGNvbnNvbGUgbWVzc2FnZSBkZXBlbmRpbmcgb24gdGhlIGxvZ2dpbmcgbGV2ZWwuLlxuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAobGV2ZWxzW2xldmVsXSA+PSBsZXZlbHNbY3VycmVudExldmVsXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFske18uZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKX1dICR7bGV2ZWx9OiAke21lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIENoYW5nZSB0aGUgY3VycmVudCBsb2dnaW5nIGxldmVsLi5cbiAgICBzZXRMZXZlbDogZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XG4gICAgfSxcbiAgICB0cmFjZTogbG9nKFwidHJhY2VcIiksXG4gICAgZGVidWc6IGxvZyhcImRlYnVnXCIpLFxuICAgIGluZm86IGxvZyhcImluZm9cIiksXG4gICAgd2FybjogbG9nKFwid2FyblwiKSxcbiAgICBlcnJvcjogbG9nKFwiZXJyb3JcIiksXG4gICAgZmF0YWw6IGxvZyhcImZhdGFsXCIpXG59O1xuIiwiLypcbiAgICBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSwgRmlvbm4gS2VsbGVoZXIgQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gICAgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgICAgIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAgICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblxuICAgICAgICBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAgICBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICAgIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAgICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICAgIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAgIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsXG4gICAgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gICAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICAgIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZXG4gICAgT0YgU1VDSCBEQU1BR0UuXG4qL1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBub25zcGFjZVJlZ2V4ID0gL1xcUysvZztcblxuZnVuY3Rpb24gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIHRhZ0tleSwgc3BsQSA9IFwiLFwiLCBzcGxCID0gXCIvXCIsIHNwbEMpIHtcbiAgICB2YXIgcmF3ID0gdGFnc1t0YWdLZXldO1xuICAgIFxuICAgIGlmKHJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH1cblxuICAgIHZhciB0YWdJc1N0cmluZyA9IF8uaXNTdHJpbmcocmF3KTtcbiAgICB0YWdzW3RhZ0tleSArIFwiLXJhd1wiXSA9IHRhZ0lzU3RyaW5nID8gcmF3IDogbnVsbDtcblxuICAgIGlmKHJhdyA9PT0gdHJ1ZSkge1xuICAgICAgICB0YWdzW3RhZ0tleV0gPSBudWxsO1xuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG5cbiAgICB0YWdzW3RhZ0tleV0gPSB7fTtcblxuICAgIGlmICh0YWdJc1N0cmluZykge1xuICAgICAgICB2YXIgc3BsID0gcmF3LnNwbGl0KHNwbEEpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBzcGxbaV0uc3BsaXQoc3BsQik7XG4gICAgICAgICAgICB2YXIgdmFsID0gcGFydHNbMV07XG4gICAgICAgICAgICBpZiAoc3BsQyAhPT0gdW5kZWZpbmVkICYmIHZhbCkge1xuICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5zcGxpdChzcGxDKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhZ3NbdGFnS2V5XVtwYXJ0c1swXV0gPSB2YWwgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFncztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gUGFyc2UgVHdpdGNoIGJhZGdlcy4uXG4gICAgYmFkZ2VzOiBmdW5jdGlvbiBiYWRnZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2VzXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggYmFkZ2UtaW5mby4uXG4gICAgYmFkZ2VJbmZvOiBmdW5jdGlvbiBiYWRnZUluZm8odGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2UtaW5mb1wiKTtcbiAgICB9LFxuXG4gICAgLy8gUGFyc2UgVHdpdGNoIGVtb3Rlcy4uXG4gICAgZW1vdGVzOiBmdW5jdGlvbiBlbW90ZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiZW1vdGVzXCIsIFwiL1wiLCBcIjpcIiwgXCIsXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSByZWdleCBlbW90ZXMuLlxuICAgIGVtb3RlUmVnZXg6IGZ1bmN0aW9uIGVtb3RlUmVnZXgobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIihcXFxcYnxefFxccylcIiArIF8udW5lc2NhcGVIdG1sKGNvZGUpICsgXCIoXFxcXGJ8JHxcXHMpXCIpO1xuICAgICAgICB2YXIgbWF0Y2g7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZW1vdGUgY29kZSBtYXRjaGVzIHVzaW5nIFJlZ0V4cCBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QobWF0Y2hbMF0pKSB7XG4gICAgICAgICAgICAgICAgb2JqW2lkXSA9IG9ialtpZF0gfHwgW107XG4gICAgICAgICAgICAgICAgb2JqW2lkXS5wdXNoKFttYXRjaC5pbmRleCwgbm9uc3BhY2VSZWdleC5sYXN0SW5kZXggLSAxXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBzdHJpbmcgZW1vdGVzLi5cbiAgICBlbW90ZVN0cmluZzogZnVuY3Rpb24gZW1vdGVTdHJpbmcobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGVtb3RlIGNvZGUgbWF0Y2hlcyBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09PSBfLnVuZXNjYXBlSHRtbChjb2RlKSkge1xuICAgICAgICAgICAgICAgIG9ialtpZF0gPSBvYmpbaWRdIHx8IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpZF0ucHVzaChbbWF0Y2guaW5kZXgsIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgZW1vdGVzIG9iamVjdCB0byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0Li5cbiAgICAvLyBlbW90ZV9pZDpmaXJzdF9pbmRleC1sYXN0X2luZGV4LGFub3RoZXJfZmlyc3QtYW5vdGhlcl9sYXN0L2Fub3RoZXJfZW1vdGVfaWQ6Zmlyc3RfaW5kZXgtbGFzdF9pbmRleFxuICAgIHRyYW5zZm9ybUVtb3RlczogZnVuY3Rpb24gdHJhbnNmb3JtRW1vdGVzKGVtb3Rlcykge1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSBcIlwiO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGVtb3RlcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gYCR7dHJhbnNmb3JtZWQraWR9OmA7XG4gICAgICAgICAgICBlbW90ZXNbaWRdLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZCtpbmRleC5qb2luKFwiLVwiKX0sYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZC5zbGljZSgwLC0xKX0vYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnNsaWNlKDAsLTEpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggbWVzc2FnZXMuLlxuICAgIG1zZzogZnVuY3Rpb24gbXNnKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICByYXc6IGRhdGEsXG4gICAgICAgICAgICB0YWdzOiB7fSxcbiAgICAgICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IG51bGwsXG4gICAgICAgICAgICBwYXJhbXM6IFtdXG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3NpdGlvbiBhbmQgbmV4dHNwYWNlIGFyZSB1c2VkIGJ5IHRoZSBwYXJzZXIgYXMgYSByZWZlcmVuY2UuLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgbmV4dHNwYWNlID0gMDtcblxuICAgICAgICAvLyBUaGUgZmlyc3QgdGhpbmcgd2UgY2hlY2sgZm9yIGlzIElSQ3YzLjIgbWVzc2FnZSB0YWdzLlxuICAgICAgICAvLyBodHRwOi8vaXJjdjMuYXRoZW1lLm9yZy9zcGVjaWZpY2F0aW9uL21lc3NhZ2UtdGFncy0zLjJcbiAgICAgICAgaWYgKGRhdGEuY2hhckNvZGVBdCgwKSA9PT0gNjQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0c3BhY2UgPSBkYXRhLmluZGV4T2YoXCIgXCIpO1xuXG4gICAgICAgICAgICAvLyBNYWxmb3JtZWQgSVJDIG1lc3NhZ2UuLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGFncyBhcmUgc3BsaXQgYnkgYSBzZW1pIGNvbG9uLi5cbiAgICAgICAgICAgIHZhciByYXdUYWdzID0gZGF0YS5zbGljZSgxLCBuZXh0c3BhY2UpLnNwbGl0KFwiO1wiKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gVGFncyBkZWxpbWl0ZWQgYnkgYW4gZXF1YWxzIHNpZ24gYXJlIGtleT12YWx1ZSB0YWdzLlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZXF1YWxzLCB3ZSBhc3NpZ24gdGhlIHRhZyBhIHZhbHVlIG9mIHRydWUuXG4gICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJhd1RhZ3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB0YWcuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnc1twYWlyWzBdXSA9IHRhZy5zdWJzdHJpbmcodGFnLmluZGV4T2YoXCI9XCIpICsgMSkgfHwgdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIG1lc3NhZ2UncyBwcmVmaXggaWYgcHJlc2VudC4gUHJlZml4ZXMgYXJlIHByZXBlbmRlZCB3aXRoIGEgY29sb24uLlxuICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgIG5leHRzcGFjZSA9IGRhdGEuaW5kZXhPZihcIiBcIiwgcG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgYWZ0ZXIgdGhlIHByZWZpeCwgZGVlbSB0aGlzIG1lc3NhZ2UgdG8gYmUgbWFsZm9ybWVkLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVzc2FnZS5wcmVmaXggPSBkYXRhLnNsaWNlKHBvc2l0aW9uICsgMSwgbmV4dHNwYWNlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gbmV4dHNwYWNlICsgMTtcblxuICAgICAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBtb3JlIHdoaXRlc3BhY2UgbGVmdCwgZXh0cmFjdCBldmVyeXRoaW5nIGZyb20gdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nIGFzIHRoZSBjb21tYW5kLi5cbiAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kID0gZGF0YS5zbGljZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWxzZSwgdGhlIGNvbW1hbmQgaXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gdXAgdG8gdGhlIG5leHQgc3BhY2UuIEFmdGVyXG4gICAgICAgIC8vIHRoYXQsIHdlIGV4cGVjdCBzb21lIHBhcmFtZXRlcnMuXG4gICAgICAgIG1lc3NhZ2UuY29tbWFuZCA9IGRhdGEuc2xpY2UocG9zaXRpb24sIG5leHRzcGFjZSk7XG5cbiAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuXG4gICAgICAgIC8vIFNraXAgYW55IHRyYWlsaW5nIHdoaXRlc3BhY2UuLlxuICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAocG9zaXRpb24gPCBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgYSBjb2xvbiwgd2UndmUgZ290IGEgdHJhaWxpbmcgcGFyYW1ldGVyLlxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgdGhlcmUgYXJlIG5vIGV4dHJhIHBhcmFtcywgc28gd2UgcHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICAvLyBmcm9tIGFmdGVyIHRoZSBjb2xvbiB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHRvIHRoZSBwYXJhbXMgYXJyYXlcbiAgICAgICAgICAgIC8vIGFuZCBicmVhayBvdXQgb2YgdGhlIGxvb3AuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtcy5wdXNoKGRhdGEuc2xpY2UocG9zaXRpb24gKyAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIHN0aWxsIGhhdmUgc29tZSB3aGl0ZXNwYWNlLi4uXG4gICAgICAgICAgICBpZiAobmV4dHNwYWNlICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFB1c2ggd2hhdGV2ZXIncyBiZXR3ZWVuIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIHNwYWNlIHRvIHRoZSBwYXJhbXMgYXJyYXkuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uLCBuZXh0c3BhY2UpKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5leHRzcGFjZSArIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBTa2lwIGFueSB0cmFpbGluZyB3aGl0ZXNwYWNlIGFuZCBjb250aW51ZSBsb29waW5nLlxuICAgICAgICAgICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIHdoaXRlc3BhY2UgYW5kIHRoZSBwYXJhbSBpc24ndCB0cmFpbGluZyxcbiAgICAgICAgICAgIC8vIHB1c2ggZXZlcnl0aGluZyByZW1haW5pbmcgdG8gdGhlIHBhcmFtcyBhcnJheS5cbiAgICAgICAgICAgIGlmIChuZXh0c3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG59XG4iLCIvLyBJbml0aWFsaXplIHRoZSBxdWV1ZSB3aXRoIGEgc3BlY2lmaWMgZGVsYXkuLlxuZnVuY3Rpb24gcXVldWUoZGVmYXVsdERlbGF5KSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMuZGVmYXVsdERlbGF5ID0gZGVmYXVsdERlbGF5IHx8IDMwMDA7XG59XG5cbi8vIEFkZCBhIG5ldyBmdW5jdGlvbiB0byB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgZGVsYXkpIHtcbiAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICBmbjogZm4sXG4gICAgICAgIGRlbGF5OiBkZWxheVxuICAgIH0pO1xufTtcblxuLy8gUnVuIHRoZSBjdXJyZW50IHF1ZXVlLi5cbnF1ZXVlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oaW5kZXgpIHtcbiAgICAoaW5kZXggfHwgaW5kZXggPT09IDApICYmICh0aGlzLmluZGV4ID0gaW5kZXgpO1xuICAgIHRoaXMubmV4dCgpO1xufTtcblxuLy8gR28gdG8gdGhlIG5leHQgaW4gcXVldWUuLlxucXVldWUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBpID0gdGhpcy5pbmRleCsrO1xuICAgIHZhciBhdCA9IHRoaXMucXVldWVbaV07XG4gICAgdmFyIG5leHQgPSB0aGlzLnF1ZXVlW3RoaXMuaW5kZXhdO1xuXG4gICAgaWYgKCFhdCkgeyByZXR1cm47IH1cblxuICAgIGF0LmZuKCk7XG4gICAgbmV4dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfSwgbmV4dC5kZWxheSB8fCB0aGlzLmRlZmF1bHREZWxheSk7XG59O1xuXG4vLyBSZXNldCB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG59O1xuXG4vLyBDbGVhciB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xufTtcblxuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuIiwidmFyIGFjdGlvbk1lc3NhZ2VSZWdleCA9IC9eXFx1MDAwMUFDVElPTiAoW15cXHUwMDAxXSspXFx1MDAwMSQvO1xudmFyIGp1c3RpbkZhblJlZ2V4ID0gL14oanVzdGluZmFuKShcXGQrJCkvO1xudmFyIHVuZXNjYXBlSVJDUmVnZXggPSAvXFxcXChbc246clxcXFxdKS9nO1xudmFyIGlyY0VzY2FwZWRDaGFycyA9IHsgczogJyAnLCBuOiAnJywgJzonOiAnOycsIHI6ICcnIH07XG52YXIgc2VsZiA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFJldHVybiB0aGUgc2Vjb25kIHZhbHVlIGlmIHRoZSBmaXJzdCB2YWx1ZSBpcyB1bmRlZmluZWQuLlxuICAgIGdldDogKG9iajEsIG9iajIpID0+IHsgcmV0dXJuIHR5cGVvZiBvYmoxID09PSBcInVuZGVmaW5lZFwiID8gb2JqMiA6IG9iajE7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIGJvb2xlYW4uLlxuICAgIGlzQm9vbGVhbjogKG9iaikgPT4geyByZXR1cm4gdHlwZW9mKG9iaikgPT09IFwiYm9vbGVhblwiOyB9LFxuXG4gICAgLy8gVmFsdWUgaXMgYSBmaW5pdGUgbnVtYmVyLi5cbiAgICBpc0Zpbml0ZTogKGludCkgPT4geyByZXR1cm4gaXNGaW5pdGUoaW50KSAmJiAhaXNOYU4ocGFyc2VGbG9hdChpbnQpKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGFuIGludGVnZXIuLlxuICAgIGlzSW50ZWdlcjogKGludCkgPT4geyByZXR1cm4gIWlzTmFOKHNlbGYudG9OdW1iZXIoaW50LCAwKSk7IH0sXG5cbiAgICAvLyBVc2VybmFtZSBpcyBhIGp1c3RpbmZhbiB1c2VybmFtZS4uXG4gICAgaXNKdXN0aW5mYW46ICh1c2VybmFtZSkgPT4geyByZXR1cm4ganVzdGluRmFuUmVnZXgudGVzdCh1c2VybmFtZSk7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBudWxsLi5cbiAgICBpc051bGw6IChvYmopID0+IHsgcmV0dXJuIG9iaiA9PT0gbnVsbDsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgcmVnZXguLlxuICAgIGlzUmVnZXg6IChzdHIpID0+IHsgcmV0dXJuIC9bXFx8XFxcXFxcXlxcJFxcKlxcK1xcP1xcOlxcI10vLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgc3RyaW5nLi5cbiAgICBpc1N0cmluZzogKHN0cikgPT4geyByZXR1cm4gdHlwZW9mKHN0cikgPT09IFwic3RyaW5nXCI7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIHZhbGlkIHVybC4uXG4gICAgaXNVUkw6IChzdHIpID0+IHsgcmV0dXJuIFJlZ0V4cChcIl4oPzooPzpodHRwcz98ZnRwKTovLykoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXFxcLjI1NHwxOTJcXFxcLjE2OCkoPzpcXFxcLlxcXFxkezEsM30pezJ9KSg/ITE3MlxcXFwuKD86MVs2LTldfDJcXFxcZHwzWzAtMV0pKD86XFxcXC5cXFxcZHsxLDN9KXsyfSkoPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9KD86XFxcXC4oPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZl17Mix9KSlcXFxcLj8pKD86OlxcXFxkezIsNX0pPyg/OlsvPyNdXFxcXFMqKT8kXCIsXCJpXCIpLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFJldHVybiBhIHJhbmRvbSBqdXN0aW5mYW4gdXNlcm5hbWUuLlxuICAgIGp1c3RpbmZhbjogKCkgPT4geyByZXR1cm4gYGp1c3RpbmZhbiR7TWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDgwMDAwKSArIDEwMDApfWA7IH0sXG5cbiAgICAvLyBSZXR1cm4gYSB2YWxpZCBwYXNzd29yZC4uXG4gICAgcGFzc3dvcmQ6IChzdHIpID0+IHsgcmV0dXJuIFtcIlNDSE1PT1BJSUVcIiwgXCJcIiwgbnVsbF0uaW5jbHVkZXMoc3RyKSA/IFwiU0NITU9PUElJRVwiIDogYG9hdXRoOiR7c3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIm9hdXRoOlwiLCBcIlwiKX1gOyB9LFxuXG4gICAgLy8gUmFjZSBhIHByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICBwcm9taXNlRGVsYXk6ICh0aW1lKSA9PiB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpOyB9KTsgfSxcblxuICAgIC8vIFJlcGxhY2UgYWxsIG9jY3VyZW5jZXMgb2YgYSBzdHJpbmcgdXNpbmcgYW4gb2JqZWN0Li5cbiAgICByZXBsYWNlQWxsOiAoc3RyLCBvYmopID0+IHtcbiAgICAgICAgaWYgKHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSBcInVuZGVmaW5lZFwiKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIGZvciAodmFyIHggaW4gb2JqKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKHgsIFwiZ1wiKSwgb2JqW3hdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICB1bmVzY2FwZUh0bWw6IChzYWZlKSA9PiB7XG4gICAgICAgIHJldHVybiBzYWZlLnJlcGxhY2UoL1xcXFwmYW1wXFxcXDsvZywgXCImXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXCZsdFxcXFw7L2csIFwiPFwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwmZ3RcXFxcOy9nLCBcIj5cIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJnF1b3RcXFxcOy9nLCBcIlxcXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJiMwMzlcXFxcOy9nLCBcIidcIik7XG4gICAgfSxcblxuICAgIC8vIEVzY2FwaW5nIHZhbHVlczogaHR0cDovL2lyY3YzLm5ldC9zcGVjcy9jb3JlL21lc3NhZ2UtdGFncy0zLjIuaHRtbCNlc2NhcGluZy12YWx1ZXNcbiAgICB1bmVzY2FwZUlSQzogKG1zZykgPT4ge1xuICAgICAgICByZXR1cm4gIW1zZyB8fCAhbXNnLmluY2x1ZGVzKCdcXFxcJykgPyBtc2cgOiBtc2cucmVwbGFjZSh1bmVzY2FwZUlSQ1JlZ2V4LCAobSwgcCkgPT4geyByZXR1cm4gcCBpbiBpcmNFc2NhcGVkQ2hhcnMgPyBpcmNFc2NhcGVkQ2hhcnNbcF0gOiBwIH0pO1xuICAgIH0sXG5cbiAgICBhY3Rpb25NZXNzYWdlOiAobXNnKSA9PiB7XG4gICAgICAgIHJldHVybiBtc2cubWF0Y2goYWN0aW9uTWVzc2FnZVJlZ2V4KTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIHdvcmQgdG8gYSBzdHJpbmcuLlxuICAgIGFkZFdvcmQ6IChsaW5lLCB3b3JkKSA9PiB7XG4gICAgICAgIHJldHVybiBsaW5lLmxlbmd0aCA/IGxpbmUgKyBcIiBcIiArIHdvcmQgOiBsaW5lICsgd29yZDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgY2hhbm5lbCBuYW1lLi5cbiAgICBjaGFubmVsOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciBjaGFubmVsID0gKHN0ciA/IHN0ciA6IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBjaGFubmVsWzBdID09PSBcIiNcIiA/IGNoYW5uZWwgOiBcIiNcIiArIGNoYW5uZWw7XG4gICAgfSxcblxuICAgIC8vIEV4dHJhY3QgYSBudW1iZXIgZnJvbSBhIHN0cmluZy4uXG4gICAgZXh0cmFjdE51bWJlcjogKHN0cikgPT4ge1xuICAgICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0ludGVnZXIocGFydHNbaV0pKSB7IHJldHVybiB+fnBhcnRzW2ldOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8vIEZvcm1hdCB0aGUgZGF0ZS4uXG4gICAgZm9ybWF0RGF0ZTogKGRhdGUpID0+IHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgICAgICB2YXIgbWlucyAgPSBkYXRlLmdldE1pbnV0ZXMoKTtcblxuICAgICAgICBob3VycyA9IChob3VycyA8IDEwID8gXCIwXCIgOiBcIlwiKSArIGhvdXJzO1xuICAgICAgICBtaW5zID0gKG1pbnMgPCAxMCA/IFwiMFwiIDogXCJcIikgKyBtaW5zO1xuXG4gICAgICAgIHJldHVybiBgJHtob3Vyc306JHttaW5zfWA7XG4gICAgfSxcblxuICAgIC8vIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci4uXG4gICAgaW5oZXJpdHM6IChjdG9yLCBzdXBlckN0b3IpID0+IHtcbiAgICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7XG4gICAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiBvciBub3QuLlxuICAgIGlzTm9kZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gd2hldGhlciBpbnNpZGUgYSBDaHJvbWUgZXh0ZW5zaW9uIG9yIG5vdC4uXG4gICAgaXNFeHRlbnNpb246ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY2hyb21lICYmIGNocm9tZS5ydW50aW1lICYmIGNocm9tZS5ydW50aW1lLmlkO1xuICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgUmVhY3QgTmF0aXZlIGFwcC4uXG4gICAgaXNSZWFjdE5hdGl2ZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PSBcIlJlYWN0TmF0aXZlXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gb2JqZWN0cy4uXG4gICAgbWVyZ2U6IE9iamVjdC5hc3NpZ24sXG5cbiAgICAvLyBTcGxpdCBhIGxpbmUgYnV0IHRyeSBub3QgdG8gY3V0IGEgd29yZCBpbiBoYWxmLi5cbiAgICBzcGxpdExpbmU6IChpbnB1dCwgbGVuZ3RoKSA9PiB7XG4gICAgICAgIHZhciBsYXN0U3BhY2UgPSBpbnB1dC5zdWJzdHJpbmcoMCwgbGVuZ3RoKS5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgICAgIC8vIE5vIHNwYWNlcyBmb3VuZCwgc3BsaXQgYXQgdGhlIHZlcnkgZW5kIHRvIGF2b2lkIGEgbG9vcC4uXG4gICAgICAgIGlmIChsYXN0U3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICBsYXN0U3BhY2UgPSBsZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaW5wdXQuc3Vic3RyaW5nKDAsIGxhc3RTcGFjZSksIGlucHV0LnN1YnN0cmluZyhsYXN0U3BhY2UgKyAxKV07XG4gICAgfSxcblxuICAgIC8vIFBhcnNlIHN0cmluZyB0byBudW1iZXIuIFJldHVybnMgTmFOIGlmIHN0cmluZyBjYW4ndCBiZSBwYXJzZWQgdG8gbnVtYmVyLi5cbiAgICB0b051bWJlcjogKG51bSwgcHJlY2lzaW9uKSA9PiB7XG4gICAgICAgIGlmIChudW0gPT09IG51bGwpIHJldHVybiAwO1xuICAgICAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIHNlbGYuaXNGaW5pdGUocHJlY2lzaW9uKSA/IHByZWNpc2lvbiA6IDApO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBmYWN0b3IpIC8gZmFjdG9yO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gYXJyYXlzLi5cbiAgICB1bmlvbjogKGFycjEsIGFycjIpID0+IHtcbiAgICAgICAgdmFyIGhhc2ggPSB7fTtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlID0gYXJyMVtpXTtcbiAgICAgICAgICAgIGlmICghaGFzaFtlXSkge1xuICAgICAgICAgICAgICAgIGhhc2hbZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGUgPSBhcnIyW2ldO1xuICAgICAgICAgICAgaWYgKCFoYXNoW2VdKSB7XG4gICAgICAgICAgICAgICAgaGFzaFtlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgdXNlcm5hbWUuLlxuICAgIHVzZXJuYW1lOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciB1c2VybmFtZSA9IChzdHIgPyBzdHIgOiBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gdXNlcm5hbWVbMF0gPT09IFwiI1wiID8gdXNlcm5hbWUuc2xpY2UoMSkgOiB1c2VybmFtZTtcbiAgICB9XG59XG4iLCIvKiBSIEUgUyBPIFUgUiBDIEUgUyAqL1xuaW1wb3J0IFwiLi9hc3NldHMvc3R5bGVzL21haW4uc2Nzc1wiO1xuXG5pbXBvcnQgeyBKb2IgfSBmcm9tIFwiLi90cy9qb2JcIjtcbmltcG9ydCB7IFJlYWN0aW9uIH0gZnJvbSBcIi4vdHMva2V5d29yZHNcIjtcbmltcG9ydCB7IENoYXJ0IH0gZnJvbSBcIi4vdHMvY2hhcnRzL2NoYXJ0XCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vdHMvY2hhdHMvY2hhdFwiO1xuaW1wb3J0IHsgVHdpdGNoQ2hhdCB9IGZyb20gXCIuL3RzL2NoYXRzL3R3aXRjaC5jaGF0XCI7XG5pbXBvcnQgeyBSZWFjdGlvblN0b3JhZ2UsIFVwZGF0ZU1vZGUgfSBmcm9tIFwiLi90cy9yZWFjdGlvbnN0b3JhZ2VcIjtcbmltcG9ydCB7IFBpZSB9IGZyb20gXCIuL3RzL2NoYXJ0cy9waWVcIjtcbmltcG9ydCB7IEJhciB9IGZyb20gXCIuL3RzL2NoYXJ0cy9iYXJcIjtcblxuLy8gZ2V0IGNoYW5uZWwgZnJvbSB1cmxcbmNvbnN0IHBhcmFtczogVVJMU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbmNvbnN0IGNoYW5uZWw6IHN0cmluZyA9IHBhcmFtcy5nZXQoXCJjaGFubmVsXCIpID8/IFwiXCI7XG5cbmNvbnN0IHRpbWVvdXQ6IG51bWJlciA9IHBhcnNlSW50KHBhcmFtcy5nZXQoXCJ0aW1lb3V0XCIpID8/IFwiMTBcIik7XG5jb25zdCByZXF1aXJlZFBpbmdzOiBudW1iZXIgPSBwYXJzZUludChwYXJhbXMuZ2V0KFwicmVxdWlyZWRQaW5nc1wiKSA/PyBcIjVcIik7XG5cbmNvbnN0IGpvYjogSm9iID0gbmV3IEpvYih0aW1lb3V0LCByZXF1aXJlZFBpbmdzKTtcbmNvbnN0IGNoYXQ6IENoYXQgPSBuZXcgVHdpdGNoQ2hhdChjaGFubmVsKTtcblxuZnVuY3Rpb24gYnVpbGRDaGFydEZyb21QYXJhbXMoKTogQ2hhcnQge1xuICBjb25zdCB0eXBlID0gcGFyYW1zLmhhcyhcInR5cGVcIikgPyBwYXJhbXMuZ2V0KFwidHlwZVwiKSA6IG51bGw7IC8vIG51bGwgPSBiYXJcblxuICAvLyByZXR1cm4gYmFyXG4gIGlmICh0eXBlID09IFwicGllXCIpIHtcbiAgICByZXR1cm4gbmV3IFBpZSh7XG4gICAgICBlbGVtZW50SWQ6IFwiYmFyXCIsXG4gICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgIHg6IC0xLFxuICAgICAgeTogLTEsXG4gICAgICByYWRpdXNGYWN0b3I6IDIsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBCYXIoe1xuICAgICAgZWxlbWVudElkOiBcImJhclwiLFxuICAgICAgLy8gaGVpZ2h0OiA1MCxcbiAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgYmFyTWFyZ2luSGVpZ2h0OiAwLFxuICAgICAgYmFyTWFyZ2luV2lkdGg6IDAsXG4gICAgICBzdHJva2VNYXJnaW5IZWlnaHQ6IDAsXG4gICAgICBzdHJva2VNYXJnaW5XaWR0aDogMCxcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBjaGFydDogQ2hhcnQgPSBidWlsZENoYXJ0RnJvbVBhcmFtcygpO1xuXG5jb25zdCBzdG9yYWdlOiBSZWFjdGlvblN0b3JhZ2UgPSBuZXcgUmVhY3Rpb25TdG9yYWdlKGNoYXQsIGpvYik7XG5cbi8vIFJlYWN0aW9uU3RvcmFnZSNvbih1cGRhdGUpXG4vLyBUaGlzIGV2ZW50IGlzIGV4ZWN1dGVkIHdoZW4gYSByZWFjdGlvbiBjb3VudCB3YXMgaW5jcmVtZW50ZWQuXG4vLyBJbiB0aGlzIGV2ZW50IHRoZSBjaGFydCBzaG91bGQgYmUgKHJlKXBhaW50ZWQgd2l0aCB0aGUgdmFsdWVzIGZyb206XG4vLyBSZWFjdGlvblN0b3JhZ2UjZ2V0VmFsdWVzKClcbnN0b3JhZ2Uub24oXCJ1cGRhdGVcIiwgKHJlYWN0aW9uOiBSZWFjdGlvbiwgdmFsdWU6IG51bWJlciwgbW9kZTogVXBkYXRlTW9kZSkgPT4ge1xuICBjb25zb2xlLmxvZyhcIm9uOiB1cGRhdGUgPVwiLCB2YWx1ZSwgbW9kZSwgam9iLmlzQWN0aXZlKCksIG1vZGUgPT0gVXBkYXRlTW9kZS5JTkNSRU1FTlQpO1xuICBpZiAobW9kZSA9PSBVcGRhdGVNb2RlLklOQ1JFTUVOVCAmJiBqb2IuaXNBY3RpdmUoKSkge1xuICAgIHN0b3JhZ2UuZHJhd0NoYXJ0KGNoYXJ0KTtcbiAgfVxufSk7XG5cbmpvYi5vbihcInN0YXJ0XCIsICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJKb2Igc3RhcnRlZCFcIik7XG59KTtcblxuam9iLm9uKFwiY2FuY2VsXCIsICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJKb2IgY2FuY2VsZWQhXCIpO1xuXG4gIC8vIGNsZWFyIGJhclxuICBjaGFydC5jbGVhcigpO1xuXG4gIC8vIHJlc2V0IHZhbHVlc1xuICBzdG9yYWdlLnJlc2V0U3RvcmFnZSgpO1xufSk7IiwiaW1wb3J0IHsgY29sb3JzLCBkYXJrZW5IZXhDb2xvciB9IGZyb20gXCIuLi9jb2xvclwiO1xuaW1wb3J0IHsgQ2hhcnQsIENoYXJ0UHJvcGVydGllcyB9IGZyb20gXCIuL2NoYXJ0XCI7XG5cbmNvbnN0IEZPTlRfRFlOQU1JQzogbnVtYmVyID0gLTE7XG5leHBvcnQgeyBGT05UX0RZTkFNSUMgfTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFyUHJvcGVydGllcyBleHRlbmRzIENoYXJ0UHJvcGVydGllcyB7XG4gIC8qKlxuICAgKiBUaGUgZGlzdGFuY2Ugb2YgdGhlIGhlaWdodCAoYm90dG9tIGFuZCB0b3ApIHRvIHRoZSBlZGdlIG9mIHRoZSBjYW52YXNcbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgYmFyTWFyZ2luSGVpZ2h0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZGlzdGFuY2Ugb2YgdGhlIHdpZHRoIChsZWZ0IGFuZCByaWdodCkgdG8gdGhlIGVkZ2Ugb2YgdGhlIGNhbnZhc1xuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBiYXJNYXJnaW5XaWR0aD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRvcCBhbmQgYm90dG9tIGRpc3RhbmNlIGJldHdlZW5cbiAgICogdGhlIG91dGxpbmUgb2YgdGhlIFByb2dyZXNzQmFyIGFuZCB0aGUgZmlsbGVkIGluXG4gICAqIEBkZWZhdWx0IDVcbiAgICovXG4gIHN0cm9rZU1hcmdpbkhlaWdodD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxlZnQgYW5kIHJpZ2h0IGRpc3RhbmNlIGJldHdlZW5cbiAgICogdGhlIG91dGxpbmUgb2YgdGhlIFByb2dyZXNzQmFyIGFuZCB0aGUgZmlsbGVkIGluXG4gICAqIEBkZWZhdWx0IDVcbiAgICovXG4gIHN0cm9rZU1hcmdpbldpZHRoPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY29sb3JzIGZyb20gdGhpcyBhcnJheSBhcmUgZ3JhZHVhbGx5IHVzZWQgZm9yIHRoZSBjb2xvcnMgb2YgdGhlIHZhbHVlcyBvZiB0aGUgYmFyLlxuICAgKiBJZiB0aGVyZSBhcmUgbGVzcyBjb2xvcnMgaW4gdGhlIGFycmF5IHRoYW4gdmFsdWVzLFxuICAgKiB0aGUgbmV4dCBjb2xvciBpcyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcgYWdhaW4uXG4gICAqIEBkZWZhdWx0IHsuLi9jb2xvci50czo6Y29sb3JzfVxuICAgKi9cbiAgdmFsdWVDb2xvcnM/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogVGhpcyBjb2xvciBpcyB1c2VkIGZvciB0aGUgYm9yZGVyIG9mIHRoZSBiYXIuXG4gICAqIEBkZWZhdWx0ICMzNDQ5NWUgKGxpZ2h0IGdyYXkpXG4gICAqL1xuICBzdHJva2VDb2xvcj86IHN0cmluZztcblxuICAvKipcbiAgICogSG93IG9mdGVuIHNob3VsZCB0aGUgY29udG91ciBiZSBkcmF3bj8gKE9yIGFsc286IHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZSlcbiAgICovXG4gIHN0cm9rZUl0ZXJhdGlvbnM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBmb250IHNpemUgb2YgdGhlIGZvbnQgdGhhdCBzZXJ2ZXMgYXMgYSBwZXJjZW50YWdlIGRpc3BsYXkgYWJvdmUgdGhlIGNoYXJ0LlxuICAgKiBVc2UgRk9OVF9EWU5BTUlDIHRvIGhhdmUgdGhlIGZvbnQgc2l6ZSBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgY2hhcnQgKGR5bmFtaWMpXG4gICAqIEBkZWZhdWx0IEZPTlRfRFlOQU1JQ1xuICAgKi9cbiAgZm9udFNpemU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBmb250IGZhbWlseSBmb3IgdGhlIHZhbHVlc1xuICAgKiBAZGVmYXVsdCBjYWxpYnJpXG4gICAqL1xuICBmb250RmFtaWx5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb3cgbXVjaCB0aGUgdGV4dCBjb2xvciBzaG91bGQgYmUgZGFya2VuZWRcbiAgICogQGRlZmF1bHQgLjY1XG4gICAqL1xuICBmb250Q29sb3JGYWN0b3I/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBmb250IGluIHRoZSBjYWxjdWxhdGlvbiBieSB0aGUgZmFjdG9yIHtmb250U2l6ZUZhY3Rvcn1cbiAgICogQGRlZmF1bHQgMS84XG4gICAqL1xuICBmb250U2l6ZUZhY3Rvcj86IG51bWJlcjtcblxuICAvKipcbiAgICogUm91bmQgdGhlIHZhbHVlP1xuICAgKi9cbiAgdGV4dFJvdW5kPzogYm9vbGVhbjtcbn1cblxuY29uc3QgZGVmYXVsdEJhclByb3BlcnRpZXM6IEJhclByb3BlcnRpZXMgPSB7XG4gIGVsZW1lbnRJZDogXCJcIixcbiAgYmFyTWFyZ2luSGVpZ2h0OiAxMCxcbiAgYmFyTWFyZ2luV2lkdGg6IDEwLFxuICBzdHJva2VNYXJnaW5IZWlnaHQ6IDUsXG4gIHN0cm9rZU1hcmdpbldpZHRoOiA1LFxuICB2YWx1ZUNvbG9yczogY29sb3JzLFxuICBzdHJva2VDb2xvcjogXCIjMzQ0OTVlXCIsXG4gIHN0cm9rZUl0ZXJhdGlvbnM6IDEsXG4gIGZvbnRTaXplOiBGT05UX0RZTkFNSUMsXG4gIGZvbnRGYW1pbHk6IFwiY291cmllclwiLFxuICBmb250U2l6ZUZhY3RvcjogMS44LFxuICBmb250Q29sb3JGYWN0b3I6IDAuNjUsXG4gIHRleHRSb3VuZDogdHJ1ZSxcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgQmFyIGV4dGVuZHMgQ2hhcnQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcHJvcGVydGllczogQmFyUHJvcGVydGllcykge1xuICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgLi4uZGVmYXVsdEJhclByb3BlcnRpZXMsIC4uLnRoaXMucHJvcGVydGllcyB9O1xuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcGVydGllcyk7XG4gIH1cblxuICBwdWJsaWMgaW5pdCgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIGJhclxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWVzIEFuIGFycmF5IG9mIHZhbHVlc1xuICAgKiBAcGFyYW0gZHJhd1RleHQgRHJhdyB0aGUgcGVyY2VudGFnZSBvbiB0b3A/XG4gICAqIEBwYXJhbSBjbGVhciBDbGVhciB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nP1xuICAgKi9cbiAgcHVibGljIGRyYXcoXG4gICAgdmFsdWVzOiBudW1iZXJbXSxcbiAgICBkcmF3VGV4dDogYm9vbGVhbiA9IHRydWUsXG4gICAgY2xlYXI6IGJvb2xlYW4gPSB0cnVlXG4gICk6IHZvaWQge1xuICAgIC8vIGRyYXdcbiAgICBpZiAoY2xlYXIpIHtcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzO1xuXG4gICAgY29uc3QgcmVjdFdpZHRoOiBudW1iZXIgPSB0aGlzLndpZHRoIC0gcHJvcC5iYXJNYXJnaW5XaWR0aCAqIDI7XG4gICAgY29uc3QgcmVjdEhlaWdodDogbnVtYmVyID0gdGhpcy5oZWlnaHQgLSBwcm9wLmJhck1hcmdpbkhlaWdodCAqIDI7XG5cbiAgICAvLyBwcm9wZXJ0aWVzXG4gICAgbGV0IGZvbnRTaXplID0gcHJvcC5mb250U2l6ZTtcbiAgICBpZiAoZm9udFNpemUgPT09IEZPTlRfRFlOQU1JQykge1xuICAgICAgZm9udFNpemUgPSByZWN0SGVpZ2h0ICogKDIgLyAzKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb250TXAgPSBmb250U2l6ZSAvIHByb3AuZm9udFNpemVGYWN0b3I7XG4gICAgdGhpcy5jdHguZm9udCA9IGAke01hdGgucm91bmQoZm9udFNpemUpfXB4ICR7cHJvcC5mb250RmFtaWx5fWA7XG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBwcm9wLnN0cm9rZUNvbG9yO1xuXG4gICAgLy8gc3Ryb2tlXG4gICAgZm9yIChsZXQgajogbnVtYmVyID0gMDsgaiA8IHByb3Auc3Ryb2tlSXRlcmF0aW9uczsgaisrKSB7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4LnJlY3QoXG4gICAgICAgIHRoaXMueCArIHByb3AuYmFyTWFyZ2luV2lkdGggLSBwcm9wLnN0cm9rZU1hcmdpbldpZHRoIC0gaixcbiAgICAgICAgdGhpcy55ICsgcHJvcC5iYXJNYXJnaW5IZWlnaHQgLSBwcm9wLnN0cm9rZU1hcmdpbkhlaWdodCAtIGosXG4gICAgICAgIHJlY3RXaWR0aCArIHByb3Auc3Ryb2tlTWFyZ2luV2lkdGggKiAyICsgaixcbiAgICAgICAgcmVjdEhlaWdodCArIHByb3Auc3Ryb2tlTWFyZ2luSGVpZ2h0ICogMiArIGpcbiAgICAgICk7XG4gICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIC8vIGNvdW50IHRoZSBzdW0gb2YgYWxsIHJlYWN0aW9uc1xuICAgIC8vIGxldCBzdW0gPSB2YWwubWFwKGMgPT4gYy52YWx1ZSkucmVkdWNlKChhLCBjKSA9PiBhICsgYyk7XG4gICAgY29uc3Qgc3VtID0gdmFsdWVzLnJlZHVjZSgoYSwgYykgPT4gYSArIGMpO1xuXG4gICAgbGV0IGxhc3RYID0gcHJvcC5iYXJNYXJnaW5XaWR0aDsgLy8gNTAgLT4gc3RhcnRpbmcgcG9zXG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdjogbnVtYmVyID0gdmFsdWVzW2ldO1xuICAgICAgY29uc3QgcGVyY2VudGFnZTogbnVtYmVyID0gdiAvIHN1bTtcblxuICAgICAgaWYgKHBlcmNlbnRhZ2UgPT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsdWVXaWR0aDogbnVtYmVyID0gcmVjdFdpZHRoICogcGVyY2VudGFnZTtcblxuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gcHJvcC52YWx1ZUNvbG9yc1tpICUgcHJvcC52YWx1ZUNvbG9ycy5sZW5ndGhdO1xuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmN0eC5yZWN0KFxuICAgICAgICB0aGlzLnggKyBsYXN0WCxcbiAgICAgICAgdGhpcy55ICsgcHJvcC5iYXJNYXJnaW5IZWlnaHQsXG4gICAgICAgIHZhbHVlV2lkdGgsXG4gICAgICAgIHJlY3RIZWlnaHRcbiAgICAgICk7XG4gICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgLy8gZHJhdyB0ZXh0XG4gICAgICBpZiAoZHJhd1RleHQpIHtcbiAgICAgICAgbGV0IHR4dDogc3RyaW5nO1xuICAgICAgICBpZiAocHJvcC50ZXh0Um91bmQpIHtcbiAgICAgICAgICB0eHQgPSBgJHtNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgKiAxMDApfSVgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR4dCA9IGAke3BlcmNlbnRhZ2UgKiAxMDB9JWA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZGFya2VuSGV4Q29sb3IoXG4gICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlLFxuICAgICAgICAgIHByb3AuZm9udENvbG9yRmFjdG9yXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICAgIHR4dCxcbiAgICAgICAgICB0aGlzLnggKyBsYXN0WCArIHZhbHVlV2lkdGggLyAyIC0gKGZvbnRNcCAqIHR4dC5sZW5ndGgpIC8gMixcbiAgICAgICAgICB0aGlzLnkgKyBwcm9wLmJhck1hcmdpbkhlaWdodCArIHJlY3RIZWlnaHQgLyAyICsgZm9udE1wIC8gMlxuICAgICAgICApO1xuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIH1cblxuICAgICAgbGFzdFggKz0gdmFsdWVXaWR0aDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbn1cbiIsImNvbnN0IFNJWkVfRklMTDogbnVtYmVyID0gLTE7XG5jb25zdCBMT0NBVElPTl9DRU5URVI6IG51bWJlciA9IC0yO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXJ0UHJvcGVydGllcyB7XG4gIGVsZW1lbnRJZDogc3RyaW5nO1xuICB4PzogbnVtYmVyO1xuICB5PzogbnVtYmVyO1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBiYWNrZ3JvdW5kPzogc3RyaW5nO1xufVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENoYXJ0IHtcbiAgLy9cbiAgcHVibGljIGNhbnZhc0VsZW1lbnRJZDogc3RyaW5nO1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICAvL1xuICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwdWJsaWMgZXJyb3I6IHN0cmluZztcbiAgLy9cblxuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzOiBDaGFydFByb3BlcnRpZXMpIHtcbiAgICB0aGlzLmNhbnZhc0VsZW1lbnRJZCA9IHByb3BlcnRpZXMuZWxlbWVudElkO1xuICAgIHRoaXMueCA9IHByb3BlcnRpZXMueCA/PyAwO1xuICAgIHRoaXMueSA9IHByb3BlcnRpZXMueSA/PyAwO1xuICAgIHRoaXMud2lkdGggPSBwcm9wZXJ0aWVzLndpZHRoID8/IFNJWkVfRklMTDtcbiAgICB0aGlzLmhlaWdodCA9IHByb3BlcnRpZXMuaGVpZ2h0ID8/IFNJWkVfRklMTDtcblxuICAgIC8vIGlmIHdpZHRoID09IC0xOiB3aWR0aCBvZiBkaXNwbGF5XG4gICAgaWYgKHRoaXMud2lkdGggPT09IFNJWkVfRklMTCkge1xuICAgICAgdGhpcy53aWR0aCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGg7XG4gICAgfSBlbHNlIGlmICh0aGlzLnggPT09IExPQ0FUSU9OX0NFTlRFUikge1xuICAgICAgdGhpcy54ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCAvIDIgLSB0aGlzLndpZHRoIC8gMjtcbiAgICB9XG5cbiAgICAvLyBpZiBoZWlnaHQgPT0gLTE6IGhlaWdodCBvZiBkaXNwbGF5XG4gICAgaWYgKHRoaXMuaGVpZ2h0ID09IFNJWkVfRklMTCkge1xuICAgICAgdGhpcy5oZWlnaHQgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtcbiAgICB9IGVsc2UgaWYgKHRoaXMueCA9PT0gTE9DQVRJT05fQ0VOVEVSKSB7XG4gICAgICB0aGlzLnkgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5pbm5lckhlaWdodCAvIDIgLSB0aGlzLmhlaWdodCAvIDI7XG4gICAgfVxuXG4gICAgLy8gZmluZCBjYW52YXNcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0VsZW1lbnRJZCk7XG4gICAgaWYgKGNhbnZhcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVycm9yID0gXCJDYW52YXMgbm90IGZvdW5kLlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5jYW52YXM7XG5cbiAgICAvLyBnZXQgY29udGV4dFxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBpZiAoY3R4ID09IG51bGwpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBcIkNvbnRleHQgbm90IGZvdW5kLlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN0eCA9IGN0eDtcblxuICAgIC8vIG1ha2UgdGhlIGNhbnZhcyB0aGUgc2l6ZSBvZiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xuXG4gICAgLy8gYmFja2dyb3VuZFxuICAgIGlmICgocHJvcGVydGllcy5iYWNrZ3JvdW5kID8/IFwiIzJjM2U1MFwiKSAhPSBcIm5vbmVcIikge1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IHByb3BlcnRpZXMuYmFja2dyb3VuZCA/PyBcIiMyYzNlNTBcIjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGFic3RyYWN0IGluaXQoKTogdm9pZDtcbiAgYWJzdHJhY3QgZHJhdyh2YWx1ZXM6IG51bWJlcltdLCBkcmF3VGV4dD86IGJvb2xlYW4sIGNsZWFyPzogYm9vbGVhbik6IHZvaWQ7XG4gIGFic3RyYWN0IGNsZWFyKCk6IHZvaWQ7XG59IiwiaW1wb3J0IHsgQ2hhcnQsIENoYXJ0UHJvcGVydGllcyB9IGZyb20gXCIuL2NoYXJ0XCI7XG5pbXBvcnQgeyBjb2xvcnMsIGRhcmtlbkhleENvbG9yIH0gZnJvbSBcIi4uL2NvbG9yXCI7XG5cbmNvbnN0IExPQ0FUSU9OX0NFTlRFUjogbnVtYmVyID0gLTE7XG5cbmV4cG9ydCB7IExPQ0FUSU9OX0NFTlRFUiB9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW50ZXJmYWNlIFBpZVByb3BlcnRpZXMgZXh0ZW5kcyBDaGFydFByb3BlcnRpZXMge1xuICAvKipcbiAgICogXG4gICAqIFRoZSBmb250IHNpemUgb2YgdGhlIGZvbnQgdGhhdCBzZXJ2ZXMgYXMgYSBwZXJjZW50YWdlIGRpc3BsYXkgYWJvdmUgdGhlIGNoYXJ0LlxuICAgKiBVc2UgRk9OVF9EWU5BTUlDIHRvIGhhdmUgdGhlIGZvbnQgc2l6ZSBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgY2hhcnQgKGR5bmFtaWMpXG4gICAqIEBkZWZhdWx0IDI1XG4gICAqL1xuICBmb250U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogUm91bmQgdGhlIHZhbHVlP1xuICAgKi9cbiAgcm91bmQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiAoaGVpZ2h0IG9yIHdpZHRoKSAvIHtyYWRpdXNGYWN0b3J9XG4gICAqL1xuICByYWRpdXNGYWN0b3I/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBmb250IGZhbWlseSBmb3IgdGhlIHZhbHVlc1xuICAgKiBAZGVmYXVsdCBjYWxpYnJpXG4gICAqL1xuICBmb250RmFtaWx5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb3cgbXVjaCB0aGUgdGV4dCBjb2xvciBzaG91bGQgYmUgZGFya2VuZWRcbiAgICogQGRlZmF1bHQgLjY1XG4gICAqL1xuICBmb250Q29sb3JGYWN0b3I/OiBudW1iZXI7XG59XG5cbmNvbnN0IGRlZmF1bHRQaWVQYXJhbXM6IFBpZVByb3BlcnRpZXMgPSB7XG4gIGVsZW1lbnRJZDogXCJcIixcbiAgZm9udFNpemU6IDI1LFxuICByb3VuZDogdHJ1ZSxcbiAgcmFkaXVzRmFjdG9yOiA0LjUsXG4gIGZvbnRGYW1pbHk6IFwiY291cmllclwiLFxuICBmb250Q29sb3JGYWN0b3I6IDAuNjUsXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIFBpZSBleHRlbmRzIENoYXJ0IHtcbiAgLyoqXG4gICAqIFJhZGl1cyBvZiBwaWVcbiAgICovXG4gIHB1YmxpYyByOiBudW1iZXI7XG4gIHByaXZhdGUgZW5kQW5nbGU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcHJvcGVydGllczogUGllUHJvcGVydGllcykge1xuICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0UGllUGFyYW1zLCAuLi50aGlzLnByb3BlcnRpZXMgfTtcblxuICAgIGlmICh0aGlzLnggPT09IExPQ0FUSU9OX0NFTlRFUikge1xuICAgICAgdGhpcy54ID0gdGhpcy53aWR0aCAvIDI7XG4gICAgfVxuICAgIGlmICh0aGlzLnkgPT09IExPQ0FUSU9OX0NFTlRFUikge1xuICAgICAgdGhpcy55ID0gdGhpcy5oZWlnaHQgLyAyO1xuICAgIH1cblxuICAgIHRoaXMuciA9IE1hdGgubWluKHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKSAvIHRoaXMucHJvcGVydGllcy5yYWRpdXNGYWN0b3I7XG4gIH1cblxuICBwdWJsaWMgaW5pdCgpOiB2b2lkIHt9XG5cbiAgcHVibGljIGRyYXcoXG4gICAgdmFsdWVzOiBudW1iZXJbXSxcbiAgICBkcmF3VGV4dDogYm9vbGVhbiA9IHRydWUsXG4gICAgY2xlYXI6IGJvb2xlYW4gPSB0cnVlXG4gICk6IHZvaWQge1xuICAgIC8vIGRyYXdcbiAgICBpZiAoY2xlYXIpIHtcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvLyBBbGlhcyB0byBwcm9wZXJ0aWVzXG4gICAgY29uc3QgcHJvcCA9IHRoaXMucHJvcGVydGllcztcblxuICAgIGNvbnN0IHN1bSA9IHZhbHVlcy5yZWR1Y2UoKGEsIGMpID0+IGEgKyBjKTtcblxuICAgIC8vIHJlc2V0IGVuZEFuZ2xlXG4gICAgdGhpcy5lbmRBbmdsZSA9IDA7XG5cbiAgICAvLyBkcmF3IHBpZVxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHZhbHVlOiBudW1iZXIgPSAodmFsdWVzW2ldIC8gc3VtKSAqIDEwMDtcbiAgICAgIGlmICh2YWx1ZSA9PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2xvcjogc3RyaW5nID0gY29sb3JzW2kgJSBjb2xvcnMubGVuZ3RoXTtcblxuICAgICAgY29uc3QgY3VycmVudEFuZ2xlID0gKE1hdGguUEkgLyA1MCkgKiB2YWx1ZTtcblxuICAgICAgLy8gZHJhdyBiYXNpYyBwaWUgY2hhcnRcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHgubW92ZVRvKHRoaXMueCwgdGhpcy55KTtcbiAgICAgIHRoaXMuY3R4LmFyYyhcbiAgICAgICAgdGhpcy54LFxuICAgICAgICB0aGlzLnksXG4gICAgICAgIHRoaXMucixcbiAgICAgICAgdGhpcy5lbmRBbmdsZSAtIDAuNSAqIE1hdGguUEksXG4gICAgICAgIHRoaXMuZW5kQW5nbGUgKyBjdXJyZW50QW5nbGUgLSAwLjUgKiBNYXRoLlBJXG4gICAgICApO1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgY29uc3QgYmV0YSA9IHRoaXMuZW5kQW5nbGUgKyBjdXJyZW50QW5nbGUgLyAyO1xuXG4gICAgICAvLyBmb3JtYXQgb2YgdGV4dFxuICAgICAgaWYgKGRyYXdUZXh0KSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGRhcmtlbkhleENvbG9yKFxuICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSxcbiAgICAgICAgICBwcm9wLmZvbnRDb2xvckZhY3RvclxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3R4LmZvbnQgPSBwcm9wLmZvbnRTaXplICsgXCJweCBcIiArIHByb3AuZm9udEZhbWlseTtcblxuICAgICAgICBsZXQgdHh0OiBzdHJpbmc7XG4gICAgICAgIGlmIChwcm9wLnJvdW5kKSB7XG4gICAgICAgICAgdHh0ID0gYCR7TWF0aC5yb3VuZCh2YWx1ZSl9JWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHh0ID0gYCR7dmFsdWV9JGA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGV4dCBwb3NpdGlvblxuICAgICAgICBjb25zdCB0ID0gdHh0Lmxlbmd0aCAqIDE1O1xuICAgICAgICBjb25zdCBoID0gMTU7XG5cbiAgICAgICAgY29uc3QgQWJzID0gdGhpcy5yIC0gNTA7XG4gICAgICAgIGNvbnN0IFR4ID1cbiAgICAgICAgICB0aGlzLnggKyAoTWF0aC5zaW4oYmV0YSkgKiBBYnMgKyAodCAvIDIpICogKE1hdGguc2luKGJldGEpIC0gMSkpO1xuICAgICAgICBjb25zdCBUeSA9XG4gICAgICAgICAgdGhpcy55IC0gKE1hdGguY29zKGJldGEpICogQWJzICsgKGggLyAyKSAqIChNYXRoLmNvcyhiZXRhKSAtIDEpKTtcblxuICAgICAgICAvLyBkcmF3IHRleHRcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodHh0LCBUeCwgVHkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVuZEFuZ2xlICs9IGN1cnJlbnRBbmdsZTtcbiAgICB9XG4gIH1cbiAgXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG5cbn0iLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDaGF0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwdWJsaWMgY2hhbm5lbDogc3RyaW5nXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBcIm1lc3NhZ2VcIiBldmVudCBidXNcbiAgICogQXJnczpcbiAgICovXG4gIHB1YmxpYyBvbk1lc3NhZ2UoXG4gICAgbGlzdGVuZXI6ICh1c2VybmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5vbihcIm1lc3NhZ2VcIiwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGVtaXRNZXNzYWdlKHVzZXJuYW1lOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwgdXNlcm5hbWUsIG1lc3NhZ2UpO1xuICB9XG5cbn0iLCJpbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHsgQWN0aW9ucywgQ2hhdFVzZXJzdGF0ZSwgQ2xpZW50LCBDbGllbnRCYXNlIH0gZnJvbSBcInRtaS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgVHdpdGNoQ2hhdCBleHRlbmRzIENoYXQge1xuICAvKipcbiAgICogdG1pLmpzIGNsaWVudFxuICAgKi9cbiAgcHVibGljIGNsaWVudDogQ2xpZW50QmFzZSAmIEFjdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoY2hhbm5lbDogc3RyaW5nKSB7XG4gICAgc3VwZXIoY2hhbm5lbCk7XG5cbiAgICAvLyBjcmVhdGUgY2xpZW50XG4gICAgdGhpcy5jbGllbnQgPSBDbGllbnQoe1xuICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICBzZWN1cmU6IHRydWUsXG4gICAgICAgIHJlY29ubmVjdDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBjaGFubmVsczogW3RoaXMuY2hhbm5lbF0sXG4gICAgfSk7XG5cbiAgICAvLyBkZWJ1Z1xuICAgIGNvbnNvbGUubG9nKFwiW0NoYXRdIENvbm5lY3RpbmcgdG8gY2hhbm5lbDogXCIgKyBjaGFubmVsKTtcbiAgICB0aGlzLmNsaWVudC5jb25uZWN0KCk7XG4gICAgY29uc29sZS5sb2coXCJbQ2hhdF0gQ29ubmVjdGVkIVwiKTtcblxuICAgIC8vIGV2ZW50c1xuICAgIHRoaXMuY2xpZW50Lm9uKFxuICAgICAgXCJtZXNzYWdlXCIsXG4gICAgICAoYzogc3RyaW5nLCB1OiBDaGF0VXNlcnN0YXRlLCBtZXNzYWdlOiBzdHJpbmcsIHM6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgdGhpcy5lbWl0TWVzc2FnZSh1LnVzZXJuYW1lLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59IiwiLy8gY29sb3JzIGZvciB0aGUgY2hhcnRzXG4vLyB0YWtlbiBmcm9tOiBodHRwczovL2ZsYXR1aWNvbG9ycy5jb20vXG5jb25zdCBjb2xvcnM6IEFycmF5PHN0cmluZz4gPSBbXG4gIFwiIzM0OThkYlwiLFxuICBcIiNmMWM0MGZcIixcbiAgXCIjZTc0YzNjXCIsXG4gIFwiIzM0OThkYlwiLFxuICBcIiMyZWNjNzFcIixcbiAgXCIjMWFiYzljXCIsXG4gIFwiIzliNTliNlwiLFxuICBcIiNmMWM0MGZcIixcbiAgXCIjZTY3ZTIyXCIsXG4gIFwiI2U3NGMzY1wiLFxuICBcIiNlY2YwZjFcIixcbl07XG4vLyBleHBvcnQgY29sb3JzXG5leHBvcnQgeyBjb2xvcnMgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIFJHQjJIZXgocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgbGVhZGluZ0hhc2g6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcbiAgY29uc3QgcmdiOiBudW1iZXIgPSAoKHIgPDwgMTYpIHwgKGcgPDwgOCkgfCBiKSAmIDB4ZmZmZmZmO1xuICBjb25zdCBoZXggPSByZ2IudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gKGxlYWRpbmdIYXNoID8gXCIjXCIgOiBcIlwiKSArIGhleDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhleDJSR0IoaGV4OiBzdHJpbmcpOiBBcnJheTxudW1iZXI+IHtcbiAgaWYgKGhleC5zdGFydHNXaXRoKFwiI1wiKSkge1xuICAgIGhleCA9IGhleC5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBjb25zdCByZ2I6IG51bWJlciA9IHBhcnNlSW50KGhleCwgMTYpO1xuXG4gIHJldHVybiBbXG4gICAgLyogUiAqLyAocmdiID4+IDE2KSAmIDB4ZmYsXG4gICAgLyogRyAqLyAocmdiID4+IDgpICYgMHhmZixcbiAgICAvKiBCICovIHJnYiAmIDB4ZmYsXG4gIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXJrZW5SR0JDb2xvcihcbiAgcjogbnVtYmVyLFxuICBnOiBudW1iZXIsXG4gIGI6IG51bWJlcixcbiAgbXA6IG51bWJlclxuKTogc3RyaW5nIHtcbiAgciA9IE1hdGgubWF4KDAsIHIgKiBtcCk7XG4gIGcgPSBNYXRoLm1heCgwLCBnICogbXApO1xuICBiID0gTWF0aC5tYXgoMCwgYiAqIG1wKTtcbiAgcmV0dXJuIFJHQjJIZXgociwgZywgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXJrZW5IZXhDb2xvcihoZXg6IHN0cmluZywgbXA6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IHJnYiA9IEhleDJSR0IoaGV4KTtcbiAgY29uc3QgaGV4MiA9IGRhcmtlblJHQkNvbG9yKHJnYlswXSwgcmdiWzFdLCByZ2JbMl0sIG1wKTtcbiAgcmV0dXJuIGhleDI7XG59XG4iLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBKb2IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIHRpbWVyOiBudW1iZXIgfCBudWxsO1xuXG4gIHByaXZhdGUgY3VycmVudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBjdXJyZW50UGluZzogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGltZW91dDogbnVtYmVyID0gMTAsIC8vIGluIHNcbiAgICBwdWJsaWMgcmVxdWlyZWRQaW5ncyA9IDFcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGludGVybmFsIG1ldGhvZCBpcyBleGVjdXRlZCBldmVyeSBzZWNvbmQgYXMgbG9uZyBhcyB0aGUgdGltZXIgaXMgcnVubmluZy5cbiAgICovXG4gIHByaXZhdGUgb25UaW1lKCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudCsrO1xuICAgIGlmICh0aGlzLmN1cnJlbnQgPj0gdGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgdGhpcy5lbWl0KFwiY2FuY2VsXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwaW5nKCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudFBpbmcrKztcbiAgICBpZiAodGhpcy5jdXJyZW50UGluZyA8IHRoaXMucmVxdWlyZWRQaW5ncykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgdGhpcy5jdXJyZW50UGluZyA9IDA7XG5cbiAgICBpZiAodGhpcy50aW1lciA9PSBudWxsKSB7XG4gICAgICB0aGlzLnRpbWVyID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHRoaXMub25UaW1lKCksIDEwMDApO1xuICAgICAgdGhpcy5lbWl0KFwic3RhcnRcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0b3BUaW1lcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIHJlc2V0IHZhbHVlc1xuICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgdGhpcy5jdXJyZW50UGluZyA9IDA7XG4gIH1cblxuICBwdWJsaWMgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGltZXIgIT0gbnVsbDtcbiAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBSZWFjdGlvbiB7XG4gIHNvcnRpbmc6IG51bWJlcjtcbiAgZGlzcGxheTogc3RyaW5nO1xuICBrZXl3b3Jkczogc3RyaW5nW107XG59XG5cbmNvbnN0IHJlYWN0aW9uczogUmVhY3Rpb25bXSA9IFtcbiAge1xuICAgIHNvcnRpbmc6IDAsXG4gICAgZGlzcGxheTogXCIrMVwiLFxuICAgIGtleXdvcmRzOiBbXCIrMVwiLCBcIjFcIiwgXCJ5ZXNcIiwgXCJ5ZVwiLCBcImphXCJdLFxuICB9LFxuICB7XG4gICAgc29ydGluZzogMixcbiAgICBkaXNwbGF5OiBcIn5cIixcbiAgICBrZXl3b3JkczogW1wiMlwiLCBcInd0ZlwiXSxcbiAgfSxcbiAge1xuICAgIHNvcnRpbmc6IDMsXG4gICAgZGlzcGxheTogXCItMVwiLFxuICAgIGtleXdvcmRzOiBbXCItMVwiLCBcIjBcIiwgXCJub1wiLCBcIm5laW5cIl0sXG4gIH0sXG5dO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGUgbWVzc2FnZSBjb250YWlucyBhIGtleXdvcmQgb2YgYSByZWFjdGlvbiBhbmQgcmV0dXJucyBpdCBpZiBvbmUgd2FzIGZvdW5kLiBcbiAqIE90aGVyd2lzZSBudWxsXG4gKiBcbiAqIEBwYXJhbSBrZXl3b3JkIEtleXdvcmQgdG8gY2hlY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlYWN0aW9uQnlLZXl3b3JkKGtleXdvcmQ6IHN0cmluZyk6IFJlYWN0aW9uIHwgbnVsbCB7XG4gIGtleXdvcmQgPSBrZXl3b3JkLnRvTG93ZXJDYXNlKCk7XG5cbiAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHJlYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHJlYWN0aW9uOiBSZWFjdGlvbiA9IHJlYWN0aW9uc1tpXTtcbiAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgcmVhY3Rpb24ua2V5d29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChyZWFjdGlvbi5rZXl3b3Jkc1tqXSA9PSBrZXl3b3JkKSB7XG4gICAgICAgIHJldHVybiByZWFjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgcmVhY3Rpb25zIH07IiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi9jaGFydHMvY2hhcnRcIjtcbmltcG9ydCB7IENoYXQgfSBmcm9tIFwiLi9jaGF0cy9jaGF0XCI7XG5pbXBvcnQgeyBKb2IgfSBmcm9tIFwiLi9qb2JcIjtcbmltcG9ydCB7IGdldFJlYWN0aW9uQnlLZXl3b3JkLCBSZWFjdGlvbiwgcmVhY3Rpb25zIH0gZnJvbSBcIi4va2V5d29yZHNcIjtcblxuZXhwb3J0IGVudW0gVXBkYXRlTW9kZSB7XG4gIElOQ1JFTUVOVCA9IDEsXG4gIERFQ1JFTUVOVCA9IC0xLFxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3Mgc3RvcmVzIHRoZSByZWFjdGlvbiBjb3VudHMgdGVtcG9yYXJpbHkuXG4gKiBJdCB3YWl0cyBmb3IgaW5jb21pbmcgbWVzc2FnZXMgb2YgdGhlIGNoYXQge0NoYXQjb25NZXNzYWdlfSBhbmQgY2hlY2tzIHRoZW0gZm9yIHJlYWN0aW9ucy5cbiAqIElmIGEgcmVhY3Rpb24gd2FzIGZvdW5kLCBpdCBpcyBjb3VudGVkIGFuZCB0aGUgam9iIGlzIG5vdGlmaWVkLlxuICovXG5leHBvcnQgY2xhc3MgUmVhY3Rpb25TdG9yYWdlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSB1c2VyczogTWFwPHN0cmluZywgUmVhY3Rpb24+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJlYWN0aW9uczogTWFwPFJlYWN0aW9uLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjaGF0OiBDaGF0LFxuICAgIHB1YmxpYyBqb2I6IEpvYixcbiAgICBwdWJsaWMgZHVwbGljYXRpb25DaGVja2luZzogYm9vbGVhbiA9IHRydWVcbiAgKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuY2hhdC5vbk1lc3NhZ2UoKHVzZXJuYW1lOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5vbk1lc3NhZ2UodXNlcm5hbWUsIG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG1ldGhvZCwgd2hpY2ggaXMgY2FsbGVkIGFzIHNvb24gYXMgYSBtZXNzYWdlIGlzIHJlY2VpdmVkLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcm5hbWUgVXNlcm5hbWUgb2Ygc2VuZGVyXG4gICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgYXMgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBvbk1lc3NhZ2UodXNlcm5hbWU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHVzZXJuYW1lIHdhcyBudWxsXG4gICAgLy8gd2UgbmVlZCBhIHVzZXJuYW1lIGZvciBkdXBsaWNhdGlvbiBjaGVja2luZ1xuICAgIGlmICh1c2VybmFtZSA9PSBudWxsIHx8IG1lc3NhZ2UgPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJbU3RvcmFnZV1cIiwgXCJOdWxsOlwiLCB1c2VybmFtZSwgXCJvclwiLCBtZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgcmVhY3Rpb25zIGZyb20gbWVzc2FnZVxuICAgIGNvbnN0IHJlYWN0aW9uOiBSZWFjdGlvbiA9IGdldFJlYWN0aW9uQnlLZXl3b3JkKG1lc3NhZ2UpO1xuICAgIC8vIG5vIHJlYWN0aW9uIGZvdW5kXG4gICAgaWYgKHJlYWN0aW9uID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBwaW5nIGpvYlxuICAgIHRoaXMuam9iLnBpbmcoKTtcblxuICAgIC8vIHJlYWN0IHRvIHJlYWN0aW9uXG4gICAgdGhpcy5yZWFjdCh1c2VybmFtZSwgcmVhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByZWFjdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHJlYWN0aW9uIE51bWJlciBvZiByZWFjdGlvbnNcbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgcHVibGljIGdldFJlYWN0aW9uKHJlYWN0aW9uOiBSZWFjdGlvbik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucmVhY3Rpb25zLmdldChyZWFjdGlvbikgPz8gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBudW1iZXIgb2YgYSByZWFjdGlvbi5cbiAgICpcbiAgICogSWYgSU5DUkVNRU5UIHdhcyBzcGVjaWZpZWQgaW4ge21vZGV9LCB0aGUgbnVtYmVyIG9mIHJlYWN0aW9ucyBpcyBpbmNyZWFzZWQgYnkgMS5cbiAgICogSWYgREVDUkVNRU5UIGlzIHNwZWNpZmllZCwgdGhlIG51bWJlciBpcyBkZWNyZWFzZWQgYnkgMS5cbiAgICpcbiAgICogQHBhcmFtIHJlYWN0aW9uIFJlYWN0aW9uXG4gICAqIEBwYXJhbSBtb2RlIFVwZGF0ZU1vZGU6IElOQ1JFTUVOVCBvciBERUNSRU1FTlRcbiAgICovXG4gIHB1YmxpYyB1cGRhdGVSZWFjdGlvbihyZWFjdGlvbjogUmVhY3Rpb24sIG1vZGU6IFVwZGF0ZU1vZGUpOiBudW1iZXIge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0UmVhY3Rpb24ocmVhY3Rpb24pO1xuXG4gICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlIFVwZGF0ZU1vZGUuSU5DUkVNRU5UOlxuICAgICAgICB2YWx1ZSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVXBkYXRlTW9kZS5ERUNSRU1FTlQ6XG4gICAgICAgIHZhbHVlLS07XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMucmVhY3Rpb25zLnNldChyZWFjdGlvbiwgdmFsdWUpO1xuXG4gICAgdGhpcy5lbWl0KFwidXBkYXRlXCIsIHJlYWN0aW9uLCB2YWx1ZSwgbW9kZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBoYXMgcmVzcG9uZGVkLiBBbW9uZyBvdGhlciB0aGluZ3MsIGl0IGNoZWNrcyB3aGV0aGVyIHRoZSB1c2VyIGhhcyBhbHJlYWR5IHZvdGVkLlxuICAgKlxuICAgKiBJZiBoZSBoYXMgYWxyZWFkeSB2b3RlZCB3aXRoIHRoZSBzYW1lIHJlYWN0aW9uLCBub3RoaW5nIGZ1cnRoZXIgaXMgZG9uZS5cbiAgICogSWYgaGUgaGFzIHZvdGVkIHdpdGggYW5vdGhlciByZWFjdGlvbiwgdGhpcyBpcyBzdWJ0cmFjdGVkIGFuZCBhZGRlZCB0byB0aGUgbmV3IHJlYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcm5hbWUgUmVhY3RvcidzIHVzZXJuYW1lXG4gICAqIEBwYXJhbSByZWFjdGlvbiBSZWFjdGlvblxuICAgKi9cbiAgcHVibGljIHJlYWN0KHVzZXJuYW1lOiBzdHJpbmcsIHJlYWN0aW9uOiBSZWFjdGlvbikge1xuICAgIC8vIGNoZWNrIGZvciBkdXBsaWNhdGVzP1xuICAgIGlmICh0aGlzLmR1cGxpY2F0aW9uQ2hlY2tpbmcgPT0gdHJ1ZSkge1xuICAgICAgLy8gY2hlY2sgaWYgdGhlIHVzZXIgaGFkIGFueSBwcmV2aW91cyByZWFjdGlvbnNcbiAgICAgIGlmICh0aGlzLnVzZXJzLmhhcyh1c2VybmFtZSkpIHtcbiAgICAgICAgY29uc3Qgb2xkUmVhY3Rpb246IFJlYWN0aW9uID0gdGhpcy51c2Vycy5nZXQodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIGlmIHRoZSByZWFjdGlvbnMgYXJlIHRoZSBzYW1lLCBpZ25vcmUgcmVhY3Rpb25cbiAgICAgICAgaWYgKG9sZFJlYWN0aW9uID09IHJlYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3RoZXJ3aXNlOiBkZWNyZW1lbnQgMSBmcm9tIHRoZSBvbGQgcmVhY3Rpb25cbiAgICAgICAgdGhpcy51cGRhdGVSZWFjdGlvbihvbGRSZWFjdGlvbiwgVXBkYXRlTW9kZS5ERUNSRU1FTlQpO1xuICAgICAgfVxuXG4gICAgICAvLyBsaW5rIHRvIHVzZXJuYW1lXG4gICAgICB0aGlzLnVzZXJzLnNldCh1c2VybmFtZSwgcmVhY3Rpb24pO1xuICAgIH1cblxuICAgIC8vIGluY3JlbWVudCByZWFjdGlvblxuICAgIHRoaXMudXBkYXRlUmVhY3Rpb24ocmVhY3Rpb24sIFVwZGF0ZU1vZGUuSU5DUkVNRU5UKTtcblxuICAgIC8vIGVtaXQgdXBkYXRlXG4gICAgdGhpcy5lbWl0KFwicmVhY3Rpb25cIiwgdXNlcm5hbWUsIHJlYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYWxsIHN0b3JlZCByZWFjdGlvbiBjb3VudHNcbiAgICovXG4gIHB1YmxpYyByZXNldFN0b3JhZ2UoKTogdm9pZCB7XG4gICAgdGhpcy51c2Vycy5jbGVhcigpO1xuICAgIHRoaXMucmVhY3Rpb25zLmNsZWFyKCk7XG5cbiAgICBjb25zb2xlLmxvZyhcIltTdG9yYWdlXVwiLCBcIlJlc2V0IHVzZXJzIGFuZCByZWFjdGlvbnMhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlcyBvZiB0aGUgcmVhY3Rpb25zIGluIHRoZSBvcmRlciBnaXZlbiBmb3IgdGhlIHJlYWN0aW9ucyB1bmRlciB0aGUge1JlYWN0aW9uLnNvcnR9IFwic29ydGluZ1wiIG51bWJlciAoYXNjZW5kaW5nKS5cbiAgICogSWYgdGhlcmUgd2FzIG5vIHJlYWN0aW9uLCAwIGlzIHJldHVybmVkLlxuICAgKiBCdXQgdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkgaXMgYWx3YXlzIHRoZSBsZW5ndGggb2Yge3JlYWN0aW9uc31cbiAgICpcbiAgICogQHJldHVybnMgVmFsdWVzIG9mIHRoZSByZWFjdGlvbnNcbiAgICovXG4gIHB1YmxpYyBnZXRWYWx1ZXMoKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGtleXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgbWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gY29sbGVjdCByZWFjdGlvbnNcbiAgICByZWFjdGlvbnMuZm9yRWFjaCgocmVhY3Rpb246IFJlYWN0aW9uKSA9PiB7XG4gICAgICBtYXAuc2V0KHJlYWN0aW9uLnNvcnRpbmcsIHRoaXMuZ2V0UmVhY3Rpb24ocmVhY3Rpb24pKTtcbiAgICAgIGtleXMucHVzaChyZWFjdGlvbi5zb3J0aW5nKTtcbiAgICB9KTtcblxuICAgIC8vIFRvRG86IFJld29yayBteSBzaGl0dHkgc29ydGluZ1xuICAgIC8vIG9yIGV2ZW4gYmV0dGVyOiByZXdvcmsgdGhpcyB3aG9sZSBtZXRob2RcbiAgICAvLyBvciBldmVudCBiZXR0ZXIgYmV0dGVyIGJldHRlcjogcmV3b3JrIHRoaXMgd2hvbGUgcHJvamVjdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChpID09IGopIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSBrZXlzW2ldO1xuICAgICAgICBjb25zdCBiID0ga2V5c1tqXTtcblxuICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICBrZXlzW2ldID0gYjtcbiAgICAgICAgICBrZXlzW2pdID0gYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlczogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcy5wdXNoKG1hcC5nZXQoa2V5c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjaGFydCB3aXRoIHRoZSB2YWx1ZXNcbiAgICogQHBhcmFtIGNoYXJ0IENoYXJ0XG4gICAqL1xuICBwdWJsaWMgZHJhd0NoYXJ0KGNoYXJ0OiBDaGFydCkge1xuICAgIGNvbnN0IHZhbHVlczogbnVtYmVyW10gPSB0aGlzLmdldFZhbHVlcygpO1xuICAgIGNoYXJ0LmRyYXcodmFsdWVzLCB0cnVlLCB0cnVlKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9