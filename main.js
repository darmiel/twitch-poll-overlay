(()=>{var e={982:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(15),i=s.n(n),o=s(645),r=s.n(o)()(i());r.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=e(t);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);n&&i[c[0]]||(s&&(c[2]?c[2]="".concat(s," and ").concat(c[2]):c[2]=s),t.push(c))}},t}},15:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}e.exports=function(e){var s,n,i=(n=4,function(e){if(Array.isArray(e))return e}(s=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return s}}(s,n)||function(e,s){if(e){if("string"==typeof e)return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,s):void 0}}(s,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],r=i[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([h]).join("\n")}return[o].join("\n")}},187:e=>{"use strict";var t,s="object"==typeof Reflect?Reflect:null,n=s&&"function"==typeof s.apply?s.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(s,n){function i(){void 0!==o&&e.removeListener("error",o),s([].slice.call(arguments))}var o;"error"!==t&&(o=function(s){e.removeListener(t,i),n(s)},e.once("error",o)),e.once(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var r=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,s,n){var i,o,r,h;if(a(s),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),o=e._events),r=o[t]),void 0===r)r=o[t]=s,++e._eventsCount;else if("function"==typeof r?r=o[t]=n?[s,r]:[r,s]:n?r.unshift(s):r.push(s),(i=c(e))>0&&r.length>i&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,h=l,console&&console.warn&&console.warn(h)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,s){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},i=l.bind(n);return i.listener=s,n.wrapFn=i,i}function m(e,t,s){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?s?[i.listener||i]:[i]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function f(e,t){for(var s=new Array(t),n=0;n<t;++n)s[n]=e[n];return s}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");r=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var h=c.length,l=f(c,h);for(s=0;s<h;++s)n(l[s],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var s,n,i,o,r;if(a(t),void 0===(n=this._events))return this;if(void 0===(s=n[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(i=-1,o=s.length-1;o>=0;o--)if(s[o]===t||s[o].listener===t){r=s[o].listener,i=o;break}if(i<0)return this;0===i?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,i),1===s.length&&(n[e]=s[0]),void 0!==n.removeListener&&this.emit("removeListener",e,r||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,s,n;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var i,o=Object.keys(s);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n="./31cfb2f0ac4f2117919ffd17ceb5045f.png"},478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const n="./e0457b5fe828bb92809c99905ae4df36.png"},816:(e,t,s)=>{var n=s(91),i=s(626),o=s(478),r='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Builder</title> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"/> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"><\/script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"><\/script> <style></style> </head> <body> <header> <nav class="navbar navbar-expand-md navbar-dark bg-dark"> <a class="navbar-brand" href="#">Builder</a> </nav> </header> <main role="main" class="container"> <h1 class="mt-5">Poll Overlay Builder</h1> <p class="lead"> Here you can easily customize the overlay. <br> When you\'re done, press the button at the bottom, and then use the output URL as the web browser URL in your stream program. </p> <hr> <form id="form"> <div class="form-group"> <label for="channel">Channel:</label> <input type="text" class="form-control" id="channel" name="channel" placeholder="d2aniel" required/> <small id="channelNotice" class="form-text text-muted">Enter here the channel name only. Without <code>https://twitch.tv/</code></small> </div> <div class="form-group"> <br> <p class="form-check-label"> Type: </p> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="type" id="type_bar" value="bar" checked="checked"/> <label class="form-check-label" for="type_bar"> <img src="'+n(i)+'" alt="Bar"> </label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="type" id="type_pie" value="pie"/> <label class="form-check-label" for="type_pie"> <img src="'+n(o)+'" alt="Pie"> </label> </div> </div> <hr> <h3>Advanced: <div class="form-group"> <label for="timeout">Timeout:</label> <input type="number" class="form-control" id="timeout" name="timeout" value="10"/> </div> <div class="form-group"> <label for="requiredPings">Required Pings:</label> <input type="number" class="form-control" id="requiredPings" name="requiredPings" value="3"/> </div> <hr> <button type="submit" class="btn btn-primary">🔨</button> </h3></form> <div id="output" style="display:none"> <hr> <h2>Output:</h2> <input type="text" class="form-control" id="output_txt" name="channel" placeholder="(( Error ))" readonly="readonly"/> </div> <script>$("#form").on("submit",o=>{o.preventDefault();const t=$("#form").serialize(),n=$("#output");"none"==n.css("display")&&(console.log("Has display: none!"),n.css("display","unset"));const s=$("#output_txt"),e=`${window.location.host}${window.location.pathname}?${t}`;s.val(e.replace("builder.html","index.html"))})<\/script> </main> </body> </html> ';e.exports=r},91:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e)}},153:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(379),i=s.n(n),o=s(982);i()(o.Z,{insert:"head",singleton:!1});const r=o.Z.locals||{}},379:(e,t,s)=>{"use strict";var n,i=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),o=[];function r(e){for(var t=-1,s=0;s<o.length;s++)if(o[s].identifier===e){t=s;break}return t}function a(e,t){for(var s={},n=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],h=s[c]||0,l="".concat(c," ").concat(h);s[c]=h+1;var u=r(l),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:l,updater:d(m,t),references:1}),n.push(l)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=s.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,l=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function u(e,t,s,n){var i=s?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function m(e,t,s){var n=s.css,i=s.media,o=s.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function d(e,t){var s,n,i;if(t.singleton){var o=f++;s=p||(p=c(t)),n=u.bind(null,s,o,!1),i=u.bind(null,s,o,!0)}else s=c(t),n=m.bind(null,s,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var s=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<s.length;n++){var i=r(s[n]);o[i].references--}for(var c=a(e,t),h=0;h<s.length;h++){var l=r(s[h]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}s=c}}}},993:(e,t,s)=>{e.exports={client:s(839),Client:s(839)}},681:(e,t,s)=>{var n=s(887),i=s(49);e.exports=function(e,t){var s=null===i.get(e.url,null)?i.get(e.uri,null):i.get(e.url,null);if(i.isURL(s)||(s="https://api.twitch.tv/kraken"+("/"===s[0]?s:`/${s}`)),i.isNode())n(i.merge({method:"GET",json:!0},e,{url:s}),t);else if(i.isExtension()||i.isReactNative()){e=i.merge({url:s,method:"GET",headers:{}},e);var o=new XMLHttpRequest;for(var r in o.open(e.method,e.url,!0),e.headers)o.setRequestHeader(r,e.headers[r]);o.responseType="json",o.addEventListener("load",(e=>{4==o.readyState&&(200!=o.status?t(o.status,null,null):t(null,null,o.response))})),o.send()}else{var a=`jsonp_callback_${Math.round(1e5*Math.random())}`;window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=`${s}${s.includes("?")?"&":"?"}callback=${a}`,document.body.appendChild(c)}}},839:(e,t,s)=>{var n=s(681),i=s(641),o=s(378).EventEmitter,r=s(352),a=s(549),c=s(776),h=s.g.WebSocket||s.g.MozWebSocket||s(418),l=s(49),u=function e(t){if(this instanceof e==0)return new e(t);this.setMaxListeners(0),this.opts=l.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=l.get(this.opts.options.clientId,null),this.maxReconnectAttempts=l.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=l.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=l.get(this.opts.connection.reconnect,!1),this.reconnectDecay=l.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=l.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=l.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var s="error";this.opts.options.debug&&(s="info"),this.log=this.opts.logger||r;try{r.setLevel(s)}catch(e){}this.opts.channels.forEach((function(e,t,s){s[t]=l.channel(e)})),o.call(this)};for(var m in l.inherits(u,o),u.prototype.api=n,i)u.prototype[m]=i[m];u.prototype.handleMessage=function(e){if(!l.isNull(e)){this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);var t=l.channel(l.get(e.params[0],null)),s=l.get(e.params[1],null),n=l.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.badgeInfo(a.emotes(e.tags))),e.tags){var i=e.tags;for(var o in i)if("emote-sets"!==o&&"ban-duration"!==o&&"bits"!==o){var r=i[o];l.isBoolean(r)?r=null:"1"===r?r=!0:"0"===r?r=!1:l.isString(r)&&(r=l.unescapeIRC(r)),i[o]=r}}if(l.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PONG");break;case"PONG":var h=new Date;this.currentLatency=(h.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(e,null,4)}`)}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#tmijs"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout((()=>{l.isNull(this.ws)||(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),l.get(this.opts.connection.timeout,9999))}),6e4);var u=new c.queue(2e3),m=l.union(this.opts.channels,this.channels);this.channels=[];for(var p=0;p<m.length;p++){let e=m[p];u.add((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.join(e).catch((e=>{this.log.error(e)}))}))}u.run();break;case"NOTICE":var f=[null],d=[t,n,s],g=[t,!0],_=[t,!1],v=[d,f],y=[d,[n]],b=`[${t}] ${s}`;switch(n){case"subs_on":this.log.info(`[${t}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[g,g,f]);break;case"subs_off":this.log.info(`[${t}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[_,_,f]);break;case"emote_only_on":this.log.info(`[${t}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[g,f]);break;case"emote_only_off":this.log.info(`[${t}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[_,f]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${t}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[g,g,f]);break;case"r9k_off":this.log.info(`[${t}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[_,_,f]);break;case"room_mods":var w=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseMods","mods"],[[null,w],[t,w]]);break;case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[t,[]]]);break;case"vips_success":s.endsWith(".")&&(s=s.slice(0,-1));var C=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseVips","vips"],[[null,C],[t,C]]);break;case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[t,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(b),this.emits(["notice","_promiseBan"],y);break;case"ban_success":this.log.info(b),this.emits(["notice","_promiseBan"],v);break;case"usage_clear":this.log.info(b),this.emits(["notice","_promiseClear"],y);break;case"usage_mods":this.log.info(b),this.emits(["notice","_promiseMods"],[d,[n,[]]]);break;case"mod_success":this.log.info(b),this.emits(["notice","_promiseMod"],v);break;case"usage_vips":this.log.info(b),this.emits(["notice","_promiseVips"],[d,[n,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":this.log.info(b),this.emits(["notice","_promiseVip"],[d,[n,[]]]);break;case"vip_success":this.log.info(b),this.emits(["notice","_promiseVip"],v);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(b),this.emits(["notice","_promiseMod"],y);break;case"unmod_success":this.log.info(b),this.emits(["notice","_promiseUnmod"],v);break;case"unvip_success":this.log.info(b),this.emits(["notice","_promiseUnvip"],v);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(b),this.emits(["notice","_promiseUnmod"],y);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(b),this.emits(["notice","_promiseUnvip"],y);break;case"color_changed":this.log.info(b),this.emits(["notice","_promiseColor"],v);break;case"usage_color":case"turbo_only_color":this.log.info(b),this.emits(["notice","_promiseColor"],y);break;case"commercial_success":this.log.info(b),this.emits(["notice","_promiseCommercial"],v);break;case"usage_commercial":case"bad_commercial_error":this.log.info(b),this.emits(["notice","_promiseCommercial"],y);break;case"hosts_remaining":this.log.info(b);var x=isNaN(s[0])?0:parseInt(s[0]);this.emits(["notice","_promiseHost"],[d,[null,~~x]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(b),this.emits(["notice","_promiseHost"],[d,[n,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(b),this.emits(["notice","_promiseR9kbeta"],y);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(b),this.emits(["notice","_promiseR9kbetaoff"],y);break;case"timeout_success":this.log.info(b),this.emits(["notice","_promiseTimeout"],v);break;case"delete_message_success":this.log.info(`[${t} ${s}]`),this.emits(["notice","_promiseDeletemessage"],v);case"already_subs_off":case"usage_subs_off":this.log.info(b),this.emits(["notice","_promiseSubscribersoff"],y);break;case"already_subs_on":case"usage_subs_on":this.log.info(b),this.emits(["notice","_promiseSubscribers"],y);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(b),this.emits(["notice","_promiseEmoteonlyoff"],y);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(b),this.emits(["notice","_promiseEmoteonly"],y);break;case"usage_slow_on":this.log.info(b),this.emits(["notice","_promiseSlow"],y);break;case"usage_slow_off":this.log.info(b),this.emits(["notice","_promiseSlowoff"],y);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(b),this.emits(["notice","_promiseTimeout"],y);break;case"untimeout_success":case"unban_success":this.log.info(b),this.emits(["notice","_promiseUnban"],v);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(b),this.emits(["notice","_promiseUnban"],y);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(b),this.emits(["notice","_promiseDeletemessage"],y);break;case"usage_unhost":case"not_hosting":this.log.info(b),this.emits(["notice","_promiseUnhost"],y);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info(b),this.emits(["notice","_promiseWhisper"],y);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":this.log.info(b),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],[d,[n,t]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(b),this.emit("automod",t,n,s);break;case"unrecognized_cmd":this.log.info(b),this.emit("notice",t,n,s);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info(b),this.emit("notice",t,n,s);break;case"host_on":case"host_off":break;default:s.includes("Login unsuccessful")||s.includes("Login authentication failed")||s.includes("Error logging in")||s.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=s,this.log.error(this.reason),this.ws.close()):s.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}break;case"USERNOTICE":var k=e.tags["display-name"]||e.tags.login,O=e.tags["msg-param-sub-plan"]||"",P=l.unescapeIRC(l.get(e.tags["msg-param-sub-plan-name"],""))||null,M={prime:O.includes("Prime"),plan:O,planName:P},E=e.tags,T=~~(e.tags["msg-param-streak-months"]||0),N=e.tags["msg-param-recipient-display-name"]||e.tags["msg-param-recipient-user-name"],S=~~e.tags["msg-param-mass-gift-count"];switch(E["message-type"]=n,n){case"resub":this.emits(["resub","subanniversary"],[[t,k,T,s,E,M]]);break;case"sub":this.emit("subscription",t,k,M,s,E);break;case"subgift":this.emit("subgift",t,k,T,N,M,E);break;case"anonsubgift":this.emit("anonsubgift",t,T,N,M,E);break;case"submysterygift":this.emit("submysterygift",t,k,S,M,E);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",t,S,M,E);break;case"primepaidupgrade":this.emit("primepaidupgrade",t,k,M,E);break;case"giftpaidupgrade":var $=e.tags["msg-param-sender-name"]||e.tags["msg-param-sender-login"];this.emit("giftpaidupgrade",t,k,$,E);break;case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",t,k,E);break;case"raid":k=e.tags["msg-param-displayName"]||e.tags["msg-param-login"];var L=e.tags["msg-param-viewerCount"];this.emit("raided",t,k,L)}break;case"HOSTTARGET":var R=s.split(" ");L=~~R[1]||0,"-"===R[0]?(this.log.info(`[${t}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[t,L],[null]])):(this.log.info(`[${t}] Now hosting ${R[0]} for ${L} viewer(s).`),this.emit("hosting",t,R[0],L));break;case"CLEARCHAT":if(e.params.length>1){var j=l.get(e.tags["ban-duration"],null);l.isNull(j)?(this.log.info(`[${t}] ${s} has been banned.`),this.emit("ban",t,s,null,e.tags)):(this.log.info(`[${t}] ${s} has been timed out for ${j} seconds.`),this.emit("timeout",t,s,null,~~j,e.tags))}else this.log.info(`[${t}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[t],[null]]);break;case"CLEARMSG":if(e.params.length>1){k=e.tags.login;var I=s;(E=e.tags)["message-type"]="messagedeleted",this.log.info(`[${t}] ${k}'s message has been deleted.`),this.emit("messagedeleted",t,k,I,E)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect(),setTimeout((()=>{this.connect()}),this.reconnectTimer);break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].includes(this.username)||this.moderators[this.lastJoined].push(this.username)),l.isJustinfan(this.getUsername())||this.userstate[t]||(this.userstate[t]=e.tags,this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,l.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[t]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(l.channel(this.lastJoined)===t&&this.emit("_promiseJoin",null,t),e.tags.channel=t,this.emit("roomstate",t,e.tags),!e.tags.hasOwnProperty("subs-only")){if(e.tags.hasOwnProperty("slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){var A=[t,!0,~~e.tags.slow];this.log.info(`[${t}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[A,A,[null]])}else{var D=[t,!1,0];this.log.info(`[${t}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[D,D,[null]])}e.tags.hasOwnProperty("followers-only")&&("-1"===e.tags["followers-only"]?(D=[t,!1,0],this.log.info(`[${t}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[D,D,[null]])):(A=[t,!0,~~e.tags["followers-only"]],this.log.info(`[${t}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[A,A,[null]])))}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===s?(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(e.params[2])||this.moderators[t].push(e.params[2]),this.emit("mod",t,e.params[2])):"-o"===s&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].filter((t=>t!=e.params[2])),this.emit("unmod",t,e.params[2]));break;default:this.log.warn(`Could not parse message from jtv:\n${JSON.stringify(e,null,4)}`)}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":var U=e.prefix.split("!")[0];l.isJustinfan(this.getUsername())&&this.username===U&&(this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,U,!0)),this.username!==U&&this.emit("join",t,U,!1);break;case"PART":var H,F=!1;U=e.prefix.split("!")[0],this.username===U&&(F=!0,this.userstate[t]&&delete this.userstate[t],-1!==(H=this.channels.indexOf(t))&&this.channels.splice(H,1),-1!==(H=this.opts.channels.indexOf(t))&&this.opts.channels.splice(H,1),this.log.info(`Left ${t}`),this.emit("_promisePart",null)),this.emit("part",t,U,F);break;case"WHISPER":U=e.prefix.split("!")[0],this.log.info(`[WHISPER] <${U}>: ${s}`),e.tags.hasOwnProperty("username")||(e.tags.username=U),e.tags["message-type"]="whisper";var J=l.channel(e.tags.username);this.emits(["whisper","message"],[[J,e.tags,s,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){var W=l.username(s.split(" ")[0]),B=s.includes("auto");if(s.includes("hosting you for")){var q=l.extractNumber(s);this.emit("hosted",t,W,q,B)}else s.includes("hosting you")&&this.emit("hosted",t,W,0,B)}else{var G=l.actionMessage(s);G?(e.tags["message-type"]="action",this.log.info(`[${t}] *<${e.tags.username}>: ${G[1]}`),this.emits(["action","message"],[[t,e.tags,G[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",t,e.tags,s):(e.tags["message-type"]="chat",this.log.info(`[${t}] <${e.tags.username}>: ${s}`),this.emits(["chat","message"],[[t,e.tags,s,!1]]))}break;default:this.log.warn(`Could not parse message:\n${JSON.stringify(e,null,4)}`)}}},u.prototype.connect=function(){return new Promise(((e,t)=>{this.server=l.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=l.get(this.opts.connection.port,80),this.secure&&(this.port=443),443===this.port&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",(s=>{s?t(s):e([this.server,~~this.port])}))}))},u.prototype._openConnection=function(){this.ws=new h(`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,"irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},u.prototype._onOpen=function(){l.isNull(this.ws)||1!==this.ws.readyState||(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=l.get(this.opts.identity.username,l.justinfan()),this.password=l.password(l.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send(`PASS ${this.password}`),this.ws.send(`NICK ${this.username}`))},u.prototype._onMessage=function(e){e.data.split("\r\n").forEach((e=>{l.isNull(e)||this.handleMessage(a.msg(e))}))},u.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=l.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer)),this.ws=null},u.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer))),this.ws=null},u.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},u.prototype._sendCommand=function(e,t,s,n){return new Promise(((i,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if("number"==typeof e&&l.promiseDelay(e).then((()=>{o("No response from Twitch.")})),l.isNull(t))this.log.info(`Executing command: ${s}`),this.ws.send(s);else{var r=l.channel(t);this.log.info(`[${r}] Executing command: ${s}`),this.ws.send(`PRIVMSG ${r} :${s}`)}n(i,o)}))},u.prototype._sendMessage=function(e,t,s,n){return new Promise(((i,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if(l.isJustinfan(this.getUsername()))return o("Cannot send anonymous messages.");var r=l.channel(t);if(this.userstate[r]||(this.userstate[r]={}),s.length>=500){var c=l.splitLine(s,500);s=c[0],setTimeout((()=>{this._sendMessage(e,t,c[1],(()=>{}))}),350)}this.ws.send(`PRIVMSG ${r} :${s}`);var h={};Object.keys(this.emotesets).forEach((e=>{this.emotesets[e].forEach((function(e){if(l.isRegex(e.code))return a.emoteRegex(s,e.code,e.id,h);a.emoteString(s,e.code,e.id,h)}))}));var u=l.merge(this.userstate[r],a.emotes({emotes:a.transformEmotes(h)||null})),m=l.actionMessage(s);m?(u["message-type"]="action",this.log.info(`[${r}] *<${this.getUsername()}>: ${m[1]}`),this.emits(["action","message"],[[r,u,m[1],!0]])):(u["message-type"]="chat",this.log.info(`[${r}] <${this.getUsername()}>: ${s}`),this.emits(["chat","message"],[[r,u,s,!0]])),n(i,o)}))},u.prototype._updateEmoteset=function(e){this.emotes=e,this.api({url:`/chat/emoticon_images?emotesets=${e}`,headers:{Authorization:`OAuth ${l.password(l.get(this.opts.identity.password,"")).replace("oauth:","")}`,"Client-ID":this.clientId}},((t,s,n)=>{if(!t)return this.emotesets=n.emoticon_sets||{},this.emit("emotesets",e,this.emotesets);setTimeout((()=>{this._updateEmoteset(e)}),6e4)}))},u.prototype.getUsername=function(){return this.username},u.prototype.getOptions=function(){return this.opts},u.prototype.getChannels=function(){return this.channels},u.prototype.isMod=function(e,t){var s=l.channel(e);return this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].includes(l.username(t))},u.prototype.readyState=function(){return l.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},u.prototype.disconnect=function(){return new Promise(((e,t)=>{l.isNull(this.ws)||3===this.ws.readyState?(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),t("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",(()=>{e([this.server,~~this.port])})))}))},e.exports&&(e.exports=u),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=u,window.tmi.Client=u)},641:(e,t,s)=>{var n=s(49);function i(e,t){return e=n.channel(e),t=n.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/followers ${t}`,((s,n)=>{this.once("_promiseFollowers",(i=>{i?n(i):s([e,~~t])}))}))}function o(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/followersoff",((t,s)=>{this.once("_promiseFollowersoff",(n=>{n?s(n):t([e])}))}))}function r(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),null,`PART ${e}`,((t,s)=>{this.once("_promisePart",(n=>{n?s(n):t([e])}))}))}function a(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",((t,s)=>{this.once("_promiseR9kbeta",(n=>{n?s(n):t([e])}))}))}function c(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",((t,s)=>{this.once("_promiseR9kbetaoff",(n=>{n?s(n):t([e])}))}))}function h(e,t){return e=n.channel(e),t=n.get(t,300),this._sendCommand(this._getPromiseDelay(),e,`/slow ${t}`,((s,n)=>{this.once("_promiseSlow",(i=>{i?n(i):s([e,~~t])}))}))}function l(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",((t,s)=>{this.once("_promiseSlowoff",(n=>{n?s(n):t([e])}))}))}e.exports={action:function(e,t){return e=n.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])}))},ban:function(e,t,s){return e=n.channel(e),t=n.username(t),s=n.get(s,""),this._sendCommand(this._getPromiseDelay(),e,`/ban ${t} ${s}`,((n,i)=>{this.once("_promiseBan",(o=>{o?i(o):n([e,t,s])}))}))},clear:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",((t,s)=>{this.once("_promiseClear",(n=>{n?s(n):t([e])}))}))},color:function(e,t){return t=n.get(t,e),this._sendCommand(this._getPromiseDelay(),"#tmijs",`/color ${t}`,((e,s)=>{this.once("_promiseColor",(n=>{n?s(n):e([t])}))}))},commercial:function(e,t){return e=n.channel(e),t=n.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/commercial ${t}`,((s,n)=>{this.once("_promiseCommercial",(i=>{i?n(i):s([e,~~t])}))}))},deletemessage:function(e,t){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,`/delete ${t}`,((t,s)=>{this.once("_promiseDeletemessage",(n=>{n?s(n):t([e])}))}))},emoteonly:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",((t,s)=>{this.once("_promiseEmoteonly",(n=>{n?s(n):t([e])}))}))},emoteonlyoff:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",((t,s)=>{this.once("_promiseEmoteonlyoff",(n=>{n?s(n):t([e])}))}))},followersonly:i,followersmode:i,followersonlyoff:o,followersmodeoff:o,host:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(2e3,e,`/host ${t}`,((s,n)=>{this.once("_promiseHost",((i,o)=>{i?n(i):s([e,t,~~o])}))}))},join:function(e){return e=n.channel(e),this._sendCommand(null,null,`JOIN ${e}`,((t,s)=>{var i="_promiseJoin",o=!1,r=(a,c)=>{e===n.channel(c)&&(this.removeListener(i,r),o=!0,a?s(a):t([e]))};this.on(i,r);var a=this._getPromiseDelay();n.promiseDelay(a).then((()=>{o||this.emit(i,"No response from Twitch.",e)}))}))},mod:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/mod ${t}`,((s,n)=>{this.once("_promiseMod",(i=>{i?n(i):s([e,t])}))}))},mods:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",((t,s)=>{this.once("_promiseMods",((n,i)=>{n?s(n):(i.forEach((t=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(t)||this.moderators[e].push(t)})),t(i))}))}))},part:r,leave:r,ping:function(){return this._sendCommand(this._getPromiseDelay(),null,"PING",((e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),n.get(this.opts.connection.timeout,9999)),this.once("_promisePing",(t=>{e([parseFloat(t)])}))}))},r9kbeta:a,r9kmode:a,r9kbetaoff:c,r9kmodeoff:c,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,((t,s)=>{t([e])}))},say:function(e,t){return e=n.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])})):this._sendMessage(this._getPromiseDelay(),e,t,((s,n)=>{s([e,t])}))},slow:h,slowmode:h,slowoff:l,slowmodeoff:l,subscribers:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",((t,s)=>{this.once("_promiseSubscribers",(n=>{n?s(n):t([e])}))}))},subscribersoff:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",((t,s)=>{this.once("_promiseSubscribersoff",(n=>{n?s(n):t([e])}))}))},timeout:function(e,t,s,i){return e=n.channel(e),t=n.username(t),n.isNull(s)||n.isInteger(s)||(i=s,s=300),s=n.get(s,300),i=n.get(i,""),this._sendCommand(this._getPromiseDelay(),e,`/timeout ${t} ${s} ${i}`,((n,o)=>{this.once("_promiseTimeout",(r=>{r?o(r):n([e,t,~~s,i])}))}))},unban:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unban ${t}`,((s,n)=>{this.once("_promiseUnban",(i=>{i?n(i):s([e,t])}))}))},unhost:function(e){return e=n.channel(e),this._sendCommand(2e3,e,"/unhost",((t,s)=>{this.once("_promiseUnhost",(n=>{n?s(n):t([e])}))}))},unmod:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unmod ${t}`,((s,n)=>{this.once("_promiseUnmod",(i=>{i?n(i):s([e,t])}))}))},unvip:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unvip ${t}`,((s,n)=>{this.once("_promiseUnvip",(i=>{i?n(i):s([e,t])}))}))},vip:function(e,t){return e=n.channel(e),t=n.username(t),this._sendCommand(this._getPromiseDelay(),e,`/vip ${t}`,((s,n)=>{this.once("_promiseVip",(i=>{i?n(i):s([e,t])}))}))},vips:function(e){return e=n.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/vips",((e,t)=>{this.once("_promiseVips",((s,n)=>{s?t(s):e(n)}))}))},whisper:function(e,t){return(e=n.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#tmijs",`/w ${e} ${t}`,((s,i)=>{var o=n.channel(e),r=n.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);this.emits(["whisper","message"],[[o,r,t,!0],[o,r,t,!0]]),s([e,t])}))}}},378:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emits=function(e,t){for(var s=0;s<e.length;s++){var n=s<t.length?t[s]:t[t.length-1];this.emit.apply(this,[e[s]].concat(n))}},t.prototype.emit=function(e){var t,o,r,a,c,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i(o=this._events[e]))return!1;if(s(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),o.apply(this,a)}else if(n(o))for(a=Array.prototype.slice.call(arguments,1),r=(h=o.slice()).length,c=0;c<r;c++)h[c].apply(this,a);return!0},t.prototype.addListener=function(e,o){var r;if(!s(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(o.listener)?o.listener:o),this._events[e]?n(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,n(this._events[e])&&!this._events[e].warned&&(r=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var n=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var i=1,o=e;for(var r in this._events)this._events.hasOwnProperty(r)&&r.startsWith(o)&&i++;e+=i}function a(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},t.prototype.removeListener=function(e,t){var i,o,r,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(i=this._events[e]).length,o=-1,i===t||s(i.listener)&&i.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var c=e;for(var h in this._events)this._events.hasOwnProperty(h)&&h.startsWith(c)&&(isNaN(parseInt(h.substr(h.length-1)))||(this._events[e+parseInt(h.substr(h.length-1)-1)]=this._events[h],delete this._events[h]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(n(i)){for(a=r;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=a;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},352:(e,t,s)=>{var n=s(49),i="info",o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function r(e){return function(t){o[e]>=o[i]&&console.log(`[${n.formatDate(new Date)}] ${e}: ${t}`)}}e.exports={setLevel:function(e){i=e},trace:r("trace"),debug:r("debug"),info:r("info"),warn:r("warn"),error:r("error"),fatal:r("fatal")}},549:(e,t,s)=>{var n=s(49),i=/\S+/g;function o(e,t,s=",",i="/",o){var r=e[t];if(void 0===r)return e;var a=n.isString(r);if(e[t+"-raw"]=a?r:null,!0===r)return e[t]=null,e;if(e[t]={},a)for(var c=r.split(s),h=0;h<c.length;h++){var l=c[h].split(i),u=l[1];void 0!==o&&u&&(u=u.split(o)),e[t][l[0]]=u||null}return e}e.exports={badges:function(e){return o(e,"badges")},badgeInfo:function(e){return o(e,"badge-info")},emotes:function(e){return o(e,"emotes","/",":",",")},emoteRegex:function(e,t,s,o){i.lastIndex=0;for(var r,a=new RegExp("(\\b|^|s)"+n.unescapeHtml(t)+"(\\b|$|s)");null!==(r=i.exec(e));)a.test(r[0])&&(o[s]=o[s]||[],o[s].push([r.index,i.lastIndex-1]))},emoteString:function(e,t,s,o){var r;for(i.lastIndex=0;null!==(r=i.exec(e));)r[0]===n.unescapeHtml(t)&&(o[s]=o[s]||[],o[s].push([r.index,i.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach((s=>{t=`${t+s}:`,e[s].forEach((e=>{t=`${t+e.join("-")},`})),t=`${t.slice(0,-1)}/`})),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},s=0,n=0;if(64===e.charCodeAt(0)){if(-1===(n=e.indexOf(" ")))return null;for(var i=e.slice(1,n).split(";"),o=0;o<i.length;o++){var r=i[o],a=r.split("=");t.tags[a[0]]=r.substring(r.indexOf("=")+1)||!0}s=n+1}for(;32===e.charCodeAt(s);)s++;if(58===e.charCodeAt(s)){if(-1===(n=e.indexOf(" ",s)))return null;for(t.prefix=e.slice(s+1,n),s=n+1;32===e.charCodeAt(s);)s++}if(-1===(n=e.indexOf(" ",s)))return e.length>s?(t.command=e.slice(s),t):null;for(t.command=e.slice(s,n),s=n+1;32===e.charCodeAt(s);)s++;for(;s<e.length;){if(n=e.indexOf(" ",s),58===e.charCodeAt(s)){t.params.push(e.slice(s+1));break}if(-1===n){if(-1===n){t.params.push(e.slice(s));break}}else for(t.params.push(e.slice(s,n)),s=n+1;32===e.charCodeAt(s);)s++}return t}}},776:(e,t)=>{function s(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}s.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},s.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},s.prototype.next=function(){var e=this.index++,t=this.queue[e],s=this.queue[this.index];t&&(t.fn(),s&&setTimeout((()=>{this.next()}),s.delay||this.defaultDelay))},s.prototype.reset=function(){this.index=0},s.prototype.clear=function(){this.index=0,this.queue=[]},t.queue=s},49:e=>{var t=/^\u0001ACTION ([^\u0001]+)\u0001$/,s=/^(justinfan)(\d+$)/,n=/\\([sn:r\\])/g,i={s:" ",n:"",":":";",r:""},o=e.exports={get:(e,t)=>void 0===e?t:e,isBoolean:e=>"boolean"==typeof e,isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),isInteger:e=>!isNaN(o.toNumber(e,0)),isJustinfan:e=>s.test(e),isNull:e=>null===e,isRegex:e=>/[\|\\\^\$\*\+\?\:\#]/.test(e),isString:e=>"string"==typeof e,isURL:e=>RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e),justinfan:()=>`justinfan${Math.floor(8e4*Math.random()+1e3)}`,password:e=>["SCHMOOPIIE","",null].includes(e)?"SCHMOOPIIE":`oauth:${e.toLowerCase().replace("oauth:","")}`,promiseDelay:e=>new Promise((function(t){setTimeout(t,e)})),replaceAll:(e,t)=>{if(null==e)return null;for(var s in t)e=e.replace(new RegExp(s,"g"),t[s]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC:e=>e&&e.includes("\\")?e.replace(n,((e,t)=>t in i?i[t]:t)):e,actionMessage:e=>e.match(t),addWord:(e,t)=>e.length?e+" "+t:e+t,channel:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},extractNumber:e=>{for(var t=e.split(" "),s=0;s<t.length;s++)if(o.isInteger(t[s]))return~~t[s];return 0},formatDate:e=>{var t=e.getHours(),s=e.getMinutes();return`${t=(t<10?"0":"")+t}:${s=(s<10?"0":"")+s}`},inherits:(e,t)=>{e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e},isNode:()=>{try{return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}catch(e){}return!1},isExtension:()=>{try{return window.chrome&&chrome.runtime&&chrome.runtime.id}catch(e){}return!1},isReactNative:()=>{try{return navigator&&"ReactNative"==navigator.product}catch(e){}return!1},merge:Object.assign,splitLine:(e,t)=>{var s=e.substring(0,t).lastIndexOf(" ");return-1===s&&(s=t-1),[e.substring(0,s),e.substring(s+1)]},toNumber:(e,t)=>{if(null===e)return 0;var s=Math.pow(10,o.isFinite(t)?t:0);return Math.round(e*s)/s},union:(e,t)=>{for(var s={},n=[],i=0;i<e.length;i++)s[o=e[i]]||(s[o]=!0,n.push(o));for(i=0;i<t.length;i++){var o;s[o=t[i]]||(s[o]=!0,n.push(o))}return n},username:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t}}},607:(e,t,s)=>{"use strict";var n,i,o;s(153),s(626),s(478),s(816);var r=s(824),a=s(320),c=s(651),h=s(18),l=s(877),u=new URLSearchParams(window.location.search),m=null!==(n=u.get("channel"))&&void 0!==n?n:"",p=parseInt(null!==(i=u.get("timeout"))&&void 0!==i?i:"10"),f=parseInt(null!==(o=u.get("requiredPings"))&&void 0!==o?o:"5"),d=new r.Job(p,f),g=new a.TwitchChat(m),_="pie"==(u.has("type")?u.get("type"):null)?new h.Pie({elementId:"bar",background:"none",x:-1,y:-1,radiusFactor:2}):new l.Bar({elementId:"bar",background:"none",barMarginHeight:0,barMarginWidth:0,strokeMarginHeight:0,strokeMarginWidth:0}),v=new c.ReactionStorage(g,d);v.on("update",(function(e,t,s){console.log("on: update =",t,s,d.isActive(),s==c.UpdateMode.INCREMENT),s==c.UpdateMode.INCREMENT&&d.isActive()&&v.drawChart(_)})),d.on("start",(function(){console.log("Job started!")})),d.on("cancel",(function(){console.log("Job canceled!"),_.clear(),v.resetStorage()}))},877:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Bar=t.FONT_DYNAMIC=void 0;var r=s(256),a=s(613);t.FONT_DYNAMIC=-1;var c={elementId:"",barMarginHeight:10,barMarginWidth:10,strokeMarginHeight:5,strokeMarginWidth:5,valueColors:r.colors,strokeColor:"#34495e",strokeIterations:1,fontSize:-1,fontFamily:"courier",fontSizeFactor:1.8,fontColorFactor:.65,textRound:!0},h=function(e){function t(t){var s=e.call(this,t)||this;return s.properties=t,s.properties=o(o({},c),s.properties),console.log(s.properties),s}return i(t,e),t.prototype.init=function(){},t.prototype.draw=function(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=!0),s&&this.clear();var n=this.properties,i=this.width-2*n.barMarginWidth,o=this.height-2*n.barMarginHeight,a=n.fontSize;-1===a&&(a=o*(2/3));var c=a/n.fontSizeFactor;this.ctx.font=Math.round(a)+"px "+n.fontFamily,this.ctx.strokeStyle=n.strokeColor;for(var h=0;h<n.strokeIterations;h++)this.ctx.beginPath(),this.ctx.rect(this.x+n.barMarginWidth-n.strokeMarginWidth-h,this.y+n.barMarginHeight-n.strokeMarginHeight-h,i+2*n.strokeMarginWidth+h,o+2*n.strokeMarginHeight+h),this.ctx.stroke(),this.ctx.closePath();for(var l=e.reduce((function(e,t){return e+t})),u=n.barMarginWidth,m=0;m<e.length;m++){var p=e[m]/l;if(0!=p){var f=i*p;if(this.ctx.fillStyle=n.valueColors[m%n.valueColors.length],this.ctx.beginPath(),this.ctx.rect(this.x+u,this.y+n.barMarginHeight,f,o),this.ctx.fill(),this.ctx.closePath(),t){var d;d=n.textRound?Math.round(100*p)+"%":100*p+"%",this.ctx.beginPath(),this.ctx.fillStyle=r.darkenHexColor(this.ctx.fillStyle,n.fontColorFactor),this.ctx.fillText(d,this.x+u+f/2-c*d.length/2,this.y+n.barMarginHeight+o/2+c/2),this.ctx.closePath()}u+=f}}},t.prototype.clear=function(){this.ctx.clearRect(this.x,this.y,this.width,this.height)},t}(a.Chart);t.Bar=h},613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chart=void 0;t.Chart=function(e){var t,s,n,i,o,r;this.canvasElementId=e.elementId,this.x=null!==(t=e.x)&&void 0!==t?t:0,this.y=null!==(s=e.y)&&void 0!==s?s:0,this.width=null!==(n=e.width)&&void 0!==n?n:-1,this.height=null!==(i=e.height)&&void 0!==i?i:-1,-1===this.width?this.width=document.defaultView.innerWidth:-2===this.x&&(this.x=document.defaultView.innerWidth/2-this.width/2),-1==this.height?this.height=document.defaultView.innerHeight:-2===this.x&&(this.y=document.defaultView.innerHeight/2-this.height/2);var a=document.getElementById(this.canvasElementId);if(null!=a){this.canvas=a;var c=this.canvas.getContext("2d");null!=c?(this.ctx=c,this.canvas.height=this.height,this.canvas.width=this.width,"none"!=(null!==(o=e.background)&&void 0!==o?o:"#2c3e50")&&(this.canvas.style.background=null!==(r=e.background)&&void 0!==r?r:"#2c3e50"),this.error||this.init()):this.error="Context not found."}else this.error="Canvas not found."}},18:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pie=t.LOCATION_CENTER=void 0;var r=s(613),a=s(256);t.LOCATION_CENTER=-1;var c={elementId:"",fontSize:25,round:!0,radiusFactor:4.5,fontFamily:"courier",fontColorFactor:.65},h=function(e){function t(t){var s=e.call(this,t)||this;return s.properties=t,s.properties=o(o({},c),s.properties),-1===s.x&&(s.x=s.width/2),-1===s.y&&(s.y=s.height/2),s.r=Math.min(s.height,s.width)/s.properties.radiusFactor,s}return i(t,e),t.prototype.init=function(){},t.prototype.draw=function(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=!0),s&&this.clear();var n=this.properties,i=e.reduce((function(e,t){return e+t}));this.endAngle=0;for(var o=0;o<e.length;o++){var r=e[o]/i*100;if(0!=r){var c=a.colors[o%a.colors.length],h=Math.PI/50*r;this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.arc(this.x,this.y,this.r,this.endAngle-.5*Math.PI,this.endAngle+h-.5*Math.PI),this.ctx.fillStyle=c,this.ctx.fill(),this.ctx.closePath();var l=this.endAngle+h/2;if(t){this.ctx.fillStyle=a.darkenHexColor(this.ctx.fillStyle,n.fontColorFactor),this.ctx.font=n.fontSize+"px "+n.fontFamily;var u,m=15*(u=n.round?Math.round(r)+"%":r+"$").length,p=this.r-50,f=this.x+(Math.sin(l)*p+m/2*(Math.sin(l)-1)),d=this.y-(Math.cos(l)*p+7.5*(Math.cos(l)-1));this.ctx.fillText(u,f,d)}this.endAngle+=h}}},t.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},t}(r.Chart);t.Pie=h},131:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;var o=function(e){function t(t){var s=e.call(this)||this;return s.channel=t,s}return i(t,e),t.prototype.onMessage=function(e){this.on("message",e)},t.prototype.emitMessage=function(e,t){this.emit("message",e,t)},t}(s(187).EventEmitter);t.Chat=o},320:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchChat=void 0;var o=s(131),r=s(993),a=function(e){function t(t){var s=e.call(this,t)||this;return s.client=r.Client({connection:{secure:!0,reconnect:!0},channels:[s.channel]}),console.log("[Chat] Connecting to channel: "+t),s.client.connect(),console.log("[Chat] Connected!"),s.client.on("message",(function(e,t,n,i){s.emitMessage(t.username,n)})),s}return i(t,e),t}(o.Chat);t.TwitchChat=a},256:(e,t)=>{"use strict";function s(e,t,s,n){return void 0===n&&(n=!0),(n?"#":"")+(16777215&(e<<16|t<<8|s)).toString(16)}function n(e){e.startsWith("#")&&(e=e.substring(1));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}function i(e,t,n,i){return s(e=Math.max(0,e*i),t=Math.max(0,t*i),n=Math.max(0,n*i))}Object.defineProperty(t,"__esModule",{value:!0}),t.darkenHexColor=t.darkenRGBColor=t.Hex2RGB=t.RGB2Hex=t.colors=void 0,t.colors=["#3498db","#f1c40f","#e74c3c","#3498db","#2ecc71","#1abc9c","#9b59b6","#f1c40f","#e67e22","#e74c3c","#ecf0f1"],t.RGB2Hex=s,t.Hex2RGB=n,t.darkenRGBColor=i,t.darkenHexColor=function(e,t){var s=n(e);return i(s[0],s[1],s[2],t)}},824:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.Job=void 0;var o=function(e){function t(t,s){void 0===t&&(t=10),void 0===s&&(s=1);var n=e.call(this)||this;return n.timeout=t,n.requiredPings=s,n.current=0,n.currentPing=0,n}return i(t,e),t.prototype.onTime=function(){this.current++,this.current>=this.timeout&&(this.stopTimer(),this.emit("cancel"))},t.prototype.ping=function(){var e=this;this.currentPing++,this.currentPing<this.requiredPings||(this.current=0,this.currentPing=0,null==this.timer&&(this.timer=window.setInterval((function(){return e.onTime()}),1e3),this.emit("start")))},t.prototype.stopTimer=function(){this.isActive()&&(window.clearInterval(this.timer),this.timer=null),this.current=0,this.currentPing=0},t.prototype.isActive=function(){return null!=this.timer},t}(s(187).EventEmitter);t.Job=o},834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reactions=t.getReactionByKeyword=void 0;var s=[{sorting:0,display:"+1",keywords:["+1","1","yes","ye","ja"]},{sorting:2,display:"~",keywords:["2","wtf"]},{sorting:3,display:"-1",keywords:["-1","0","no","nein"]}];t.reactions=s,t.getReactionByKeyword=function(e){e=e.toLowerCase();for(var t=0;t<s.length;t++)for(var n=s[t],i=0;i<n.keywords.length;i++)if(n.keywords[i]==e)return n;return null}},651:function(e,t,s){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionStorage=t.UpdateMode=void 0;var o,r=s(187),a=s(834);!function(e){e[e.INCREMENT=1]="INCREMENT",e[e.DECREMENT=-1]="DECREMENT"}(o=t.UpdateMode||(t.UpdateMode={}));var c=function(e){function t(t,s,n){void 0===n&&(n=!0);var i=e.call(this)||this;return i.chat=t,i.job=s,i.duplicationChecking=n,i.users=new Map,i.reactions=new Map,i.chat.onMessage((function(e,t){i.onMessage(e,t)})),i}return i(t,e),t.prototype.onMessage=function(e,t){if(null!=e&&null!=t){var s=a.getReactionByKeyword(t);null!=s&&(this.job.ping(),this.react(e,s))}else console.log("[Storage]","Null:",e,"or",t)},t.prototype.getReaction=function(e){var t;return null!==(t=this.reactions.get(e))&&void 0!==t?t:0},t.prototype.updateReaction=function(e,t){var s=this.getReaction(e);switch(t){case o.INCREMENT:s++;break;case o.DECREMENT:s--}return this.reactions.set(e,s),this.emit("update",e,s,t),s},t.prototype.react=function(e,t){if(1==this.duplicationChecking){if(this.users.has(e)){var s=this.users.get(e);if(s==t)return;this.updateReaction(s,o.DECREMENT)}this.users.set(e,t)}this.updateReaction(t,o.INCREMENT),this.emit("reaction",e,t)},t.prototype.resetStorage=function(){this.users.clear(),this.reactions.clear(),console.log("[Storage]","Reset users and reactions!")},t.prototype.getValues=function(){var e=this,t=[],s=new Map;a.reactions.forEach((function(n){s.set(n.sorting,e.getReaction(n)),t.push(n.sorting)}));for(var n=0;n<t.length;n++)for(var i=0;i<t.length;i++)if(n!=i){var o=t[n],r=t[i];o<r&&(t[n]=r,t[i]=o)}var c=[];for(n=0;n<t.length;n++)c.push(s.get(t[n]));return c},t.prototype.drawChart=function(e){var t=this.getValues();e.draw(t,!0,!0)},t}(r.EventEmitter);t.ReactionStorage=c},887:()=>{},418:()=>{}},t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL2Fzc2V0cy9zdHlsZXMvbWFpbi5zY3NzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy9hc3NldHMvaW1nL2ltZ19iYXIucG5nIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvYXNzZXRzL2ltZy9pbWdfcGllLnBuZyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL2J1aWxkZXIuaHRtbCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL2h0bWwtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy9hc3NldHMvc3R5bGVzL21haW4uc2Nzcz9kOGFjIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL2FwaS5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvY2xpZW50LmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9jb21tYW5kcy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvZXZlbnRzLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL3BhcnNlci5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvdGltZXIuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9jaGFydHMvYmFyLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL2NoYXJ0LnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL3BpZS50cyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL3RzL2NoYXRzL2NoYXQudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9jaGF0cy90d2l0Y2guY2hhdC50cyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL3RzL2NvbG9yLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvam9iLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMva2V5d29yZHMudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9yZWFjdGlvbnN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsIkV2ZW50RW1pdHRlciIsImluaXQiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXZlbnRMaXN0ZW5lciIsImVycm9yTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImFyZ3VtZW50cyIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJtIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwiY3JlYXRlIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiYmluZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwiYXJnIiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImhhbmRsZXIiLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsIm9uIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXkiLCJrZXlzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsIl9fX0hUTUxfTE9BREVSX0dFVF9TT1VSQ0VfRlJPTV9JTVBPUlRfX18iLCJfX19IVE1MX0xPQURFUl9JTVBPUlRfMF9fXyIsIl9fX0hUTUxfTE9BREVSX0lNUE9SVF8xX19fIiwiY29kZSIsInVybCIsIm9wdGlvbnMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhc2giLCJtYXliZU5lZWRRdW90ZXMiLCJtZW1vIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiY2xpZW50IiwiQ2xpZW50IiwicmVxdWVzdCIsIl8iLCJjYWxsYmFjayIsInVyaSIsImlzVVJMIiwiaXNOb2RlIiwibWVyZ2UiLCJtZXRob2QiLCJqc29uIiwiaXNFeHRlbnNpb24iLCJpc1JlYWN0TmF0aXZlIiwiaGVhZGVycyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJzZW5kIiwiY2FsbGJhY2tOYW1lIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiYm9keSIsInNjcmlwdCIsInNyYyIsImluY2x1ZGVzIiwiYXBpIiwiY29tbWFuZHMiLCJldmVudEVtaXR0ZXIiLCJsb2dnZXIiLCJwYXJzZSIsInRpbWVyIiwid3MiLCJnIiwiV2ViU29ja2V0IiwiTW96V2ViU29ja2V0Iiwib3B0cyIsImNoYW5uZWxzIiwiY29ubmVjdGlvbiIsImlkZW50aXR5IiwiY2xpZW50SWQiLCJtYXhSZWNvbm5lY3RBdHRlbXB0cyIsIkluZmluaXR5IiwibWF4UmVjb25uZWN0SW50ZXJ2YWwiLCJyZWNvbm5lY3QiLCJyZWNvbm5lY3REZWNheSIsInJlY29ubmVjdEludGVydmFsIiwicmVjb25uZWN0aW5nIiwicmVjb25uZWN0aW9ucyIsInJlY29ubmVjdFRpbWVyIiwic2VjdXJlIiwiZW1vdGVzIiwiZW1vdGVzZXRzIiwiY3VycmVudExhdGVuY3kiLCJnbG9iYWx1c2Vyc3RhdGUiLCJsYXN0Sm9pbmVkIiwibGF0ZW5jeSIsIkRhdGUiLCJtb2RlcmF0b3JzIiwicGluZ0xvb3AiLCJwaW5nVGltZW91dCIsInJlYXNvbiIsInVzZXJuYW1lIiwidXNlcnN0YXRlIiwid2FzQ2xvc2VDYWxsZWQiLCJsZXZlbCIsImRlYnVnIiwibG9nIiwic2V0TGV2ZWwiLCJwYXJ0IiwidGhlQXJyYXkiLCJjaGFubmVsIiwibWV0aG9kTmFtZSIsImluaGVyaXRzIiwiaGFuZGxlTWVzc2FnZSIsImlzTnVsbCIsInBhcmFtcyIsIm1zZyIsIm1zZ2lkIiwidGFncyIsImJhZGdlcyIsImJhZGdlSW5mbyIsImlzQm9vbGVhbiIsImlzU3RyaW5nIiwidW5lc2NhcGVJUkMiLCJwcmVmaXgiLCJjb21tYW5kIiwiY3VyckRhdGUiLCJnZXRUaW1lIiwiZW1pdHMiLCJjbGVhclRpbWVvdXQiLCJpbmZvIiwic2VydmVyIiwicG9ydCIsInNldEludGVydmFsIiwic2V0VGltZW91dCIsImNsb3NlIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVvdXQiLCJqb2luUXVldWUiLCJxdWV1ZSIsImpvaW5DaGFubmVscyIsInVuaW9uIiwiYWRkIiwiY2F0Y2giLCJydW4iLCJudWxsQXJyIiwibm90aWNlQXJyIiwiY2hhbm5lbFRydWVBcnIiLCJjaGFubmVsRmFsc2VBcnIiLCJub3RpY2VBbmROdWxsIiwibm90aWNlQW5kTXNnaWQiLCJiYXNpY0xvZyIsIm1vZHMiLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJ2aXBzIiwicmVtYWluaW5nSG9zdCIsInBhcnNlSW50IiwicGxhbiIsInBsYW5OYW1lIiwibWV0aG9kcyIsInByaW1lIiwic3RyZWFrTW9udGhzIiwicmVjaXBpZW50IiwiZ2lmdFN1YkNvdW50Iiwic2VuZGVyIiwidmlld2VycyIsIm1zZ1NwbGl0IiwiZHVyYXRpb24iLCJkZWxldGVkTWVzc2FnZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiaXNKdXN0aW5mYW4iLCJnZXRVc2VybmFtZSIsIl91cGRhdGVFbW90ZXNldCIsImhhc093blByb3BlcnR5Iiwic2xvdyIsImVuYWJsZWQiLCJkaXNhYmxlZCIsIm5pY2siLCJpc1NlbGYiLCJpbmRleE9mIiwiYXV0b2hvc3QiLCJleHRyYWN0TnVtYmVyIiwiYWN0aW9uTWVzc2FnZSIsIl9vcGVuQ29ubmVjdGlvbiIsIm9ubWVzc2FnZSIsIl9vbk1lc3NhZ2UiLCJvbmVycm9yIiwiX29uRXJyb3IiLCJvbmNsb3NlIiwiX29uQ2xvc2UiLCJvbm9wZW4iLCJfb25PcGVuIiwianVzdGluZmFuIiwicGFzc3dvcmQiLCJldmVudCIsInN0ciIsIl9nZXRQcm9taXNlRGVsYXkiLCJfc2VuZENvbW1hbmQiLCJkZWxheSIsImZuIiwicHJvbWlzZURlbGF5IiwidGhlbiIsImNoYW4iLCJfc2VuZE1lc3NhZ2UiLCJzcGxpdExpbmUiLCJlbW90ZSIsImlzUmVnZXgiLCJlbW90ZVJlZ2V4IiwiZW1vdGVTdHJpbmciLCJ0cmFuc2Zvcm1FbW90ZXMiLCJzZXRzIiwicmVwbGFjZSIsInJlcyIsImdldE9wdGlvbnMiLCJnZXRDaGFubmVscyIsImlzTW9kIiwidG1pIiwiZm9sbG93ZXJzb25seSIsIm1pbnV0ZXMiLCJmb2xsb3dlcnNvbmx5b2ZmIiwicjlrYmV0YSIsInI5a2JldGFvZmYiLCJzZWNvbmRzIiwic2xvd29mZiIsImFjdGlvbiIsImJhbiIsImNsZWFyIiwiY29sb3IiLCJuZXdDb2xvciIsImNvbW1lcmNpYWwiLCJkZWxldGVtZXNzYWdlIiwibWVzc2FnZVVVSUQiLCJlbW90ZW9ubHkiLCJlbW90ZW9ubHlvZmYiLCJmb2xsb3dlcnNtb2RlIiwiZm9sbG93ZXJzbW9kZW9mZiIsImhvc3QiLCJyZW1haW5pbmciLCJldmVudE5hbWUiLCJoYXNGdWxmaWxsZWQiLCJqb2luZWRDaGFubmVsIiwibW9kIiwibGVhdmUiLCJwaW5nIiwicGFyc2VGbG9hdCIsInI5a21vZGUiLCJyOWttb2Rlb2ZmIiwicmF3Iiwic2F5Iiwic3RhcnRzV2l0aCIsInN1YnN0ciIsInNsb3dtb2RlIiwic2xvd21vZGVvZmYiLCJzdWJzY3JpYmVycyIsInN1YnNjcmliZXJzb2ZmIiwiaXNJbnRlZ2VyIiwidW5iYW4iLCJ1bmhvc3QiLCJ1bm1vZCIsInVudmlwIiwidmlwIiwid2hpc3BlciIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwic2VhcmNoU3RyaW5nIiwidHlwZXMiLCJ2YWx1ZXMiLCJ2YWwiLCJ0cmFjZSIsImNoYXJBdCIsInNlYXJjaEZvciIsImsiLCJzdWJzdHJpbmciLCJjdXJyZW50TGV2ZWwiLCJsZXZlbHMiLCJmb3JtYXREYXRlIiwiZmF0YWwiLCJub25zcGFjZVJlZ2V4IiwicGFyc2VDb21wbGV4VGFnIiwidGFnS2V5Iiwic3BsQSIsInNwbEIiLCJzcGxDIiwidGFnSXNTdHJpbmciLCJzcGwiLCJwYXJ0cyIsImxhc3RJbmRleCIsIm1hdGNoIiwicmVnZXgiLCJSZWdFeHAiLCJ1bmVzY2FwZUh0bWwiLCJleGVjIiwidHJhbnNmb3JtZWQiLCJuZXh0c3BhY2UiLCJjaGFyQ29kZUF0IiwicmF3VGFncyIsInRhZyIsInBhaXIiLCJkZWZhdWx0RGVsYXkiLCJhdCIsInJlc2V0IiwiYWN0aW9uTWVzc2FnZVJlZ2V4IiwianVzdGluRmFuUmVnZXgiLCJ1bmVzY2FwZUlSQ1JlZ2V4IiwiaXJjRXNjYXBlZENoYXJzIiwicyIsInIiLCJzZWxmIiwib2JqMSIsIm9iajIiLCJpc0Zpbml0ZSIsImludCIsInRvTnVtYmVyIiwiZmxvb3IiLCJ0aW1lIiwicmVwbGFjZUFsbCIsIngiLCJzYWZlIiwicCIsImFkZFdvcmQiLCJsaW5lIiwid29yZCIsImRhdGUiLCJob3VycyIsImdldEhvdXJzIiwibWlucyIsImdldE1pbnV0ZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJwcm9jZXNzIiwiY2hyb21lIiwicnVudGltZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJhc3NpZ24iLCJpbnB1dCIsImxhc3RTcGFjZSIsImxhc3RJbmRleE9mIiwibnVtIiwicHJlY2lzaW9uIiwiZmFjdG9yIiwicG93IiwiYXJyMSIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwicmVxdWlyZWRQaW5ncyIsImpvYiIsIkpvYiIsImNoYXQiLCJUd2l0Y2hDaGF0IiwiY2hhcnQiLCJoYXMiLCJQaWUiLCJlbGVtZW50SWQiLCJiYWNrZ3JvdW5kIiwieSIsInJhZGl1c0ZhY3RvciIsIkJhciIsImJhck1hcmdpbkhlaWdodCIsImJhck1hcmdpbldpZHRoIiwic3Ryb2tlTWFyZ2luSGVpZ2h0Iiwic3Ryb2tlTWFyZ2luV2lkdGgiLCJzdG9yYWdlIiwiUmVhY3Rpb25TdG9yYWdlIiwicmVhY3Rpb24iLCJtb2RlIiwiaXNBY3RpdmUiLCJVcGRhdGVNb2RlIiwiSU5DUkVNRU5UIiwiZHJhd0NoYXJ0IiwicmVzZXRTdG9yYWdlIiwiRk9OVF9EWU5BTUlDIiwiZGVmYXVsdEJhclByb3BlcnRpZXMiLCJ2YWx1ZUNvbG9ycyIsImNvbG9ycyIsInN0cm9rZUNvbG9yIiwic3Ryb2tlSXRlcmF0aW9ucyIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRTaXplRmFjdG9yIiwiZm9udENvbG9yRmFjdG9yIiwidGV4dFJvdW5kIiwicHJvcGVydGllcyIsImRyYXciLCJkcmF3VGV4dCIsInByb3AiLCJyZWN0V2lkdGgiLCJ3aWR0aCIsInJlY3RIZWlnaHQiLCJoZWlnaHQiLCJmb250TXAiLCJjdHgiLCJmb250Iiwic3Ryb2tlU3R5bGUiLCJqIiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImNsb3NlUGF0aCIsInN1bSIsInJlZHVjZSIsImEiLCJjIiwibGFzdFgiLCJwZXJjZW50YWdlIiwidmFsdWVXaWR0aCIsImZpbGxTdHlsZSIsImZpbGwiLCJ0eHQiLCJkYXJrZW5IZXhDb2xvciIsImZpbGxUZXh0IiwiY2xlYXJSZWN0IiwiQ2hhcnQiLCJjYW52YXNFbGVtZW50SWQiLCJkZWZhdWx0VmlldyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkxPQ0FUSU9OX0NFTlRFUiIsImRlZmF1bHRQaWVQYXJhbXMiLCJtaW4iLCJlbmRBbmdsZSIsImN1cnJlbnRBbmdsZSIsIlBJIiwibW92ZVRvIiwiYXJjIiwiYmV0YSIsInQiLCJBYnMiLCJUeCIsInNpbiIsIlR5IiwiY29zIiwib25NZXNzYWdlIiwiZW1pdE1lc3NhZ2UiLCJDaGF0IiwidSIsIlJHQjJIZXgiLCJiIiwibGVhZGluZ0hhc2giLCJIZXgyUkdCIiwiaGV4IiwicmdiIiwiZGFya2VuUkdCQ29sb3IiLCJtcCIsIm1heCIsImN1cnJlbnQiLCJjdXJyZW50UGluZyIsIm9uVGltZSIsInN0b3BUaW1lciIsInJlYWN0aW9ucyIsInNvcnRpbmciLCJkaXNwbGF5Iiwia2V5d29yZHMiLCJrZXl3b3JkIiwiZHVwbGljYXRpb25DaGVja2luZyIsInVzZXJzIiwiTWFwIiwiZ2V0UmVhY3Rpb25CeUtleXdvcmQiLCJyZWFjdCIsImdldFJlYWN0aW9uIiwidXBkYXRlUmVhY3Rpb24iLCJERUNSRU1FTlQiLCJvbGRSZWFjdGlvbiIsImdldFZhbHVlcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkIiwiZGVmaW5pdGlvbiIsImdsb2JhbFRoaXMiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6InVGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLEdBQUksR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLEdBQUcsTUFBUSxHQUFHLFNBQVcsR0FBRyxXQUFhLE1BRWhILFcscUJDQ0FELEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVU4sRUFBdUJLLEdBRXJDLE9BQUlBLEVBQUssR0FDQSxVQUFVRSxPQUFPRixFQUFLLEdBQUksTUFBTUUsT0FBT0QsRUFBUyxLQUdsREEsS0FDTkUsS0FBSyxLQUtWUCxFQUFLUSxFQUFJLFNBQVVDLEVBQVNDLEVBQVlDLEdBQ2YsaUJBQVpGLElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSUcsRUFBeUIsR0FFN0IsR0FBSUQsRUFDRixJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSU4sS0FBS1csT0FBUUwsSUFBSyxDQUVwQyxJQUFJWCxFQUFLSyxLQUFLTSxHQUFHLEdBRVAsTUFBTlgsSUFDRmUsRUFBdUJmLElBQU0sR0FLbkMsSUFBSyxJQUFJaUIsRUFBSyxFQUFHQSxFQUFLTCxFQUFRSSxPQUFRQyxJQUFNLENBQzFDLElBQUlWLEVBQU8sR0FBR0UsT0FBT0csRUFBUUssSUFFekJILEdBQVVDLEVBQXVCUixFQUFLLE1BS3RDTSxJQUNHTixFQUFLLEdBR1JBLEVBQUssR0FBSyxHQUFHRSxPQUFPSSxFQUFZLFNBQVNKLE9B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QU93cEIsWUFBYSxDQUFFN29CLE1BQU8sV0FFN0RULE9BQU95RyxlQUFlcEksRUFBUyxhQUFjLENBQUVvQyxPQUFPLEtDSHZEc29CLEVBQW9CLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W10sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIlwiLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBldmVudExpc3RlbmVyKCkge1xuICAgICAgaWYgKGVycm9yTGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG4gICAgdmFyIGVycm9yTGlzdGVuZXI7XG5cbiAgICAvLyBBZGRpbmcgYW4gZXJyb3IgbGlzdGVuZXIgaXMgbm90IG9wdGlvbmFsIGJlY2F1c2VcbiAgICAvLyBpZiBhbiBlcnJvciBpcyB0aHJvd24gb24gYW4gZXZlbnQgZW1pdHRlciB3ZSBjYW5ub3RcbiAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgYWN0dWFsIGV2ZW50IHdlIGFyZSB3YWl0aW5nIHdpbGxcbiAgICAvLyBiZSBmaXJlZC4gVGhlIHJlc3VsdCBjb3VsZCBiZSBhIHNpbGVudCB3YXkgdG8gY3JlYXRlXG4gICAgLy8gbWVtb3J5IG9yIGZpbGUgZGVzY3JpcHRvciBsZWFrcywgd2hpY2ggaXMgc29tZXRoaW5nXG4gICAgLy8gd2Ugc2hvdWxkIGF2b2lkLlxuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBlcnJvckxpc3RlbmVyID0gZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9O1xuXG4gICAgICBlbWl0dGVyLm9uY2UoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgZW1pdHRlci5vbmNlKG5hbWUsIGV2ZW50TGlzdGVuZXIpO1xuICB9KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IFwiLi8zMWNmYjJmMGFjNGYyMTE3OTE5ZmZkMTdjZWI1MDQ1Zi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBcIi4vZTA0NTdiNWZlODI4YmI5MjgwOWM5OTkwNWFlNGRmMzYucG5nXCI7IiwiLy8gSW1wb3J0c1xudmFyIF9fX0hUTUxfTE9BREVSX0dFVF9TT1VSQ0VfRlJPTV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2h0bWwtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fSFRNTF9MT0FERVJfSU1QT1JUXzBfX18gPSByZXF1aXJlKFwiLi9hc3NldHMvaW1nL2ltZ19iYXIucG5nXCIpO1xudmFyIF9fX0hUTUxfTE9BREVSX0lNUE9SVF8xX19fID0gcmVxdWlyZShcIi4vYXNzZXRzL2ltZy9pbWdfcGllLnBuZ1wiKTtcbi8vIE1vZHVsZVxudmFyIF9fX0hUTUxfTE9BREVSX1JFUExBQ0VNRU5UXzBfX18gPSBfX19IVE1MX0xPQURFUl9HRVRfU09VUkNFX0ZST01fSU1QT1JUX19fKF9fX0hUTUxfTE9BREVSX0lNUE9SVF8wX19fKTtcbnZhciBfX19IVE1MX0xPQURFUl9SRVBMQUNFTUVOVF8xX19fID0gX19fSFRNTF9MT0FERVJfR0VUX1NPVVJDRV9GUk9NX0lNUE9SVF9fXyhfX19IVE1MX0xPQURFUl9JTVBPUlRfMV9fXyk7XG52YXIgY29kZSA9IFwiPCFET0NUWVBFIGh0bWw+IDxodG1sIGxhbmc9XFxcImVuXFxcIj4gPGhlYWQ+IDxtZXRhIGNoYXJzZXQ9XFxcIlVURi04XFxcIi8+IDxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xXFxcIi8+IDx0aXRsZT5CdWlsZGVyPC90aXRsZT4gPGxpbmsgaHJlZj1cXFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4wLjAtYmV0YTEvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3NcXFwiIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgaW50ZWdyaXR5PVxcXCJzaGEzODQtZ2lKRjZra29xTlEwMHZ5K0hNRFA3YXpPdUwweHRiZkljYVQ5d2pLSHI4UmJEVmRkVkh5VGZBQXNyZWt3S21QMVxcXCIgY3Jvc3NvcmlnaW49XFxcImFub255bW91c1xcXCIvPiA8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4wLjAtYmV0YTEvZGlzdC9qcy9ib290c3RyYXAuYnVuZGxlLm1pbi5qc1xcXCIgaW50ZWdyaXR5PVxcXCJzaGEzODQteWdiVjlraXFVYzZvYTRtc1huOTg2OHBUdFdNZ2lRYWVZSDcvdDdMRUNMYnlQQTJ4NjVLZ2Y4ME9KRmRyb2FmV1xcXCIgY3Jvc3NvcmlnaW49XFxcImFub255bW91c1xcXCI+PC9zY3JpcHQ+IDxzY3JpcHQgc3JjPVxcXCJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8zLjUuMS9qcXVlcnkubWluLmpzXFxcIj48L3NjcmlwdD4gPHN0eWxlPjwvc3R5bGU+IDwvaGVhZD4gPGJvZHk+IDxoZWFkZXI+IDxuYXYgY2xhc3M9XFxcIm5hdmJhciBuYXZiYXItZXhwYW5kLW1kIG5hdmJhci1kYXJrIGJnLWRhcmtcXFwiPiA8YSBjbGFzcz1cXFwibmF2YmFyLWJyYW5kXFxcIiBocmVmPVxcXCIjXFxcIj5CdWlsZGVyPC9hPiA8L25hdj4gPC9oZWFkZXI+IDxtYWluIHJvbGU9XFxcIm1haW5cXFwiIGNsYXNzPVxcXCJjb250YWluZXJcXFwiPiA8aDEgY2xhc3M9XFxcIm10LTVcXFwiPlBvbGwgT3ZlcmxheSBCdWlsZGVyPC9oMT4gPHAgY2xhc3M9XFxcImxlYWRcXFwiPiBIZXJlIHlvdSBjYW4gZWFzaWx5IGN1c3RvbWl6ZSB0aGUgb3ZlcmxheS4gPGJyPiBXaGVuIHlvdSdyZSBkb25lLCBwcmVzcyB0aGUgYnV0dG9uIGF0IHRoZSBib3R0b20sIGFuZCB0aGVuIHVzZSB0aGUgb3V0cHV0IFVSTCBhcyB0aGUgd2ViIGJyb3dzZXIgVVJMIGluIHlvdXIgc3RyZWFtIHByb2dyYW0uIDwvcD4gPGhyPiA8Zm9ybSBpZD1cXFwiZm9ybVxcXCI+IDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPiA8bGFiZWwgZm9yPVxcXCJjaGFubmVsXFxcIj5DaGFubmVsOjwvbGFiZWw+IDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiY2hhbm5lbFxcXCIgbmFtZT1cXFwiY2hhbm5lbFxcXCIgcGxhY2Vob2xkZXI9XFxcImQyYW5pZWxcXFwiIHJlcXVpcmVkLz4gPHNtYWxsIGlkPVxcXCJjaGFubmVsTm90aWNlXFxcIiBjbGFzcz1cXFwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcXFwiPkVudGVyIGhlcmUgdGhlIGNoYW5uZWwgbmFtZSBvbmx5LiBXaXRob3V0IDxjb2RlPmh0dHBzOi8vdHdpdGNoLnR2LzwvY29kZT48L3NtYWxsPiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+IDxicj4gPHAgY2xhc3M9XFxcImZvcm0tY2hlY2stbGFiZWxcXFwiPiBUeXBlOiA8L3A+IDxkaXYgY2xhc3M9XFxcImZvcm0tY2hlY2sgZm9ybS1jaGVjay1pbmxpbmVcXFwiPiA8aW5wdXQgY2xhc3M9XFxcImZvcm0tY2hlY2staW5wdXRcXFwiIHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJ0eXBlXFxcIiBpZD1cXFwidHlwZV9iYXJcXFwiIHZhbHVlPVxcXCJiYXJcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiLz4gPGxhYmVsIGNsYXNzPVxcXCJmb3JtLWNoZWNrLWxhYmVsXFxcIiBmb3I9XFxcInR5cGVfYmFyXFxcIj4gPGltZyBzcmM9XFxcIlwiICsgX19fSFRNTF9MT0FERVJfUkVQTEFDRU1FTlRfMF9fXyArIFwiXFxcIiBhbHQ9XFxcIkJhclxcXCI+IDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWNoZWNrIGZvcm0tY2hlY2staW5saW5lXFxcIj4gPGlucHV0IGNsYXNzPVxcXCJmb3JtLWNoZWNrLWlucHV0XFxcIiB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwidHlwZVxcXCIgaWQ9XFxcInR5cGVfcGllXFxcIiB2YWx1ZT1cXFwicGllXFxcIi8+IDxsYWJlbCBjbGFzcz1cXFwiZm9ybS1jaGVjay1sYWJlbFxcXCIgZm9yPVxcXCJ0eXBlX3BpZVxcXCI+IDxpbWcgc3JjPVxcXCJcIiArIF9fX0hUTUxfTE9BREVSX1JFUExBQ0VNRU5UXzFfX18gKyBcIlxcXCIgYWx0PVxcXCJQaWVcXFwiPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDxocj4gPGgzPkFkdmFuY2VkOiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj4gPGxhYmVsIGZvcj1cXFwidGltZW91dFxcXCI+VGltZW91dDo8L2xhYmVsPiA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwidGltZW91dFxcXCIgbmFtZT1cXFwidGltZW91dFxcXCIgdmFsdWU9XFxcIjEwXFxcIi8+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj4gPGxhYmVsIGZvcj1cXFwicmVxdWlyZWRQaW5nc1xcXCI+UmVxdWlyZWQgUGluZ3M6PC9sYWJlbD4gPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcInJlcXVpcmVkUGluZ3NcXFwiIG5hbWU9XFxcInJlcXVpcmVkUGluZ3NcXFwiIHZhbHVlPVxcXCIzXFxcIi8+IDwvZGl2PiA8aHI+IDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIj7wn5SoPC9idXR0b24+IDwvaDM+PC9mb3JtPiA8ZGl2IGlkPVxcXCJvdXRwdXRcXFwiIHN0eWxlPVxcXCJkaXNwbGF5Om5vbmVcXFwiPiA8aHI+IDxoMj5PdXRwdXQ6PC9oMj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJvdXRwdXRfdHh0XFxcIiBuYW1lPVxcXCJjaGFubmVsXFxcIiBwbGFjZWhvbGRlcj1cXFwiKCggRXJyb3IgKSlcXFwiIHJlYWRvbmx5PVxcXCJyZWFkb25seVxcXCIvPiA8L2Rpdj4gPHNjcmlwdD4kKFxcXCIjZm9ybVxcXCIpLm9uKFxcXCJzdWJtaXRcXFwiLG89PntvLnByZXZlbnREZWZhdWx0KCk7Y29uc3QgdD0kKFxcXCIjZm9ybVxcXCIpLnNlcmlhbGl6ZSgpLG49JChcXFwiI291dHB1dFxcXCIpO1xcXCJub25lXFxcIj09bi5jc3MoXFxcImRpc3BsYXlcXFwiKSYmKGNvbnNvbGUubG9nKFxcXCJIYXMgZGlzcGxheTogbm9uZSFcXFwiKSxuLmNzcyhcXFwiZGlzcGxheVxcXCIsXFxcInVuc2V0XFxcIikpO2NvbnN0IHM9JChcXFwiI291dHB1dF90eHRcXFwiKSxlPWAke3dpbmRvdy5sb2NhdGlvbi5ob3N0fSR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfT8ke3R9YDtzLnZhbChlLnJlcGxhY2UoXFxcImJ1aWxkZXIuaHRtbFxcXCIsXFxcImluZGV4Lmh0bWxcXFwiKSl9KTwvc2NyaXB0PiA8L21haW4+IDwvYm9keT4gPC9odG1sPiBcIjtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gY29kZTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH1cblxuICBpZiAob3B0aW9ucy5tYXliZU5lZWRRdW90ZXMgJiYgL1tcXHRcXG5cXGZcXHIgXCInPTw+YF0vLnRlc3QodXJsKSkge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLnNjc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRjbGllbnQ6IHJlcXVpcmUoXCIuL2xpYi9jbGllbnRcIiksXG5cdENsaWVudDogcmVxdWlyZShcIi4vbGliL2NsaWVudFwiKVxufTtcbiIsInZhciByZXF1ZXN0ID0gcmVxdWlyZShcInJlcXVlc3RcIik7XG52YXIgXyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgYXBpID0gZnVuY3Rpb24gYXBpKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgLy8gU2V0IHRoZSB1cmwgdG8gb3B0aW9ucy51cmkgb3Igb3B0aW9ucy51cmwuLlxuICAgIHZhciB1cmwgPSBfLmdldChvcHRpb25zLnVybCwgbnVsbCkgPT09IG51bGwgPyBfLmdldChvcHRpb25zLnVyaSwgbnVsbCkgOiBfLmdldChvcHRpb25zLnVybCwgbnVsbCk7XG5cbiAgICAvLyBNYWtlIHN1cmUgaXQgaXMgYSB2YWxpZCB1cmwuLlxuICAgIGlmICghXy5pc1VSTCh1cmwpKSB7IHVybCA9IFwiaHR0cHM6Ly9hcGkudHdpdGNoLnR2L2tyYWtlblwiICsgKHVybFswXSA9PT0gXCIvXCIgPyB1cmwgOiBgLyR7dXJsfWApOyB9XG5cbiAgICAvLyBXZSBhcmUgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiwgc28gd2UgY2FuIHVzZSB0aGUgcmVxdWVzdCBtb2R1bGUuLlxuICAgIGlmIChfLmlzTm9kZSgpKSB7XG4gICAgICAgIHJlcXVlc3QoXy5tZXJnZSh7IG1ldGhvZDogXCJHRVRcIiwganNvbjogdHJ1ZSB9LCBvcHRpb25zLCB7IHVybDogdXJsIH0pLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhbiBleHRlbnNpb24gLT4gd2UgY2Fubm90IHVzZSBqc29ucCFcbiAgICBlbHNlIGlmIChfLmlzRXh0ZW5zaW9uKCkgfHwgXy5pc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IF8ubWVyZ2UoeyB1cmw6IHVybCwgbWV0aG9kOiBcIkdFVFwiLCBoZWFkZXJzOiB7fSB9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gcHJlcGFyZSByZXF1ZXN0XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsLCB0cnVlKTtcbiAgICAgICAgZm9yKHZhciBuYW1lIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgb3B0aW9ucy5oZWFkZXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIC8vIHNldCByZXF1ZXN0IGhhbmRsZXJcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhoci5zdGF0dXMsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gc3VibWl0XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhIHdlYiBhcHBsaWNhdGlvbiwgdXNlIGpzb25wLi5cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQ2FsbGJhY2tzIG11c3QgbWF0Y2ggdGhlIHJlZ2V4IFthLXpBLVpfJF1bXFx3JF0qKFxcLlthLXpBLVpfJF1bXFx3JF0qKSpcbiAgICAgICAgdmFyIGNhbGxiYWNrTmFtZSA9IGBqc29ucF9jYWxsYmFja18ke01hdGgucm91bmQoMTAwMDAwICogTWF0aC5yYW5kb20oKSl9YDtcbiAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgd2luZG93W2NhbGxiYWNrTmFtZV07XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsLCBkYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbmplY3QgdGhlIHNjcmlwdCBpbiB0aGUgZG9jdW1lbnQuLlxuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0LnNyYyA9IGAke3VybH0ke3VybC5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifWNhbGxiYWNrPSR7Y2FsbGJhY2tOYW1lfWA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIuL2FwaVwiKTtcbnZhciBjb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzXCIpO1xudmFyIGV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2V2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG52YXIgbG9nZ2VyID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xudmFyIHBhcnNlID0gcmVxdWlyZShcIi4vcGFyc2VyXCIpO1xudmFyIHRpbWVyID0gcmVxdWlyZShcIi4vdGltZXJcIik7XG52YXIgd3MgPSBnbG9iYWwuV2ViU29ja2V0IHx8IGdsb2JhbC5Nb3pXZWJTb2NrZXQgfHwgcmVxdWlyZShcIndzXCIpO1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuLy8gQ2xpZW50IGluc3RhbmNlLi5cbnZhciBjbGllbnQgPSBmdW5jdGlvbiBjbGllbnQob3B0cykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgY2xpZW50ID09PSBmYWxzZSkgeyByZXR1cm4gbmV3IGNsaWVudChvcHRzKTsgfVxuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKDApO1xuXG4gICAgdGhpcy5vcHRzID0gXy5nZXQob3B0cywge30pO1xuICAgIHRoaXMub3B0cy5jaGFubmVscyA9IHRoaXMub3B0cy5jaGFubmVscyB8fCBbXTtcbiAgICB0aGlzLm9wdHMuY29ubmVjdGlvbiA9IHRoaXMub3B0cy5jb25uZWN0aW9uIHx8IHt9O1xuICAgIHRoaXMub3B0cy5pZGVudGl0eSA9IHRoaXMub3B0cy5pZGVudGl0eSB8fCB7fTtcbiAgICB0aGlzLm9wdHMub3B0aW9ucyA9IHRoaXMub3B0cy5vcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5jbGllbnRJZCA9IF8uZ2V0KHRoaXMub3B0cy5vcHRpb25zLmNsaWVudElkLCBudWxsKTtcblxuICAgIHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RBdHRlbXB0cywgSW5maW5pdHkpO1xuICAgIHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RJbnRlcnZhbCwgMzAwMDApO1xuICAgIHRoaXMucmVjb25uZWN0ID0gXy5nZXQodGhpcy5vcHRzLmNvbm5lY3Rpb24ucmVjb25uZWN0LCBmYWxzZSk7XG4gICAgdGhpcy5yZWNvbm5lY3REZWNheSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnJlY29ubmVjdERlY2F5LCAxLjUpO1xuICAgIHRoaXMucmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5yZWNvbm5lY3RJbnRlcnZhbCwgMTAwMCk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVjb25uZWN0aW9ucyA9IDA7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHRoaXMucmVjb25uZWN0SW50ZXJ2YWw7XG5cbiAgICB0aGlzLnNlY3VyZSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlY3VyZSwgZmFsc2UpO1xuXG4gICAgLy8gUmF3IGRhdGEgYW5kIG9iamVjdCBmb3IgZW1vdGUtc2V0cy4uXG4gICAgdGhpcy5lbW90ZXMgPSBcIlwiO1xuICAgIHRoaXMuZW1vdGVzZXRzID0ge307XG5cbiAgICB0aGlzLmNoYW5uZWxzID0gW107XG4gICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IDA7XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcbiAgICB0aGlzLmxhc3RKb2luZWQgPSBcIlwiO1xuICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5tb2RlcmF0b3JzID0ge307XG4gICAgdGhpcy5waW5nTG9vcCA9IG51bGw7XG4gICAgdGhpcy5waW5nVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5yZWFzb24gPSBcIlwiO1xuICAgIHRoaXMudXNlcm5hbWUgPSBcIlwiO1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMud3MgPSBudWxsO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBsb2dnZXIuLlxuICAgIHZhciBsZXZlbCA9IFwiZXJyb3JcIjtcbiAgICBpZiAodGhpcy5vcHRzLm9wdGlvbnMuZGVidWcpIHsgbGV2ZWwgPSBcImluZm9cIjsgfVxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRzLmxvZ2dlciB8fCBsb2dnZXI7XG5cbiAgICB0cnkgeyBsb2dnZXIuc2V0TGV2ZWwobGV2ZWwpOyB9IGNhdGNoKGUpIHt9O1xuXG4gICAgLy8gRm9ybWF0IHRoZSBjaGFubmVsIG5hbWVzLi5cbiAgICB0aGlzLm9wdHMuY2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0LCBpbmRleCwgdGhlQXJyYXkpIHtcbiAgICAgICAgdGhlQXJyYXlbaW5kZXhdID0gXy5jaGFubmVsKHBhcnQpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbl8uaW5oZXJpdHMoY2xpZW50LCBldmVudEVtaXR0ZXIpO1xuXG5jbGllbnQucHJvdG90eXBlLmFwaSA9IGFwaTtcblxuLy8gUHV0IGFsbCBjb21tYW5kcyBpbiBwcm90b3R5cGUuLlxuZm9yKHZhciBtZXRob2ROYW1lIGluIGNvbW1hbmRzKSB7XG4gICAgY2xpZW50LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGNvbW1hbmRzW21ldGhvZE5hbWVdO1xufVxuXG4vLyBIYW5kbGUgcGFyc2VkIGNoYXQgc2VydmVyIG1lc3NhZ2UuLlxuY2xpZW50LnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoXCJyYXdfbWVzc2FnZVwiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKSwgbWVzc2FnZSk7XG5cbiAgICB2YXIgY2hhbm5lbCA9IF8uY2hhbm5lbChfLmdldChtZXNzYWdlLnBhcmFtc1swXSwgbnVsbCkpO1xuICAgIHZhciBtc2cgPSBfLmdldChtZXNzYWdlLnBhcmFtc1sxXSwgbnVsbCk7XG4gICAgdmFyIG1zZ2lkID0gXy5nZXQobWVzc2FnZS50YWdzW1wibXNnLWlkXCJdLCBudWxsKTtcblxuICAgIC8vIFBhcnNlIGJhZGdlcywgYmFkZ2UtaW5mbyBhbmQgZW1vdGVzLi5cbiAgICBtZXNzYWdlLnRhZ3MgPSBwYXJzZS5iYWRnZXMocGFyc2UuYmFkZ2VJbmZvKHBhcnNlLmVtb3RlcyhtZXNzYWdlLnRhZ3MpKSk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gSVJDdjMgdGFncy4uXG4gICAgaWYgKG1lc3NhZ2UudGFncykge1xuICAgICAgICB2YXIgdGFncyA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGFncykge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJlbW90ZS1zZXRzXCIgJiYga2V5ICE9PSBcImJhbi1kdXJhdGlvblwiICYmIGtleSAhPT0gXCJiaXRzXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0YWdzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNCb29sZWFuKHZhbHVlKSkgeyB2YWx1ZSA9IG51bGw7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gXCIxXCIpIHsgdmFsdWUgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IFwiMFwiKSB7IHZhbHVlID0gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfLmlzU3RyaW5nKHZhbHVlKSkgeyB2YWx1ZSA9IF8udW5lc2NhcGVJUkModmFsdWUpOyB9XG4gICAgICAgICAgICAgICAgdGFnc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNZXNzYWdlcyB3aXRoIG5vIHByZWZpeC4uXG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UucHJlZml4KSkge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBQSU5HIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJQSU5HXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicGluZ1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQT05HXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgUE9ORyBmcm9tIHNlcnZlciwgcmV0dXJuIGN1cnJlbnQgbGF0ZW5jeS4uXG4gICAgICAgICAgICBjYXNlIFwiUE9OR1wiOlxuICAgICAgICAgICAgICAgIHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IChjdXJyRGF0ZS5nZXRUaW1lKCkgLSB0aGlzLmxhdGVuY3kuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJwb25nXCIsIFwiX3Byb21pc2VQaW5nXCJdLCBbW3RoaXMuY3VycmVudExhdGVuY3ldXSk7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2Ugd2l0aCBubyBwcmVmaXg6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIHdpdGggXCJ0bWkudHdpdGNoLnR2XCIgYXMgYSBwcmVmaXguLlxuICAgIGVsc2UgaWYgKG1lc3NhZ2UucHJlZml4ID09PSBcInRtaS50d2l0Y2gudHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMDAyXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDAzXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDA0XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc1XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc2XCI6XG4gICAgICAgICAgICBjYXNlIFwiQ0FQXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHVzZXJuYW1lIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCIwMDFcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gbWVzc2FnZS5wYXJhbXNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIENvbm5lY3RlZCB0byBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIjM3MlwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJDb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzdGF0ZVtcIiN0bWlqc1wiXSA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY29ubmVjdGVkXCIsIFwiX3Byb21pc2VDb25uZWN0XCJdLCBbW3RoaXMuc2VydmVyLCB0aGlzLnBvcnRdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbnMgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLnJlY29ubmVjdEludGVydmFsO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFuIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICAgICAgdGhpcy5waW5nTG9vcCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBjb25uZWN0aW9uIGlzIG9wZW5lZCBiZWZvcmUgc2VuZGluZyB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQSU5HXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5waW5nTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi50aW1lb3V0LCA5OTk5KSk7XG4gICAgICAgICAgICAgICAgfSwgNjAwMDApO1xuXG4gICAgICAgICAgICAgICAgLy8gSm9pbiBhbGwgdGhlIGNoYW5uZWxzIGZyb20gY29uZmlndXJhdGlvbiB3aXRoIGEgMiBzZWNvbmRzIGludGVydmFsLi5cbiAgICAgICAgICAgICAgICB2YXIgam9pblF1ZXVlID0gbmV3IHRpbWVyLnF1ZXVlKDIwMDApO1xuICAgICAgICAgICAgICAgIHZhciBqb2luQ2hhbm5lbHMgPSBfLnVuaW9uKHRoaXMub3B0cy5jaGFubmVscywgdGhpcy5jaGFubmVscyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqb2luQ2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWwgPSBqb2luQ2hhbm5lbHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzTnVsbCh0aGlzLndzKSAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW4oY2hhbm5lbCkuY2F0Y2goZXJyID0+IHsgdGhpcy5sb2cuZXJyb3IoZXJyKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5ydW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1c3RpbnR2L1R3aXRjaC1BUEkvYmxvYi9tYXN0ZXIvY2hhdC9jYXBhYmlsaXRpZXMubWQjbm90aWNlXG4gICAgICAgICAgICBjYXNlIFwiTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIG51bGxBcnIgPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgdmFyIG5vdGljZUFyciA9IFtjaGFubmVsLCBtc2dpZCwgbXNnXTtcbiAgICAgICAgICAgICAgICB2YXIgbXNnaWRBcnIgPSBbbXNnaWRdO1xuICAgICAgICAgICAgICAgIHZhciBjaGFubmVsVHJ1ZUFyciA9IFtjaGFubmVsLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbEZhbHNlQXJyID0gW2NoYW5uZWwsIGZhbHNlXTtcbiAgICAgICAgICAgICAgICB2YXIgbm90aWNlQW5kTnVsbCA9IFtub3RpY2VBcnIsIG51bGxBcnJdO1xuICAgICAgICAgICAgICAgIHZhciBub3RpY2VBbmRNc2dpZCA9IFtub3RpY2VBcnIsIG1zZ2lkQXJyXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzaWNMb2cgPSBgWyR7Y2hhbm5lbH1dICR7bXNnfWA7XG4gICAgICAgICAgICAgICAgc3dpdGNoKG1zZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJzdWJzY3JpYmVyXCIsIFwic3Vic2NyaWJlcnNcIiwgXCJfcHJvbWlzZVN1YnNjcmliZXJzXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHN1YnNjcmliZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBzdWJzY3JpYmVycy1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInN1YnNjcmliZXJcIiwgXCJzdWJzY3JpYmVyc1wiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIGNoYW5uZWxGYWxzZUFyciwgbnVsbEFycl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImVtb3Rlb25seVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5XCJdLCBbY2hhbm5lbFRydWVBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZW1vdGUtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW1vdGVfb25seV9vZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIGVtb3RlLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZW1vdGVvbmx5XCIsIFwiX3Byb21pc2VFbW90ZW9ubHlvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBoYW5kbGUgc2xvd19vbi9vZmYgaGVyZSwgbGlzdGVuIHRvIHRoZSBST09NU1RBVEUgbm90aWNlIGluc3RlYWQgYXMgaXQgcmV0dXJucyB0aGUgZGVsYXkuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IGhhbmRsZSBmb2xsb3dlcnNfb24vb2ZmIGhlcmUsIGxpc3RlbiB0byB0aGUgUk9PTVNUQVRFIG5vdGljZSBpbnN0ZWFkIGFzIGl0IHJldHVybnMgdGhlIGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29uX3plcm9cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvbGxvd2Vyc19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiByOWsgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInI5a19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHI5ayBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicjlrX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBbY2hhbm5lbEZhbHNlQXJyLCBjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbSBhcmU6IFsuLi4sIC4uLl1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJvb21fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZHMgPSBtc2cuc3BsaXQoXCI6IFwiKVsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiLCBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VNb2RzXCIsIFwibW9kc1wiXSwgW1tudWxsLCBtb2RzXSwgW2NoYW5uZWwsIG1vZHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9kZXJhdG9ycyBmb3IgdGhpcyByb29tLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZU1vZHNcIiwgXCJtb2RzXCJdLCBbW251bGwsIFtdXSwgW2NoYW5uZWwsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFZJUHMgb2YgdGhpcyBjaGFubmVsIGFyZTogWy4uLiwgLi4uXVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmlwc19zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmVuZHNXaXRoKFwiLlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlwcyA9IG1zZy5zcGxpdChcIjogXCIpWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCB2aXBzXSwgW2NoYW5uZWwsIHZpcHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIG5vIFZJUHMgZm9yIHRoaXMgcm9vbS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vX3ZpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCBbXV0sIFtjaGFubmVsLCBbXV1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJhbiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfYmFuX3NlbGZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9iYW5fc3RhZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBCYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhbl9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VCYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY2xlYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNsZWFyXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2RzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZU1vZHNcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2QgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQcyBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV92aXBzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBzXCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3ZpcFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2FscmVhZHlfdmlwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBWSVAgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZpcF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX21vZF9iYW5uZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBVbnZpcCBjb21tYW5kIHN1Y2Nlc3MuLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVudmlwX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmROdWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VubW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdW5tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW52aXAgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW52aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bnZpcF9ncmFudGVlX25vdF92aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29sb3JfY2hhbmdlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29sb3JcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sb3IgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInR1cmJvX29ubHlfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbG9yXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb21tZXJjaWFsIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21tZXJjaWFsX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWVyY2lhbCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9jb21tZXJjaWFsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfY29tbWVyY2lhbF9lcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29tbWVyY2lhbFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSG9zdCBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdHNfcmVtYWluaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb3N0ID0gKCFpc05hTihtc2dbMF0pID8gcGFyc2VJbnQobXNnWzBdKSA6IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUhvc3RcIl0sIFtub3RpY2VBcnIsIFtudWxsLCB+fnJlbWFpbmluZ0hvc3RdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIb3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X3JhdGVfZXhjZWVkZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2Vycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9ob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VIb3N0XCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIG51bGxdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyByOWtiZXRhIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfcjlrX29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVI5a2JldGFcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHI5a2JldGFvZmYgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lb3V0X3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVRpbWVvdXRcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZV9tZXNzYWdlX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9ICR7bXNnfV1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCJdLCBub3RpY2VBbmROdWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpYmVyc29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X3N1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zdWJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmliZXJzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVtb3Rlb25seW9mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Vtb3RlX29ubHlfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBFbW90ZW9ubHkgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VFbW90ZW9ubHlcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNsb3cgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc2xvd19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2xvd29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd29mZlwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZW91dCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV90aW1lb3V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3RpbWVvdXRfYnJvYWRjYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF90aW1lb3V0X2R1cmF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zdGFmZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVGltZW91dFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY2FuIGFsc28gYmUgdXNlZCB0byBjYW5jZWwgYW4gYWN0aXZlIHRpbWVvdXQuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bnRpbWVvdXRfc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5iYW5fc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVW5iYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW5iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bmJhbl9ub19iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuYmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfZGVsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfZGVsZXRlX21lc3NhZ2VfZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9kZWxldGVfbWVzc2FnZV9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2RlbGV0ZV9tZXNzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRGVsZXRlbWVzc2FnZVwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5ob3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VuaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm90X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuaG9zdFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hpc3BlciBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2ludmFsaWRfbG9naW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfaW52YWxpZF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2xpbWl0X3Blcl9taW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfbGltaXRfcGVyX3NlY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2hpc3Blcl9yZXN0cmljdGVkX3JlY2lwaWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlV2hpc3BlclwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGVybWlzc2lvbiBlcnJvci4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19wZXJtaXNzaW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfYmFubmVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcm9vbV9ub3RfZm91bmRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jaGFubmVsX3N1c3BlbmRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9zX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vdGljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VCYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlQ2xlYXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVW5iYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVGltZW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZU1vZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlTW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVubW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVZpcHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVudmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VVbmhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSm9pblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VQYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVI5a2JldGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlUjlrYmV0YW9mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTbG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVNsb3dvZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRm9sbG93ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUZvbGxvd2Vyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VFbW90ZW9ubHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIFtub3RpY2VBcnIsIFttc2dpZCwgY2hhbm5lbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0b21vZC1yZWxhdGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19yZWplY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3JlamVjdGVkX21hbmRhdG9yeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhdXRvbW9kXCIsIGNoYW5uZWwsIG1zZ2lkLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5yZWNvZ25pemVkIGNvbW1hbmQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2NtZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBmb2xsb3dpbmcgbXNnLWlkcyB0byB0aGUgbm90aWNlIGV2ZW50IGxpc3RlbmVyLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNtZHNfYXZhaWxhYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0X3RhcmdldF93ZW50X29mZmxpbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jZW5zb3JlZF9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2R1cGxpY2F0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2Vtb3Rlb25seVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3ZlcmlmaWVkX2VtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcmF0ZWxpbWl0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3Vic29ubHlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ190aW1lZG91dFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2JhZF9jaGFyYWN0ZXJzXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfY2hhbm5lbF9ibG9ja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZmFjZWJvb2tcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19mb2xsb3dlcnNvbmx5XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZm9sbG93ZXJzb25seV9mb2xsb3dlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2ZvbGxvd2Vyc29ubHlfemVyb1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3Nsb3dtb2RlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3VzcGVuZGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9kaXNjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9tZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhpcyBiZWNhdXNlIHdlIGFyZSBhbHJlYWR5IGxpc3RlbmluZyB0byBIT1NUVEFSR0VULi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pbmNsdWRlcyhcIkxvZ2luIHVuc3VjY2Vzc2Z1bFwiKSB8fCBtc2cuaW5jbHVkZXMoXCJMb2dpbiBhdXRoZW50aWNhdGlvbiBmYWlsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXNvbiA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnLmluY2x1ZGVzKFwiRXJyb3IgbG9nZ2luZyBpblwiKSB8fCBtc2cuaW5jbHVkZXMoXCJJbXByb3Blcmx5IGZvcm1hdHRlZCBhdXRoXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFzb24gPSBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcIkludmFsaWQgTklDS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhc29uID0gXCJJbnZhbGlkIE5JQ0suXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLndhcm4oYENvdWxkIG5vdCBwYXJzZSBOT1RJQ0UgZnJvbSB0bWkudHdpdGNoLnR2OlxcbiR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZSwgbnVsbCwgNCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJhbm5pdmVyc2FyeSAvIHJlc3ViLi5cbiAgICAgICAgICAgIGNhc2UgXCJVU0VSTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wiZGlzcGxheS1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcImxvZ2luXCJdO1xuICAgICAgICAgICAgICAgIHZhciBwbGFuID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXN1Yi1wbGFuXCJdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHBsYW5OYW1lID0gXy51bmVzY2FwZUlSQyhfLmdldChtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3ViLXBsYW4tbmFtZVwiXSwgXCJcIikpIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1lID0gcGxhbi5pbmNsdWRlcyhcIlByaW1lXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtZXRob2RzID0geyBwcmltZSwgcGxhbiwgcGxhbk5hbWUgfTtcbiAgICAgICAgICAgICAgICB2YXIgdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIHZhciBzdHJlYWtNb250aHMgPSB+fihtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3RyZWFrLW1vbnRoc1wiXSB8fCAwKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjaXBpZW50ID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC1kaXNwbGF5LW5hbWVcIl0gfHwgbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC11c2VyLW5hbWVcIl07XG4gICAgICAgICAgICAgICAgdmFyIGdpZnRTdWJDb3VudCA9IH5+bWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLW1hc3MtZ2lmdC1jb3VudFwiXTtcbiAgICAgICAgICAgICAgICB1c2Vyc3RhdGVbXCJtZXNzYWdlLXR5cGVcIl0gPSBtc2dpZDtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChtc2dpZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmVzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc3ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInJlc3ViXCIsIFwic3ViYW5uaXZlcnNhcnlcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgbXNnLCB1c2Vyc3RhdGUsIG1ldGhvZHNdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3Vic2NyaXB0aW9uXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCBtZXRob2RzLCBtc2csIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZ2lmdCBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN1YmdpZnRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyBnaWZ0IHN1YlxuICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHByb29mIHRoYXQgdGhpcyBldmVudCBvY2N1clxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5vbnN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJnaWZ0XCIsIGNoYW5uZWwsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhbmRvbSBnaWZ0IHN1YnNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1Ym15c3RlcnlnaWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCB1c2VybmFtZSwgZ2lmdFN1YkNvdW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyByYW5kb20gZ2lmdCBzdWJzXG4gICAgICAgICAgICAgICAgICAgIC8vIE5lZWQgcHJvb2YgdGhhdCB0aGlzIGV2ZW50IG9jY3VyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uc3VibXlzdGVyeWdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCBnaWZ0U3ViQ291bnQsIG1ldGhvZHMsIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdXNlciB1cGdyYWRpbmcgZnJvbSBQcmltZSB0byBhIG5vcm1hbCB0aWVyIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJpbWVwYWlkdXBncmFkZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicHJpbWVwYWlkdXBncmFkZVwiLCBjaGFubmVsLCB1c2VybmFtZSwgbWV0aG9kcywgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGEgZ2lmdGVkIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZGVyID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXNlbmRlci1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1zZW5kZXItbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJnaWZ0cGFpZHVwZ3JhZGVcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHNlbmRlciwgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGFuIGFub255bW91cyBnaWZ0ZWQgc3ViXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhaWRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJhaWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1kaXNwbGF5TmFtZVwiXSB8fCBtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlld2VycyA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS12aWV3ZXJDb3VudFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJhaWRlZFwiLCBjaGFubmVsLCB1c2VybmFtZSwgdmlld2Vycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gQ2hhbm5lbCBpcyBub3cgaG9zdGluZyBhbm90aGVyIGNoYW5uZWwgb3IgZXhpdGVkIGhvc3QgbW9kZS4uXG4gICAgICAgICAgICBjYXNlIFwiSE9TVFRBUkdFVFwiOlxuICAgICAgICAgICAgICAgIHZhciBtc2dTcGxpdCA9IG1zZy5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdlcnMgPSB+fm1zZ1NwbGl0WzFdIHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gU3RvcHBlZCBob3N0aW5nLi5cbiAgICAgICAgICAgICAgICBpZiAobXNnU3BsaXRbMF0gPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBFeGl0ZWQgaG9zdCBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInVuaG9zdFwiLCBcIl9wcm9taXNlVW5ob3N0XCJdLCBbW2NoYW5uZWwsIHZpZXdlcnNdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm93IGhvc3RpbmcuLlxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gTm93IGhvc3RpbmcgJHttc2dTcGxpdFswXX0gZm9yICR7dmlld2Vyc30gdmlld2VyKHMpLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0aW5nXCIsIGNoYW5uZWwsIG1zZ1NwbGl0WzBdLCB2aWV3ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFNvbWVvbmUgaGFzIGJlZW4gdGltZWQgb3V0IG9yIGNoYXQgaGFzIGJlZW4gY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICBjYXNlIFwiQ0xFQVJDSEFUXCI6XG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYmVlbiBiYW5uZWQgLyB0aW1lZCBvdXQgYnkgYSBtb2RlcmF0b3IuLlxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIER1cmF0aW9uIHJldHVybnMgbnVsbCBpZiBpdCdzIGEgYmFuLCBvdGhlcndpc2UgaXQncyBhIHRpbWVvdXQuLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBfLmdldChtZXNzYWdlLnRhZ3NbXCJiYW4tZHVyYXRpb25cIl0sIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzTnVsbChkdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gYmFubmVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiYmFuXCIsIGNoYW5uZWwsIG1zZywgbnVsbCwgbWVzc2FnZS50YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gdGltZWQgb3V0IGZvciAke2R1cmF0aW9ufSBzZWNvbmRzLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidGltZW91dFwiLCBjaGFubmVsLCBtc2csIG51bGwsIH5+ZHVyYXRpb24sIG1lc3NhZ2UudGFncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hhdCB3YXMgY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBDaGF0IHdhcyBjbGVhcmVkIGJ5IGEgbW9kZXJhdG9yLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImNsZWFyY2hhdFwiLCBcIl9wcm9taXNlQ2xlYXJcIl0sIFtbY2hhbm5lbF0sIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgY2FzZSBcIkNMRUFSTVNHXCI6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wibG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVkTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzdGF0ZSA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJtZXNzYWdlZGVsZXRlZFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke3VzZXJuYW1lfSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZWRlbGV0ZWRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIGRlbGV0ZWRNZXNzYWdlLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgYSByZWNvbm5lY3Rpb24gcmVxdWVzdCBmcm9tIHRoZSBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIlJFQ09OTkVDVFwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJSZWNlaXZlZCBSRUNPTk5FQ1QgcmVxdWVzdCBmcm9tIFR3aXRjaC4uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYERpc2Nvbm5lY3RpbmcgYW5kIHJlY29ubmVjdGluZyBpbiAke01hdGgucm91bmQodGhpcy5yZWNvbm5lY3RUaW1lciAvIDEwMDApfSBzZWNvbmRzLi5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBSZWNlaXZlZCB3aGVuIGpvaW5pbmcgYSBjaGFubmVsIGFuZCBldmVyeSB0aW1lIHlvdSBzZW5kIGEgUFJJVk1TRyB0byBhIGNoYW5uZWwuXG4gICAgICAgICAgICBjYXNlIFwiVVNFUlNUQVRFXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY2xpZW50IHRvIHRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbS4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcInVzZXItdHlwZVwiXSA9PT0gXCJtb2RcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdKSB7IHRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdID0gW107IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5pbmNsdWRlcyh0aGlzLnVzZXJuYW1lKSkgeyB0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5wdXNoKHRoaXMudXNlcm5hbWUpOyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTG9nZ2VkIGluIGFuZCB1c2VybmFtZSBkb2Vzbid0IHN0YXJ0IHdpdGgganVzdGluZmFuLi5cbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSAmJiAhdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0gPSBtZXNzYWdlLnRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEpvaW5lZCA9IGNoYW5uZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMucHVzaChjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgSm9pbmVkICR7Y2hhbm5lbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBfLnVzZXJuYW1lKHRoaXMuZ2V0VXNlcm5hbWUoKSksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEVtb3RlLXNldHMgaGFzIGNoYW5nZWQsIHVwZGF0ZSBpdC4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0gIT09IHRoaXMuZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBEZXNjcmliZSBub24tY2hhbm5lbC1zcGVjaWZpYyBzdGF0ZSBpbmZvcm1hdGlvbnMuLlxuICAgICAgICAgICAgY2FzZSBcIkdMT0JBTFVTRVJTVEFURVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgZW1vdGUtc2V0cy4uXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnRhZ3NbXCJlbW90ZS1zZXRzXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgd2hlbiBqb2luaW5nIGEgY2hhbm5lbCBhbmQgZXZlcnkgdGltZSBvbmUgb2YgdGhlIGNoYXQgcm9vbSBzZXR0aW5ncywgbGlrZSBzbG93IG1vZGUsIGNoYW5nZS5cbiAgICAgICAgICAgIC8vIFRoZSBtZXNzYWdlIG9uIGpvaW4gY29udGFpbnMgYWxsIHJvb20gc2V0dGluZ3MuXG4gICAgICAgICAgICBjYXNlIFwiUk9PTVNUQVRFXCI6XG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoaXMgbm90aWNlIHRvIGtub3cgaWYgd2Ugc3VjY2Vzc2Z1bGx5IGpvaW5lZCBhIGNoYW5uZWwuLlxuICAgICAgICAgICAgICAgIGlmIChfLmNoYW5uZWwodGhpcy5sYXN0Sm9pbmVkKSA9PT0gY2hhbm5lbCkgeyB0aGlzLmVtaXQoXCJfcHJvbWlzZUpvaW5cIiwgbnVsbCwgY2hhbm5lbCk7IH1cblxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgdGhlIGNoYW5uZWwgbmFtZSBpbiB0aGUgdGFncyBiZWZvcmUgZW1pdHRpbmcgaXQuLlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFncy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyb29tc3RhdGVcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZS50YWdzLmhhc093blByb3BlcnR5KFwic3Vicy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzbG93IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBzbG93X29uL29mZiBub3RpY2UuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS4gWW91IG1heSBzZW5kIG1lc3NhZ2VzIGV2ZXJ5IHNsb3dfZHVyYXRpb24gc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInNsb3dcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS50YWdzLnNsb3cgPT09IFwiYm9vbGVhblwiICYmICFtZXNzYWdlLnRhZ3Muc2xvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gc2xvdyBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wic2xvd1wiLCBcInNsb3dtb2RlXCIsIFwiX3Byb21pc2VTbG93b2ZmXCJdLCBbZGlzYWJsZWQsIGRpc2FibGVkLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSB+fm1lc3NhZ2UudGFncy5zbG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmFibGVkID0gW2NoYW5uZWwsIHRydWUsIG1pbnV0ZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInNsb3dcIiwgXCJzbG93bW9kZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGZvbGxvd2VycyBvbmx5IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBmb2xsb3dlcnNfb24vb2ZmIG5vdGljZS4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIDxkdXJhdGlvbj4gZm9sbG93ZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBmb2xsb3dlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBkdXJhdGlvbiBpcyBpbiBtaW51dGVzIChzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIHdoZW4gL2ZvbGxvd2Vyc29mZiAoc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZSB3aGVuIC9mb2xsb3dlcnMgd2l0aCBubyBkdXJhdGlvbiAoYm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcImZvbGxvd2Vycy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl0gPT09IFwiLTFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZm9sbG93ZXJzLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImZvbGxvd2Vyc29ubHlcIiwgXCJmb2xsb3dlcnNtb2RlXCIsIFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIl0sIFtkaXNhYmxlZCwgZGlzYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IH5+bWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuYWJsZWQgPSBbY2hhbm5lbCwgdHJ1ZSwgbWludXRlc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZm9sbG93ZXJzb25seVwiLCBcImZvbGxvd2Vyc21vZGVcIiwgXCJfcHJvbWlzZUZvbGxvd2Vyc1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBXcm9uZyBjbHVzdGVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJTRVJWRVJDSEFOR0VcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBmcm9tIHRtaS50d2l0Y2gudHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIGZyb20ganR2Li5cbiAgICBlbHNlIGlmIChtZXNzYWdlLnByZWZpeCA9PT0gXCJqdHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiTU9ERVwiOlxuICAgICAgICAgICAgICAgIGlmIChtc2cgPT09IFwiK29cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdXNlcm5hbWUgdG8gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5pbmNsdWRlcyhtZXNzYWdlLnBhcmFtc1syXSkpIHsgdGhpcy5tb2RlcmF0b3JzW2NoYW5uZWxdLnB1c2gobWVzc2FnZS5wYXJhbXNbMl0pOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnID09PSBcIi1vXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHVzZXJuYW1lIGZyb20gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uZmlsdGVyKCh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUgIT0gbWVzc2FnZS5wYXJhbXNbMl07IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInVubW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgZnJvbSBqdHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFueXRoaW5nIGVsc2UuLlxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMzUzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibmFtZXNcIiwgbWVzc2FnZS5wYXJhbXNbMl0sIG1lc3NhZ2UucGFyYW1zWzNdLnNwbGl0KFwiIFwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCIzNjZcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSBoYXMgam9pbmVkIHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJKT0lOXCI6XG4gICAgICAgICAgICAgICAgdmFyIG5pY2sgPSBtZXNzYWdlLnByZWZpeC5zcGxpdChcIiFcIilbMF07XG4gICAgICAgICAgICAgICAgLy8gSm9pbmVkIGEgY2hhbm5lbCBhcyBhIGp1c3RpbmZhbiAoYW5vbnltb3VzKSB1c2VyLi5cbiAgICAgICAgICAgICAgICBpZiAoXy5pc0p1c3RpbmZhbih0aGlzLmdldFVzZXJuYW1lKCkpICYmIHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Sm9pbmVkID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscy5wdXNoKGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBKb2luZWQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJqb2luXCIsIGNoYW5uZWwsIG5pY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgZWxzZSBqb2luZWQgdGhlIGNoYW5uZWwsIGp1c3QgZW1pdCB0aGUgam9pbiBldmVudC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgIT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBuaWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBTb21lb25lIGhhcyBsZWZ0IHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJQQVJUXCI6XG4gICAgICAgICAgICAgICAgdmFyIGlzU2VsZiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIC8vIENsaWVudCBsZWZ0IGEgY2hhbm5lbC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdKSB7IGRlbGV0ZSB0aGlzLnVzZXJzdGF0ZVtjaGFubmVsXTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLmNoYW5uZWxzLnNwbGljZShpbmRleCwgMSk7IH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm9wdHMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLm9wdHMuY2hhbm5lbHMuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYExlZnQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJfcHJvbWlzZVBhcnRcIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xpZW50IG9yIHNvbWVvbmUgZWxzZSBsZWZ0IHRoZSBjaGFubmVsLCBlbWl0IHRoZSBwYXJ0IGV2ZW50Li5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwYXJ0XCIsIGNoYW5uZWwsIG5pY2ssIGlzU2VsZik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIGEgd2hpc3Blci4uXG4gICAgICAgICAgICBjYXNlIFwiV0hJU1BFUlwiOlxuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFtXSElTUEVSXSA8JHtuaWNrfT46ICR7bXNnfWApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YWdzIHRvIHByb3ZpZGUgdGhlIHVzZXJuYW1lLi5cbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInVzZXJuYW1lXCIpKSB7IG1lc3NhZ2UudGFncy51c2VybmFtZSA9IG5pY2s7IH1cbiAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcIndoaXNwZXJcIjtcblxuICAgICAgICAgICAgICAgIHZhciBmcm9tID0gXy5jaGFubmVsKG1lc3NhZ2UudGFncy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBmb3IgYm90aCwgd2hpc3BlciBhbmQgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJ3aGlzcGVyXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgICAgICBbZnJvbSwgbWVzc2FnZS50YWdzLCBtc2csIGZhbHNlXVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiUFJJVk1TR1wiOlxuICAgICAgICAgICAgICAgIC8vIEFkZCB1c2VybmFtZSAobG93ZXJjYXNlKSB0byB0aGUgdGFncy4uXG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBmcm9tIEpUVi4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy51c2VybmFtZSA9PT0gXCJqdHZcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IF8udXNlcm5hbWUobXNnLnNwbGl0KFwiIFwiKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdXRvaG9zdCA9IG1zZy5pbmNsdWRlcyhcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCBhbmQgdGhlIG1lc3NhZ2UgY29udGFpbnMgaG93IG1hbnkgdmlld2Vycy4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoXCJob3N0aW5nIHlvdSBmb3JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IF8uZXh0cmFjdE51bWJlcihtc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgY291bnQsIGF1dG9ob3N0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCwgYnV0IG5vIHZpZXdlcihzKSBjb3VudCBwcm92aWRlZCBpbiB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcImhvc3RpbmcgeW91XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgMCwgYXV0b2hvc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcImFjdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dICo8JHttZXNzYWdlLnRhZ3MudXNlcm5hbWV9PjogJHthY3Rpb25NZXNzYWdlWzFdfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJhY3Rpb25cIiwgXCJtZXNzYWdlXCJdLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgYWN0aW9uTWVzc2FnZVsxXSwgZmFsc2VdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MuaGFzT3duUHJvcGVydHkoXCJiaXRzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2hlZXJcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNZXNzYWdlIGlzIGEgcmVndWxhciBjaGF0IG1lc3NhZ2UuLlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIDwke21lc3NhZ2UudGFncy51c2VybmFtZX0+OiAke21zZ31gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgbXNnLCBmYWxzZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZTpcXG4ke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDQpfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gQ29ubmVjdCB0byBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnNlcnZlciA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlcnZlciwgXCJpcmMtd3MuY2hhdC50d2l0Y2gudHZcIik7XG4gICAgICAgIHRoaXMucG9ydCA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnBvcnQsIDgwKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBwb3J0IGlmIHVzaW5nIGEgc2VjdXJlIGNvbm5lY3Rpb24uLlxuICAgICAgICBpZiAodGhpcy5zZWN1cmUpIHsgdGhpcy5wb3J0ID0gNDQzOyB9XG4gICAgICAgIGlmICh0aGlzLnBvcnQgPT09IDQ0MykgeyB0aGlzLnNlY3VyZSA9IHRydWU7IH1cblxuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gdGhpcy5yZWNvbm5lY3RUaW1lciAqIHRoaXMucmVjb25uZWN0RGVjYXk7XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyID49IHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLm1heFJlY29ubmVjdEludGVydmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29ubmVjdCB0byBzZXJ2ZXIgZnJvbSBjb25maWd1cmF0aW9uLi5cbiAgICAgICAgdGhpcy5fb3BlbkNvbm5lY3Rpb24oKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VDb25uZWN0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW3RoaXMuc2VydmVyLCB+fnRoaXMucG9ydF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vLyBPcGVuIGEgY29ubmVjdGlvbi4uXG5jbGllbnQucHJvdG90eXBlLl9vcGVuQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIF9vcGVuQ29ubmVjdGlvbigpIHtcbiAgICB0aGlzLndzID0gbmV3IHdzKGAke3RoaXMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIn06Ly8ke3RoaXMuc2VydmVyfToke3RoaXMucG9ydH0vYCwgXCJpcmNcIik7XG5cbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLl9vbkNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLl9vbk9wZW4uYmluZCh0aGlzKTtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBPUEVOLlxuLy8gSW5kaWNhdGVzIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgcmVhZHkgdG8gc2VuZCBhbmQgcmVjZWl2ZSBkYXRhLi5cbmNsaWVudC5wcm90b3R5cGUuX29uT3BlbiA9IGZ1bmN0aW9uIF9vbk9wZW4oKSB7XG4gICAgaWYgKF8uaXNOdWxsKHRoaXMud3MpIHx8IHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEVtaXR0aW5nIFwiY29ubmVjdGluZ1wiIGV2ZW50Li5cbiAgICB0aGlzLmxvZy5pbmZvKGBDb25uZWN0aW5nIHRvICR7dGhpcy5zZXJ2ZXJ9IG9uIHBvcnQgJHt0aGlzLnBvcnR9Li5gKTtcbiAgICB0aGlzLmVtaXQoXCJjb25uZWN0aW5nXCIsIHRoaXMuc2VydmVyLCB+fnRoaXMucG9ydCk7XG5cbiAgICB0aGlzLnVzZXJuYW1lID0gXy5nZXQodGhpcy5vcHRzLmlkZW50aXR5LnVzZXJuYW1lLCBfLmp1c3RpbmZhbigpKTtcbiAgICB0aGlzLnBhc3N3b3JkID0gXy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiU0NITU9PUElJRVwiKSk7XG5cbiAgICAvLyBFbWl0dGluZyBcImxvZ29uXCIgZXZlbnQuLlxuICAgIHRoaXMubG9nLmluZm8oXCJTZW5kaW5nIGF1dGhlbnRpY2F0aW9uIHRvIHNlcnZlci4uXCIpO1xuICAgIHRoaXMuZW1pdChcImxvZ29uXCIpO1xuXG4gICAgLy8gQXV0aGVudGljYXRpb24uLlxuICAgIHRoaXMud3Muc2VuZChcIkNBUCBSRVEgOnR3aXRjaC50di90YWdzIHR3aXRjaC50di9jb21tYW5kcyB0d2l0Y2gudHYvbWVtYmVyc2hpcFwiKTtcbiAgICB0aGlzLndzLnNlbmQoYFBBU1MgJHt0aGlzLnBhc3N3b3JkfWApO1xuICAgIHRoaXMud3Muc2VuZChgTklDSyAke3RoaXMudXNlcm5hbWV9YCk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLi5cbmNsaWVudC5wcm90b3R5cGUuX29uTWVzc2FnZSA9IGZ1bmN0aW9uIF9vbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICB2YXIgcGFydHMgPSBldmVudC5kYXRhLnNwbGl0KFwiXFxyXFxuXCIpO1xuXG4gICAgcGFydHMuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgICAgIGlmICghXy5pc051bGwoc3RyKSkgeyB0aGlzLmhhbmRsZU1lc3NhZ2UocGFyc2UubXNnKHN0cikpOyB9XG4gICAgfSk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuLlxuY2xpZW50LnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICB0aGlzLnJlYXNvbiA9ICFfLmlzTnVsbCh0aGlzLndzKSA/IFwiVW5hYmxlIHRvIGNvbm5lY3QuXCIgOiBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuXG4gICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dXSk7XG5cbiAgICAvLyBSZWNvbm5lY3QgdG8gc2VydmVyLi5cbiAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgIHRoaXMuZW1pdChcIm1heHJlY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJNYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVjb25uZWN0ICYmICF0aGlzLnJlY29ubmVjdGluZyAmJiB0aGlzLnJlY29ubmVjdGlvbnMgPD0gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cy0xKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgIHRoaXMubG9nLmVycm9yKGBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlY29ubmVjdFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7IHRoaXMuY29ubmVjdCgpOyB9LCB0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICB9XG5cbiAgICB0aGlzLndzID0gbnVsbDtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBDTE9TRUQuLlxuY2xpZW50LnByb3RvdHlwZS5fb25DbG9zZSA9IGZ1bmN0aW9uIF9vbkNsb3NlKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICAvLyBVc2VyIGNhbGxlZCAuZGlzY29ubmVjdCgpLCBkb24ndCB0cnkgdG8gcmVjb25uZWN0LlxuICAgIGlmICh0aGlzLndhc0Nsb3NlQ2FsbGVkKSB7XG4gICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFzb24gPSBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuICAgICAgICB0aGlzLmxvZy5pbmZvKHRoaXMucmVhc29uKTtcbiAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJfcHJvbWlzZURpc2Nvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dLCBbbnVsbF0sIFt0aGlzLnJlYXNvbl1dKTtcbiAgICB9XG4gICAgLy8gR290IGRpc2Nvbm5lY3RlZCBmcm9tIHNlcnZlci4uXG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VDb25uZWN0XCIsIFwiZGlzY29ubmVjdGVkXCJdLCBbW3RoaXMucmVhc29uXV0pO1xuXG4gICAgICAgIC8vIFJlY29ubmVjdCB0byBzZXJ2ZXIuLlxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJtYXhyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihcIk1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzIHJlYWNoZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdCAmJiAhdGhpcy5yZWNvbm5lY3RpbmcgJiYgdGhpcy5yZWNvbm5lY3Rpb25zIDw9IHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMtMSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihgQ291bGQgbm90IGNvbm5lY3QgdG8gc2VydmVyLiBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cyA9IG51bGw7XG59O1xuXG4vLyBNaW5pbXVtIG9mIDYwMG1zIGZvciBjb21tYW5kIHByb21pc2VzLCBpZiBjdXJyZW50IGxhdGVuY3kgZXhjZWVkcywgYWRkIDEwMG1zIHRvIGl0IHRvIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IGdldCB0aW1lZCBvdXQuLlxuY2xpZW50LnByb3RvdHlwZS5fZ2V0UHJvbWlzZURlbGF5ID0gZnVuY3Rpb24gX2dldFByb21pc2VEZWxheSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50TGF0ZW5jeSA8PSA2MDApIHsgcmV0dXJuIDYwMDsgfVxuICAgIGVsc2UgeyByZXR1cm4gdGhpcy5jdXJyZW50TGF0ZW5jeSArIDEwMDsgfVxufTtcblxuLy8gU2VuZCBjb21tYW5kIHRvIHNlcnZlciBvciBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuX3NlbmRDb21tYW5kID0gZnVuY3Rpb24gX3NlbmRDb21tYW5kKGRlbGF5LCBjaGFubmVsLCBjb21tYW5kLCBmbikge1xuICAgIC8vIFJhY2UgcHJvbWlzZSBhZ2FpbnN0IGRlbGF5Li5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvY2tldCBpcyBvcGVuZWQuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIuLlxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vdCBjb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7IHJlamVjdChcIk5vIHJlc3BvbnNlIGZyb20gVHdpdGNoLlwiKTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRpbmcgYSBjb21tYW5kIG9uIGEgY2hhbm5lbC4uXG4gICAgICAgIGlmICghXy5pc051bGwoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbn1dIEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHtjb21tYW5kfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhlY3V0aW5nIGEgcmF3IGNvbW1hbmQuLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoY29tbWFuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIFNlbmQgYSBtZXNzYWdlIHRvIGNoYW5uZWwuLlxuY2xpZW50LnByb3RvdHlwZS5fc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiBfc2VuZE1lc3NhZ2UoZGVsYXksIGNoYW5uZWwsIG1lc3NhZ2UsIGZuKSB7XG4gICAgLy8gUHJvbWlzZSBhIHJlc3VsdC4uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb2NrZXQgaXMgb3BlbmVkIGFuZCBub3QgbG9nZ2VkIGluIGFzIGEganVzdGluZmFuIHVzZXIuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIkNhbm5vdCBzZW5kIGFub255bW91cyBtZXNzYWdlcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYW4gPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIGlmICghdGhpcy51c2Vyc3RhdGVbY2hhbl0pIHsgdGhpcy51c2Vyc3RhdGVbY2hhbl0gPSB7fSB9XG5cbiAgICAgICAgLy8gU3BsaXQgbG9uZyBsaW5lcyBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGVhdGVuIGJ5IHRoZSBzZXJ2ZXIuLlxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPj0gNTAwKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gXy5zcGxpdExpbmUobWVzc2FnZSwgNTAwKTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtc2dbMF07XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRNZXNzYWdlKGRlbGF5LCBjaGFubmVsLCBtc2dbMV0sICgpID0+IHt9KTtcbiAgICAgICAgICAgIH0sIDM1MCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHttZXNzYWdlfWApO1xuXG4gICAgICAgIHZhciBlbW90ZXMgPSB7fTtcblxuICAgICAgICAvLyBQYXJzZSByZWdleCBhbmQgc3RyaW5nIGVtb3Rlcy4uXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZW1vdGVzZXRzKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbW90ZXNldHNbaWRdLmZvckVhY2goZnVuY3Rpb24oZW1vdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc1JlZ2V4KGVtb3RlLmNvZGUpKSB7IHJldHVybiBwYXJzZS5lbW90ZVJlZ2V4KG1lc3NhZ2UsIGVtb3RlLmNvZGUsIGVtb3RlLmlkLCBlbW90ZXMpOyB9XG4gICAgICAgICAgICAgICAgcGFyc2UuZW1vdGVTdHJpbmcobWVzc2FnZSwgZW1vdGUuY29kZSwgZW1vdGUuaWQsIGVtb3Rlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgdXNlcnN0YXRlIHdpdGggcGFyc2VkIGVtb3Rlcy4uXG4gICAgICAgIHZhciB1c2Vyc3RhdGUgPSBfLm1lcmdlKHRoaXMudXNlcnN0YXRlW2NoYW5dLCBwYXJzZS5lbW90ZXMoeyBlbW90ZXM6IHBhcnNlLnRyYW5zZm9ybUVtb3RlcyhlbW90ZXMpIHx8IG51bGwgfSkpO1xuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICBpZiAoYWN0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJhY3Rpb25cIjtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW59XSAqPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7YWN0aW9uTWVzc2FnZVsxXX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiYWN0aW9uXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgIFtjaGFuLCB1c2Vyc3RhdGUsIGFjdGlvbk1lc3NhZ2VbMV0sIHRydWVdXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYSByZWd1bGFyIGNoYXQgbWVzc2FnZS4uXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFufV0gPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbY2hhbiwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIEdyYWIgdGhlIGVtb3RlLXNldHMgb2JqZWN0IGZyb20gdGhlIEFQSS4uXG5jbGllbnQucHJvdG90eXBlLl91cGRhdGVFbW90ZXNldCA9IGZ1bmN0aW9uIF91cGRhdGVFbW90ZXNldChzZXRzKSB7XG4gICAgdGhpcy5lbW90ZXMgPSBzZXRzO1xuXG4gICAgdGhpcy5hcGkoe1xuICAgICAgICB1cmw6IGAvY2hhdC9lbW90aWNvbl9pbWFnZXM/ZW1vdGVzZXRzPSR7c2V0c31gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYE9BdXRoICR7Xy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiXCIpKS5yZXBsYWNlKFwib2F1dGg6XCIsIFwiXCIpfWAsXG4gICAgICAgICAgICBcIkNsaWVudC1JRFwiOiB0aGlzLmNsaWVudElkXG4gICAgICAgIH1cbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZW1vdGVzZXRzID0gYm9keVtcImVtb3RpY29uX3NldHNcIl0gfHwge307XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiZW1vdGVzZXRzXCIsIHNldHMsIHRoaXMuZW1vdGVzZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fdXBkYXRlRW1vdGVzZXQoc2V0cyk7IH0sIDYwMDAwKTtcbiAgICB9KTtcbn07XG5cbi8vIEdldCBjdXJyZW50IHVzZXJuYW1lLi5cbmNsaWVudC5wcm90b3R5cGUuZ2V0VXNlcm5hbWUgPSBmdW5jdGlvbiBnZXRVc2VybmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbn07XG5cbi8vIEdldCBjdXJyZW50IG9wdGlvbnMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRzO1xufTtcblxuLy8gR2V0IGN1cnJlbnQgY2hhbm5lbHMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkge1xuICAgIHJldHVybiB0aGlzLmNoYW5uZWxzO1xufTtcblxuLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgYSBtb2RlcmF0b3Igb24gYSBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuaXNNb2QgPSBmdW5jdGlvbiBpc01vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIGlmICghdGhpcy5tb2RlcmF0b3JzW2NoYW5dKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFuXSA9IFtdOyB9XG4gICAgcmV0dXJuIHRoaXMubW9kZXJhdG9yc1tjaGFuXS5pbmNsdWRlcyhfLnVzZXJuYW1lKHVzZXJuYW1lKSk7XG59O1xuXG4vLyBHZXQgcmVhZHlTdGF0ZS4uXG5jbGllbnQucHJvdG90eXBlLnJlYWR5U3RhdGUgPSBmdW5jdGlvbiByZWFkeVN0YXRlKCkge1xuICAgIGlmIChfLmlzTnVsbCh0aGlzLndzKSkgeyByZXR1cm4gXCJDTE9TRURcIjsgfVxuICAgIHJldHVybiBbXCJDT05ORUNUSU5HXCIsIFwiT1BFTlwiLCBcIkNMT1NJTkdcIiwgXCJDTE9TRURcIl1bdGhpcy53cy5yZWFkeVN0YXRlXTtcbn07XG5cbi8vIERpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMykge1xuICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKFwiRGlzY29ubmVjdGluZyBmcm9tIHNlcnZlci4uXCIpO1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VEaXNjb25uZWN0XCIsICgpID0+IHsgcmVzb2x2ZShbdGhpcy5zZXJ2ZXIsIH5+dGhpcy5wb3J0XSk7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJDYW5ub3QgZGlzY29ubmVjdCBmcm9tIHNlcnZlci4gU29ja2V0IGlzIG5vdCBvcGVuZWQgb3IgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGNsb3NpbmcuXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiQ2Fubm90IGRpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuIFNvY2tldCBpcyBub3Qgb3BlbmVkIG9yIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBjbG9zaW5nLlwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLy8gRXhwb3NlIGV2ZXJ5dGhpbmcsIGZvciBicm93c2VyIGFuZCBOb2RlLi5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjbGllbnQ7XG59XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbmRvdy50bWkgPSB7fTtcbiAgICB3aW5kb3cudG1pLmNsaWVudCA9IGNsaWVudDtcbiAgICB3aW5kb3cudG1pLkNsaWVudCA9IGNsaWVudDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbi8vIEVuYWJsZSBmb2xsb3dlcnMtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBmb2xsb3dlcnNvbmx5KGNoYW5uZWwsIG1pbnV0ZXMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIG1pbnV0ZXMgPSBfLmdldChtaW51dGVzLCAzMCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZm9sbG93ZXJzICR7bWludXRlc31gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlRm9sbG93ZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRm9sbG93ZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+bWludXRlc10pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gZm9sbG93ZXJzb25seW9mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvZm9sbG93ZXJzb2ZmXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VGb2xsb3dlcnNvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIExlYXZlIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBwYXJ0KGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBgUEFSVCAke2NoYW5uZWx9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVBhcnQgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VQYXJ0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiByOWtiZXRhKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9yOWtiZXRhXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VSOWtiZXRhIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlUjlrYmV0YVwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gRGlzYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbmZ1bmN0aW9uIHI5a2JldGFvZmYoY2hhbm5lbCkge1xuICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL3I5a2JldGFvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVI5a2JldGFvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VSOWtiZXRhb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgc2xvdyBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBzbG93KGNoYW5uZWwsIHNlY29uZHMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3Nsb3cgJHtzZWNvbmRzfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VTbG93IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlU2xvd1wiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB+fnNlY29uZHNdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gc2xvd29mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvc2xvd29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlU2xvd29mZiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVNsb3dvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFNlbmQgYWN0aW9uIG1lc3NhZ2UgKC9tZSA8bWVzc2FnZT4pIG9uIGEgY2hhbm5lbC4uXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBtZXNzYWdlID0gYFxcdTAwMDFBQ1RJT04gJHttZXNzYWdlfVxcdTAwMDFgO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICBiYW46IGZ1bmN0aW9uIGJhbihjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHVzZXJuYW1lID0gXy51c2VybmFtZSh1c2VybmFtZSk7XG4gICAgICAgIHJlYXNvbiA9IF8uZ2V0KHJlYXNvbiwgXCJcIik7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgYC9iYW4gJHt1c2VybmFtZX0gJHtyZWFzb259YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VCYW4gZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQmFuXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2xlYXIgYWxsIG1lc3NhZ2VzIG9uIGEgY2hhbm5lbC4uXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9jbGVhclwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUNsZWFyIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNsZWFyXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvZiB5b3VyIHVzZXJuYW1lLi5cbiAgICBjb2xvcjogZnVuY3Rpb24gY29sb3IoY2hhbm5lbCwgbmV3Q29sb3IpIHtcbiAgICAgICAgbmV3Q29sb3IgPSBfLmdldChuZXdDb2xvciwgY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC9jb2xvciAke25ld0NvbG9yfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlQ29sb3IgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQ29sb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW25ld0NvbG9yXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gUnVuIGNvbW1lcmNpYWwgb24gYSBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIGNvbW1lcmNpYWw6IGZ1bmN0aW9uIGNvbW1lcmNpYWwoY2hhbm5lbCwgc2Vjb25kcykge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBzZWNvbmRzID0gXy5nZXQoc2Vjb25kcywgMzApO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvY29tbWVyY2lhbCAke3NlY29uZHN9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VDb21tZXJjaWFsIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNvbW1lcmNpYWxcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+c2Vjb25kc10pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblx0XG5cdFxuICAgIC8vIERlbGV0ZSBhIHNwZWNpZmljIG1lc3NhZ2Ugb24gYSBjaGFubmVsXG4gICAgZGVsZXRlbWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlbWVzc2FnZShjaGFubmVsLCBtZXNzYWdlVVVJRCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZGVsZXRlICR7bWVzc2FnZVVVSUR9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VEZWxldGVtZXNzYWdlIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZURlbGV0ZW1lc3NhZ2VcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmFibGUgZW1vdGUtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgZW1vdGVvbmx5OiBmdW5jdGlvbiBlbW90ZW9ubHkoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL2Vtb3Rlb25seVwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUVtb3Rlb25seSBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VFbW90ZW9ubHlcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBEaXNhYmxlIGVtb3RlLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGVtb3Rlb25seW9mZjogZnVuY3Rpb24gZW1vdGVvbmx5b2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9lbW90ZW9ubHlvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VFbW90ZW9ubHlvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRW5hYmxlIGZvbGxvd2Vycy1vbmx5IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBmb2xsb3dlcnNvbmx5OiBmb2xsb3dlcnNvbmx5LFxuXG4gICAgLy8gQWxpYXMgZm9yIGZvbGxvd2Vyc29ubHkoKS4uXG4gICAgZm9sbG93ZXJzbW9kZTogZm9sbG93ZXJzb25seSxcblxuICAgIC8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGZvbGxvd2Vyc29ubHlvZmY6IGZvbGxvd2Vyc29ubHlvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3IgZm9sbG93ZXJzb25seW9mZigpLi5cbiAgICBmb2xsb3dlcnNtb2Rlb2ZmOiBmb2xsb3dlcnNvbmx5b2ZmLFxuXG4gICAgLy8gSG9zdCBhIGNoYW5uZWwuLlxuICAgIGhvc3Q6IGZ1bmN0aW9uIGhvc3QoY2hhbm5lbCwgdGFyZ2V0KSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHRhcmdldCA9IF8udXNlcm5hbWUodGFyZ2V0KTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKDIwMDAsIGNoYW5uZWwsIGAvaG9zdCAke3RhcmdldH1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUhvc3QgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlSG9zdFwiLCAoZXJyLCByZW1haW5pbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB0YXJnZXQsIH5+cmVtYWluaW5nXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gSm9pbiBhIGNoYW5uZWwuLlxuICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciAuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQobnVsbCwgbnVsbCwgYEpPSU4gJHtjaGFubmVsfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBcIl9wcm9taXNlSm9pblwiO1xuICAgICAgICAgICAgdmFyIGhhc0Z1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gKGVyciwgam9pbmVkQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsID09PSBfLmNoYW5uZWwoam9pbmVkQ2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VKb2luIGV2ZW50IGZvciB0aGUgdGFyZ2V0IGNoYW5uZWwsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzRnVsZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgLy8gUmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5fZ2V0UHJvbWlzZURlbGF5KCk7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNGdWxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KGV2ZW50TmFtZSwgXCJObyByZXNwb25zZSBmcm9tIFR3aXRjaC5cIiwgY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBNb2QgdXNlcm5hbWUgb24gY2hhbm5lbC4uXG4gICAgbW9kOiBmdW5jdGlvbiBtb2QoY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL21vZCAke3VzZXJuYW1lfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlTW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZU1vZFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgbGlzdCBvZiBtb2RzIG9uIGEgY2hhbm5lbC4uXG4gICAgbW9kczogZnVuY3Rpb24gbW9kcyhjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvbW9kc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZU1vZHMgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlTW9kc1wiLCAoZXJyLCBtb2RzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBsaXN0IG9mIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBtb2RzLmZvckVhY2goKHVzZXJuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uaW5jbHVkZXModXNlcm5hbWUpKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5wdXNoKHVzZXJuYW1lKTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBMZWF2ZSBhIGNoYW5uZWwuLlxuICAgIHBhcnQ6IHBhcnQsXG5cbiAgICAvLyBBbGlhcyBmb3IgcGFydCgpLi5cbiAgICBsZWF2ZTogcGFydCxcblxuICAgIC8vIFNlbmQgYSBwaW5nIHRvIHRoZSBzZXJ2ZXIuLlxuICAgIHBpbmc6IGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIG51bGwsIFwiUElOR1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICB0aGlzLmxhdGVuY3kgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnRpbWVvdXQsIDk5OTkpKTtcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VQaW5nIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVBpbmdcIiwgKGxhdGVuY3kpID0+IHsgcmVzb2x2ZShbcGFyc2VGbG9hdChsYXRlbmN5KV0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICByOWtiZXRhOiByOWtiZXRhLFxuXG4gICAgLy8gQWxpYXMgZm9yIHI5a2JldGEoKS4uXG4gICAgcjlrbW9kZTogcjlrYmV0YSxcblxuICAgIC8vIERpc2FibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgcjlrYmV0YW9mZjogcjlrYmV0YW9mZixcblxuICAgIC8vIEFsaWFzIGZvciByOWtiZXRhb2ZmKCkuLlxuICAgIHI5a21vZGVvZmY6IHI5a2JldGFvZmYsXG5cbiAgICAvLyBTZW5kIGEgcmF3IG1lc3NhZ2UgdG8gdGhlIHNlcnZlci4uXG4gICAgcmF3OiBmdW5jdGlvbiByYXcobWVzc2FnZSkge1xuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBtZXNzYWdlLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKFttZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBTZW5kIGEgbWVzc2FnZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNheTogZnVuY3Rpb24gc2F5KGNoYW5uZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2Uuc3RhcnRzV2l0aChcIi5cIikgJiYgIW1lc3NhZ2Uuc3RhcnRzV2l0aChcIi4uXCIpKSB8fCBtZXNzYWdlLnN0YXJ0c1dpdGgoXCIvXCIpIHx8IG1lc3NhZ2Uuc3RhcnRzV2l0aChcIlxcXFxcIikpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZXNzYWdlIGlzIGFuIGFjdGlvbiBtZXNzYWdlLi5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN1YnN0cigxLCAzKSA9PT0gXCJtZSBcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbihjaGFubmVsLCBtZXNzYWdlLnN1YnN0cig0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyB0aW1lLCB0aGVyZSBpcyBubyBwb3NzaWJsZSB3YXkgdG8gZGV0ZWN0IGlmIGEgbWVzc2FnZSBoYXMgYmVlbiBzZW50IGhhcyBiZWVuIGVhdGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBzZXJ2ZXIsIHNvIHdlIGNhbiBvbmx5IHJlc29sdmUgdGhlIFByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBzbG93IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBzbG93OiBzbG93LFxuXG4gICAgLy8gQWxpYXMgZm9yIHNsb3coKS4uXG4gICAgc2xvd21vZGU6IHNsb3csXG5cbiAgICAvLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNsb3dvZmY6IHNsb3dvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3Igc2xvd29mZigpLi5cbiAgICBzbG93bW9kZW9mZjogc2xvd29mZixcblxuICAgIC8vIEVuYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnM6IGZ1bmN0aW9uIHN1YnNjcmliZXJzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnNvZmY6IGZ1bmN0aW9uIHN1YnNjcmliZXJzb2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzb2ZmIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gVGltZW91dCB1c2VybmFtZSBvbiBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQoY2hhbm5lbCwgdXNlcm5hbWUsIHNlY29uZHMsIHJlYXNvbikge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIGlmICghXy5pc051bGwoc2Vjb25kcykgJiYgIV8uaXNJbnRlZ2VyKHNlY29uZHMpKSB7XG4gICAgICAgICAgICByZWFzb24gPSBzZWNvbmRzO1xuICAgICAgICAgICAgc2Vjb25kcyA9IDMwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuICAgICAgICByZWFzb24gPSBfLmdldChyZWFzb24sIFwiXCIpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdGltZW91dCAke3VzZXJuYW1lfSAke3NlY29uZHN9ICR7cmVhc29ufWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVGltZW91dCBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VUaW1lb3V0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgfn5zZWNvbmRzLCByZWFzb25dKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBVbmJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICB1bmJhbjogZnVuY3Rpb24gdW5iYW4oY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3VuYmFuICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VVbmJhbiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VVbmJhblwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmQgdGhlIGN1cnJlbnQgaG9zdGluZy4uXG4gICAgdW5ob3N0OiBmdW5jdGlvbiB1bmhvc3QoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQoMjAwMCwgY2hhbm5lbCwgXCIvdW5ob3N0XCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVW5ob3N0IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVuaG9zdFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVubW9kIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVubW9kOiBmdW5jdGlvbiB1bm1vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW5tb2QgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVubW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVubW9kXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVudmlwIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVudmlwOiBmdW5jdGlvbiB1bnZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW52aXAgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVudmlwIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVudmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEFkZCB1c2VybmFtZSB0byBWSVAgbGlzdCBvbiBjaGFubmVsLi5cbiAgICB2aXA6IGZ1bmN0aW9uIHZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdmlwICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VWaXAgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlVmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEdldCBsaXN0IG9mIFZJUHMgb24gYSBjaGFubmVsLi5cbiAgICB2aXBzOiBmdW5jdGlvbiB2aXBzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi92aXBzXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVmlwcyBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VWaXBzXCIsIChlcnIsIHZpcHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKHZpcHMpOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFNlbmQgYW4gd2hpc3BlciBtZXNzYWdlIHRvIGEgdXNlci4uXG4gICAgd2hpc3BlcjogZnVuY3Rpb24gd2hpc3Blcih1c2VybmFtZSwgbWVzc2FnZSkge1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgd2lsbCBub3Qgc2VuZCBhIHdoaXNwZXIgdG8gdGhlIGFjY291bnQgdGhhdCBzZW50IGl0LlxuICAgICAgICBpZiAodXNlcm5hbWUgPT09IHRoaXMuZ2V0VXNlcm5hbWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQ2Fubm90IHNlbmQgYSB3aGlzcGVyIHRvIHRoZSBzYW1lIGFjY291bnQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC93ICR7dXNlcm5hbWV9ICR7bWVzc2FnZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IF8uY2hhbm5lbCh1c2VybmFtZSksXG4gICAgICAgICAgICAgICAgdXNlcnN0YXRlID0gXy5tZXJnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3NhZ2UtdHlwZVwiOiBcIndoaXNwZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZS1pZFwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aHJlYWQtaWRcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdldFVzZXJuYW1lKClcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5nbG9iYWx1c2Vyc3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IGZvciBib3RoLCB3aGlzcGVyIGFuZCBtZXNzYWdlLi5cbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wid2hpc3BlclwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXSxcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW3VzZXJuYW1lLCBtZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4gKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4gKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4gKiBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbiAqIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4gKiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuICogT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuICogVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gICAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdCBtdWx0aXBsZSBldmVudHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0cyA9IGZ1bmN0aW9uKHR5cGVzLCB2YWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwgPSBpIDwgdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1tpXSA6IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbdHlwZXNbaV1dLmNvbmNhdCh2YWwpKTtcbiAgICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHsgdGhpcy5fZXZlbnRzID0ge307IH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgICBpZiAodHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8IChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikgeyB0aHJvdyBlcjsgfVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFxcXCJlcnJvclxcXCIgZXZlbnQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIHNsb3dlclxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgICAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbTtcblxuICAgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpIHsgdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpOyB9XG5cbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgeyB0aGlzLl9ldmVudHMgPSB7fTsgfVxuXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmVtaXQoXCJuZXdMaXN0ZW5lclwiLCB0eXBlLCBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyOyB9XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpIHsgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpOyB9XG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgZWxzZSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTsgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgICAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIiwgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBOb3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7IHRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTsgfVxuXG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KHR5cGUpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICB2YXIgY291bnQgPSAxO1xuICAgICAgICB2YXIgc2VhcmNoRm9yID0gdHlwZTtcblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGspICYmIGsuc3RhcnRzV2l0aChzZWFyY2hGb3IpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gdHlwZSArIGNvdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGcoKSB7XG4gICAgICAgIGlmICh0eXBlLmNoYXJBdCgwKSA9PT0gXCJfXCIgJiYgIWlzTmFOKHR5cGUuc3Vic3RyKHR5cGUubGVuZ3RoIC0gMSkpKSB7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5zdWJzdHJpbmcoMCwgdHlwZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgICAgIGlmICghZmlyZWQpIHtcbiAgICAgICAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgdGhpcy5vbih0eXBlLCBnKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdHMgYSBcInJlbW92ZUxpc3RlbmVyXCIgZXZlbnQgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLi5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMgZnJvbSAub25jZSgpLi5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkgeyB0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7IH1cblxuICAgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgcG9zaXRpb24gPSAtMTtcbiAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlICsgXCIyXCIpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEZvciA9IHR5cGU7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShrKSAmJiBrLnN0YXJ0c1dpdGgoc2VhcmNoRm9yKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGsuc3Vic3RyKGsubGVuZ3RoIC0gMSkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGUgKyBwYXJzZUludChrLnN1YnN0cihrLmxlbmd0aCAtIDEpIC0gMSldID0gdGhpcy5fZXZlbnRzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1trXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpOyB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBrZXksIGxpc3RlbmVycztcblxuICAgIGlmICghdGhpcy5fZXZlbnRzKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsgdGhpcy5fZXZlbnRzID0ge307IH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKSB7IGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcInJlbW92ZUxpc3RlbmVyXCIpIHsgY29udGludWU7IH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHsgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpOyB9XG4gICAgZWxzZSBpZiAobGlzdGVuZXJzKSB7IHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKSB7IHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7IH0gfVxuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSkgeyByZXQgPSBbXTsgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSkgeyByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTsgfVxuICAgIGVsc2UgeyByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTsgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgICAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSkgeyByZXR1cm4gMTsgfVxuICAgICAgICBlbHNlIGlmIChldmxpc3RlbmVyKSB7IHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDsgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcIm51bWJlclwiO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBjdXJyZW50TGV2ZWwgPSBcImluZm9cIjtcbnZhciBsZXZlbHMgPSB7IFwidHJhY2VcIjogMCwgXCJkZWJ1Z1wiOiAxLCBcImluZm9cIjogMiwgXCJ3YXJuXCI6IDMsIFwiZXJyb3JcIjogNCwgXCJmYXRhbFwiOiA1IH1cblxuLy8gTG9nZ2VyIGltcGxlbWVudGF0aW9uLi5cbmZ1bmN0aW9uIGxvZyhsZXZlbCkge1xuICAgIC8vIFJldHVybiBhIGNvbnNvbGUgbWVzc2FnZSBkZXBlbmRpbmcgb24gdGhlIGxvZ2dpbmcgbGV2ZWwuLlxuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAobGV2ZWxzW2xldmVsXSA+PSBsZXZlbHNbY3VycmVudExldmVsXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFske18uZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKX1dICR7bGV2ZWx9OiAke21lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIENoYW5nZSB0aGUgY3VycmVudCBsb2dnaW5nIGxldmVsLi5cbiAgICBzZXRMZXZlbDogZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XG4gICAgfSxcbiAgICB0cmFjZTogbG9nKFwidHJhY2VcIiksXG4gICAgZGVidWc6IGxvZyhcImRlYnVnXCIpLFxuICAgIGluZm86IGxvZyhcImluZm9cIiksXG4gICAgd2FybjogbG9nKFwid2FyblwiKSxcbiAgICBlcnJvcjogbG9nKFwiZXJyb3JcIiksXG4gICAgZmF0YWw6IGxvZyhcImZhdGFsXCIpXG59O1xuIiwiLypcbiAgICBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSwgRmlvbm4gS2VsbGVoZXIgQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gICAgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgICAgIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAgICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblxuICAgICAgICBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAgICBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICAgIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAgICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICAgIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAgIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsXG4gICAgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gICAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICAgIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZXG4gICAgT0YgU1VDSCBEQU1BR0UuXG4qL1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBub25zcGFjZVJlZ2V4ID0gL1xcUysvZztcblxuZnVuY3Rpb24gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIHRhZ0tleSwgc3BsQSA9IFwiLFwiLCBzcGxCID0gXCIvXCIsIHNwbEMpIHtcbiAgICB2YXIgcmF3ID0gdGFnc1t0YWdLZXldO1xuICAgIFxuICAgIGlmKHJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH1cblxuICAgIHZhciB0YWdJc1N0cmluZyA9IF8uaXNTdHJpbmcocmF3KTtcbiAgICB0YWdzW3RhZ0tleSArIFwiLXJhd1wiXSA9IHRhZ0lzU3RyaW5nID8gcmF3IDogbnVsbDtcblxuICAgIGlmKHJhdyA9PT0gdHJ1ZSkge1xuICAgICAgICB0YWdzW3RhZ0tleV0gPSBudWxsO1xuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG5cbiAgICB0YWdzW3RhZ0tleV0gPSB7fTtcblxuICAgIGlmICh0YWdJc1N0cmluZykge1xuICAgICAgICB2YXIgc3BsID0gcmF3LnNwbGl0KHNwbEEpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBzcGxbaV0uc3BsaXQoc3BsQik7XG4gICAgICAgICAgICB2YXIgdmFsID0gcGFydHNbMV07XG4gICAgICAgICAgICBpZiAoc3BsQyAhPT0gdW5kZWZpbmVkICYmIHZhbCkge1xuICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5zcGxpdChzcGxDKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhZ3NbdGFnS2V5XVtwYXJ0c1swXV0gPSB2YWwgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFncztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gUGFyc2UgVHdpdGNoIGJhZGdlcy4uXG4gICAgYmFkZ2VzOiBmdW5jdGlvbiBiYWRnZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2VzXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggYmFkZ2UtaW5mby4uXG4gICAgYmFkZ2VJbmZvOiBmdW5jdGlvbiBiYWRnZUluZm8odGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2UtaW5mb1wiKTtcbiAgICB9LFxuXG4gICAgLy8gUGFyc2UgVHdpdGNoIGVtb3Rlcy4uXG4gICAgZW1vdGVzOiBmdW5jdGlvbiBlbW90ZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiZW1vdGVzXCIsIFwiL1wiLCBcIjpcIiwgXCIsXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSByZWdleCBlbW90ZXMuLlxuICAgIGVtb3RlUmVnZXg6IGZ1bmN0aW9uIGVtb3RlUmVnZXgobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIihcXFxcYnxefFxccylcIiArIF8udW5lc2NhcGVIdG1sKGNvZGUpICsgXCIoXFxcXGJ8JHxcXHMpXCIpO1xuICAgICAgICB2YXIgbWF0Y2g7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZW1vdGUgY29kZSBtYXRjaGVzIHVzaW5nIFJlZ0V4cCBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QobWF0Y2hbMF0pKSB7XG4gICAgICAgICAgICAgICAgb2JqW2lkXSA9IG9ialtpZF0gfHwgW107XG4gICAgICAgICAgICAgICAgb2JqW2lkXS5wdXNoKFttYXRjaC5pbmRleCwgbm9uc3BhY2VSZWdleC5sYXN0SW5kZXggLSAxXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBzdHJpbmcgZW1vdGVzLi5cbiAgICBlbW90ZVN0cmluZzogZnVuY3Rpb24gZW1vdGVTdHJpbmcobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGVtb3RlIGNvZGUgbWF0Y2hlcyBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09PSBfLnVuZXNjYXBlSHRtbChjb2RlKSkge1xuICAgICAgICAgICAgICAgIG9ialtpZF0gPSBvYmpbaWRdIHx8IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpZF0ucHVzaChbbWF0Y2guaW5kZXgsIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgZW1vdGVzIG9iamVjdCB0byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0Li5cbiAgICAvLyBlbW90ZV9pZDpmaXJzdF9pbmRleC1sYXN0X2luZGV4LGFub3RoZXJfZmlyc3QtYW5vdGhlcl9sYXN0L2Fub3RoZXJfZW1vdGVfaWQ6Zmlyc3RfaW5kZXgtbGFzdF9pbmRleFxuICAgIHRyYW5zZm9ybUVtb3RlczogZnVuY3Rpb24gdHJhbnNmb3JtRW1vdGVzKGVtb3Rlcykge1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSBcIlwiO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGVtb3RlcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gYCR7dHJhbnNmb3JtZWQraWR9OmA7XG4gICAgICAgICAgICBlbW90ZXNbaWRdLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZCtpbmRleC5qb2luKFwiLVwiKX0sYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZC5zbGljZSgwLC0xKX0vYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnNsaWNlKDAsLTEpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggbWVzc2FnZXMuLlxuICAgIG1zZzogZnVuY3Rpb24gbXNnKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICByYXc6IGRhdGEsXG4gICAgICAgICAgICB0YWdzOiB7fSxcbiAgICAgICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IG51bGwsXG4gICAgICAgICAgICBwYXJhbXM6IFtdXG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3NpdGlvbiBhbmQgbmV4dHNwYWNlIGFyZSB1c2VkIGJ5IHRoZSBwYXJzZXIgYXMgYSByZWZlcmVuY2UuLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgbmV4dHNwYWNlID0gMDtcblxuICAgICAgICAvLyBUaGUgZmlyc3QgdGhpbmcgd2UgY2hlY2sgZm9yIGlzIElSQ3YzLjIgbWVzc2FnZSB0YWdzLlxuICAgICAgICAvLyBodHRwOi8vaXJjdjMuYXRoZW1lLm9yZy9zcGVjaWZpY2F0aW9uL21lc3NhZ2UtdGFncy0zLjJcbiAgICAgICAgaWYgKGRhdGEuY2hhckNvZGVBdCgwKSA9PT0gNjQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0c3BhY2UgPSBkYXRhLmluZGV4T2YoXCIgXCIpO1xuXG4gICAgICAgICAgICAvLyBNYWxmb3JtZWQgSVJDIG1lc3NhZ2UuLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGFncyBhcmUgc3BsaXQgYnkgYSBzZW1pIGNvbG9uLi5cbiAgICAgICAgICAgIHZhciByYXdUYWdzID0gZGF0YS5zbGljZSgxLCBuZXh0c3BhY2UpLnNwbGl0KFwiO1wiKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gVGFncyBkZWxpbWl0ZWQgYnkgYW4gZXF1YWxzIHNpZ24gYXJlIGtleT12YWx1ZSB0YWdzLlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZXF1YWxzLCB3ZSBhc3NpZ24gdGhlIHRhZyBhIHZhbHVlIG9mIHRydWUuXG4gICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJhd1RhZ3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB0YWcuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnc1twYWlyWzBdXSA9IHRhZy5zdWJzdHJpbmcodGFnLmluZGV4T2YoXCI9XCIpICsgMSkgfHwgdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIG1lc3NhZ2UncyBwcmVmaXggaWYgcHJlc2VudC4gUHJlZml4ZXMgYXJlIHByZXBlbmRlZCB3aXRoIGEgY29sb24uLlxuICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgIG5leHRzcGFjZSA9IGRhdGEuaW5kZXhPZihcIiBcIiwgcG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgYWZ0ZXIgdGhlIHByZWZpeCwgZGVlbSB0aGlzIG1lc3NhZ2UgdG8gYmUgbWFsZm9ybWVkLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVzc2FnZS5wcmVmaXggPSBkYXRhLnNsaWNlKHBvc2l0aW9uICsgMSwgbmV4dHNwYWNlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gbmV4dHNwYWNlICsgMTtcblxuICAgICAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBtb3JlIHdoaXRlc3BhY2UgbGVmdCwgZXh0cmFjdCBldmVyeXRoaW5nIGZyb20gdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nIGFzIHRoZSBjb21tYW5kLi5cbiAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kID0gZGF0YS5zbGljZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWxzZSwgdGhlIGNvbW1hbmQgaXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gdXAgdG8gdGhlIG5leHQgc3BhY2UuIEFmdGVyXG4gICAgICAgIC8vIHRoYXQsIHdlIGV4cGVjdCBzb21lIHBhcmFtZXRlcnMuXG4gICAgICAgIG1lc3NhZ2UuY29tbWFuZCA9IGRhdGEuc2xpY2UocG9zaXRpb24sIG5leHRzcGFjZSk7XG5cbiAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuXG4gICAgICAgIC8vIFNraXAgYW55IHRyYWlsaW5nIHdoaXRlc3BhY2UuLlxuICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAocG9zaXRpb24gPCBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgYSBjb2xvbiwgd2UndmUgZ290IGEgdHJhaWxpbmcgcGFyYW1ldGVyLlxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgdGhlcmUgYXJlIG5vIGV4dHJhIHBhcmFtcywgc28gd2UgcHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICAvLyBmcm9tIGFmdGVyIHRoZSBjb2xvbiB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHRvIHRoZSBwYXJhbXMgYXJyYXlcbiAgICAgICAgICAgIC8vIGFuZCBicmVhayBvdXQgb2YgdGhlIGxvb3AuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtcy5wdXNoKGRhdGEuc2xpY2UocG9zaXRpb24gKyAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIHN0aWxsIGhhdmUgc29tZSB3aGl0ZXNwYWNlLi4uXG4gICAgICAgICAgICBpZiAobmV4dHNwYWNlICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFB1c2ggd2hhdGV2ZXIncyBiZXR3ZWVuIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIHNwYWNlIHRvIHRoZSBwYXJhbXMgYXJyYXkuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uLCBuZXh0c3BhY2UpKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5leHRzcGFjZSArIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBTa2lwIGFueSB0cmFpbGluZyB3aGl0ZXNwYWNlIGFuZCBjb250aW51ZSBsb29waW5nLlxuICAgICAgICAgICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIHdoaXRlc3BhY2UgYW5kIHRoZSBwYXJhbSBpc24ndCB0cmFpbGluZyxcbiAgICAgICAgICAgIC8vIHB1c2ggZXZlcnl0aGluZyByZW1haW5pbmcgdG8gdGhlIHBhcmFtcyBhcnJheS5cbiAgICAgICAgICAgIGlmIChuZXh0c3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG59XG4iLCIvLyBJbml0aWFsaXplIHRoZSBxdWV1ZSB3aXRoIGEgc3BlY2lmaWMgZGVsYXkuLlxuZnVuY3Rpb24gcXVldWUoZGVmYXVsdERlbGF5KSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMuZGVmYXVsdERlbGF5ID0gZGVmYXVsdERlbGF5IHx8IDMwMDA7XG59XG5cbi8vIEFkZCBhIG5ldyBmdW5jdGlvbiB0byB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgZGVsYXkpIHtcbiAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICBmbjogZm4sXG4gICAgICAgIGRlbGF5OiBkZWxheVxuICAgIH0pO1xufTtcblxuLy8gUnVuIHRoZSBjdXJyZW50IHF1ZXVlLi5cbnF1ZXVlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oaW5kZXgpIHtcbiAgICAoaW5kZXggfHwgaW5kZXggPT09IDApICYmICh0aGlzLmluZGV4ID0gaW5kZXgpO1xuICAgIHRoaXMubmV4dCgpO1xufTtcblxuLy8gR28gdG8gdGhlIG5leHQgaW4gcXVldWUuLlxucXVldWUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBpID0gdGhpcy5pbmRleCsrO1xuICAgIHZhciBhdCA9IHRoaXMucXVldWVbaV07XG4gICAgdmFyIG5leHQgPSB0aGlzLnF1ZXVlW3RoaXMuaW5kZXhdO1xuXG4gICAgaWYgKCFhdCkgeyByZXR1cm47IH1cblxuICAgIGF0LmZuKCk7XG4gICAgbmV4dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfSwgbmV4dC5kZWxheSB8fCB0aGlzLmRlZmF1bHREZWxheSk7XG59O1xuXG4vLyBSZXNldCB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG59O1xuXG4vLyBDbGVhciB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xufTtcblxuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuIiwidmFyIGFjdGlvbk1lc3NhZ2VSZWdleCA9IC9eXFx1MDAwMUFDVElPTiAoW15cXHUwMDAxXSspXFx1MDAwMSQvO1xudmFyIGp1c3RpbkZhblJlZ2V4ID0gL14oanVzdGluZmFuKShcXGQrJCkvO1xudmFyIHVuZXNjYXBlSVJDUmVnZXggPSAvXFxcXChbc246clxcXFxdKS9nO1xudmFyIGlyY0VzY2FwZWRDaGFycyA9IHsgczogJyAnLCBuOiAnJywgJzonOiAnOycsIHI6ICcnIH07XG52YXIgc2VsZiA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFJldHVybiB0aGUgc2Vjb25kIHZhbHVlIGlmIHRoZSBmaXJzdCB2YWx1ZSBpcyB1bmRlZmluZWQuLlxuICAgIGdldDogKG9iajEsIG9iajIpID0+IHsgcmV0dXJuIHR5cGVvZiBvYmoxID09PSBcInVuZGVmaW5lZFwiID8gb2JqMiA6IG9iajE7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIGJvb2xlYW4uLlxuICAgIGlzQm9vbGVhbjogKG9iaikgPT4geyByZXR1cm4gdHlwZW9mKG9iaikgPT09IFwiYm9vbGVhblwiOyB9LFxuXG4gICAgLy8gVmFsdWUgaXMgYSBmaW5pdGUgbnVtYmVyLi5cbiAgICBpc0Zpbml0ZTogKGludCkgPT4geyByZXR1cm4gaXNGaW5pdGUoaW50KSAmJiAhaXNOYU4ocGFyc2VGbG9hdChpbnQpKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGFuIGludGVnZXIuLlxuICAgIGlzSW50ZWdlcjogKGludCkgPT4geyByZXR1cm4gIWlzTmFOKHNlbGYudG9OdW1iZXIoaW50LCAwKSk7IH0sXG5cbiAgICAvLyBVc2VybmFtZSBpcyBhIGp1c3RpbmZhbiB1c2VybmFtZS4uXG4gICAgaXNKdXN0aW5mYW46ICh1c2VybmFtZSkgPT4geyByZXR1cm4ganVzdGluRmFuUmVnZXgudGVzdCh1c2VybmFtZSk7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBudWxsLi5cbiAgICBpc051bGw6IChvYmopID0+IHsgcmV0dXJuIG9iaiA9PT0gbnVsbDsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgcmVnZXguLlxuICAgIGlzUmVnZXg6IChzdHIpID0+IHsgcmV0dXJuIC9bXFx8XFxcXFxcXlxcJFxcKlxcK1xcP1xcOlxcI10vLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgc3RyaW5nLi5cbiAgICBpc1N0cmluZzogKHN0cikgPT4geyByZXR1cm4gdHlwZW9mKHN0cikgPT09IFwic3RyaW5nXCI7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIHZhbGlkIHVybC4uXG4gICAgaXNVUkw6IChzdHIpID0+IHsgcmV0dXJuIFJlZ0V4cChcIl4oPzooPzpodHRwcz98ZnRwKTovLykoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXFxcLjI1NHwxOTJcXFxcLjE2OCkoPzpcXFxcLlxcXFxkezEsM30pezJ9KSg/ITE3MlxcXFwuKD86MVs2LTldfDJcXFxcZHwzWzAtMV0pKD86XFxcXC5cXFxcZHsxLDN9KXsyfSkoPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9KD86XFxcXC4oPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZl17Mix9KSlcXFxcLj8pKD86OlxcXFxkezIsNX0pPyg/OlsvPyNdXFxcXFMqKT8kXCIsXCJpXCIpLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFJldHVybiBhIHJhbmRvbSBqdXN0aW5mYW4gdXNlcm5hbWUuLlxuICAgIGp1c3RpbmZhbjogKCkgPT4geyByZXR1cm4gYGp1c3RpbmZhbiR7TWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDgwMDAwKSArIDEwMDApfWA7IH0sXG5cbiAgICAvLyBSZXR1cm4gYSB2YWxpZCBwYXNzd29yZC4uXG4gICAgcGFzc3dvcmQ6IChzdHIpID0+IHsgcmV0dXJuIFtcIlNDSE1PT1BJSUVcIiwgXCJcIiwgbnVsbF0uaW5jbHVkZXMoc3RyKSA/IFwiU0NITU9PUElJRVwiIDogYG9hdXRoOiR7c3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIm9hdXRoOlwiLCBcIlwiKX1gOyB9LFxuXG4gICAgLy8gUmFjZSBhIHByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICBwcm9taXNlRGVsYXk6ICh0aW1lKSA9PiB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpOyB9KTsgfSxcblxuICAgIC8vIFJlcGxhY2UgYWxsIG9jY3VyZW5jZXMgb2YgYSBzdHJpbmcgdXNpbmcgYW4gb2JqZWN0Li5cbiAgICByZXBsYWNlQWxsOiAoc3RyLCBvYmopID0+IHtcbiAgICAgICAgaWYgKHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSBcInVuZGVmaW5lZFwiKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIGZvciAodmFyIHggaW4gb2JqKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKHgsIFwiZ1wiKSwgb2JqW3hdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICB1bmVzY2FwZUh0bWw6IChzYWZlKSA9PiB7XG4gICAgICAgIHJldHVybiBzYWZlLnJlcGxhY2UoL1xcXFwmYW1wXFxcXDsvZywgXCImXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXCZsdFxcXFw7L2csIFwiPFwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwmZ3RcXFxcOy9nLCBcIj5cIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJnF1b3RcXFxcOy9nLCBcIlxcXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJiMwMzlcXFxcOy9nLCBcIidcIik7XG4gICAgfSxcblxuICAgIC8vIEVzY2FwaW5nIHZhbHVlczogaHR0cDovL2lyY3YzLm5ldC9zcGVjcy9jb3JlL21lc3NhZ2UtdGFncy0zLjIuaHRtbCNlc2NhcGluZy12YWx1ZXNcbiAgICB1bmVzY2FwZUlSQzogKG1zZykgPT4ge1xuICAgICAgICByZXR1cm4gIW1zZyB8fCAhbXNnLmluY2x1ZGVzKCdcXFxcJykgPyBtc2cgOiBtc2cucmVwbGFjZSh1bmVzY2FwZUlSQ1JlZ2V4LCAobSwgcCkgPT4geyByZXR1cm4gcCBpbiBpcmNFc2NhcGVkQ2hhcnMgPyBpcmNFc2NhcGVkQ2hhcnNbcF0gOiBwIH0pO1xuICAgIH0sXG5cbiAgICBhY3Rpb25NZXNzYWdlOiAobXNnKSA9PiB7XG4gICAgICAgIHJldHVybiBtc2cubWF0Y2goYWN0aW9uTWVzc2FnZVJlZ2V4KTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIHdvcmQgdG8gYSBzdHJpbmcuLlxuICAgIGFkZFdvcmQ6IChsaW5lLCB3b3JkKSA9PiB7XG4gICAgICAgIHJldHVybiBsaW5lLmxlbmd0aCA/IGxpbmUgKyBcIiBcIiArIHdvcmQgOiBsaW5lICsgd29yZDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgY2hhbm5lbCBuYW1lLi5cbiAgICBjaGFubmVsOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciBjaGFubmVsID0gKHN0ciA/IHN0ciA6IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBjaGFubmVsWzBdID09PSBcIiNcIiA/IGNoYW5uZWwgOiBcIiNcIiArIGNoYW5uZWw7XG4gICAgfSxcblxuICAgIC8vIEV4dHJhY3QgYSBudW1iZXIgZnJvbSBhIHN0cmluZy4uXG4gICAgZXh0cmFjdE51bWJlcjogKHN0cikgPT4ge1xuICAgICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0ludGVnZXIocGFydHNbaV0pKSB7IHJldHVybiB+fnBhcnRzW2ldOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8vIEZvcm1hdCB0aGUgZGF0ZS4uXG4gICAgZm9ybWF0RGF0ZTogKGRhdGUpID0+IHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgICAgICB2YXIgbWlucyAgPSBkYXRlLmdldE1pbnV0ZXMoKTtcblxuICAgICAgICBob3VycyA9IChob3VycyA8IDEwID8gXCIwXCIgOiBcIlwiKSArIGhvdXJzO1xuICAgICAgICBtaW5zID0gKG1pbnMgPCAxMCA/IFwiMFwiIDogXCJcIikgKyBtaW5zO1xuXG4gICAgICAgIHJldHVybiBgJHtob3Vyc306JHttaW5zfWA7XG4gICAgfSxcblxuICAgIC8vIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci4uXG4gICAgaW5oZXJpdHM6IChjdG9yLCBzdXBlckN0b3IpID0+IHtcbiAgICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7XG4gICAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiBvciBub3QuLlxuICAgIGlzTm9kZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gd2hldGhlciBpbnNpZGUgYSBDaHJvbWUgZXh0ZW5zaW9uIG9yIG5vdC4uXG4gICAgaXNFeHRlbnNpb246ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY2hyb21lICYmIGNocm9tZS5ydW50aW1lICYmIGNocm9tZS5ydW50aW1lLmlkO1xuICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgUmVhY3QgTmF0aXZlIGFwcC4uXG4gICAgaXNSZWFjdE5hdGl2ZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PSBcIlJlYWN0TmF0aXZlXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gb2JqZWN0cy4uXG4gICAgbWVyZ2U6IE9iamVjdC5hc3NpZ24sXG5cbiAgICAvLyBTcGxpdCBhIGxpbmUgYnV0IHRyeSBub3QgdG8gY3V0IGEgd29yZCBpbiBoYWxmLi5cbiAgICBzcGxpdExpbmU6IChpbnB1dCwgbGVuZ3RoKSA9PiB7XG4gICAgICAgIHZhciBsYXN0U3BhY2UgPSBpbnB1dC5zdWJzdHJpbmcoMCwgbGVuZ3RoKS5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgICAgIC8vIE5vIHNwYWNlcyBmb3VuZCwgc3BsaXQgYXQgdGhlIHZlcnkgZW5kIHRvIGF2b2lkIGEgbG9vcC4uXG4gICAgICAgIGlmIChsYXN0U3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICBsYXN0U3BhY2UgPSBsZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaW5wdXQuc3Vic3RyaW5nKDAsIGxhc3RTcGFjZSksIGlucHV0LnN1YnN0cmluZyhsYXN0U3BhY2UgKyAxKV07XG4gICAgfSxcblxuICAgIC8vIFBhcnNlIHN0cmluZyB0byBudW1iZXIuIFJldHVybnMgTmFOIGlmIHN0cmluZyBjYW4ndCBiZSBwYXJzZWQgdG8gbnVtYmVyLi5cbiAgICB0b051bWJlcjogKG51bSwgcHJlY2lzaW9uKSA9PiB7XG4gICAgICAgIGlmIChudW0gPT09IG51bGwpIHJldHVybiAwO1xuICAgICAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIHNlbGYuaXNGaW5pdGUocHJlY2lzaW9uKSA/IHByZWNpc2lvbiA6IDApO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBmYWN0b3IpIC8gZmFjdG9yO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gYXJyYXlzLi5cbiAgICB1bmlvbjogKGFycjEsIGFycjIpID0+IHtcbiAgICAgICAgdmFyIGhhc2ggPSB7fTtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlID0gYXJyMVtpXTtcbiAgICAgICAgICAgIGlmICghaGFzaFtlXSkge1xuICAgICAgICAgICAgICAgIGhhc2hbZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGUgPSBhcnIyW2ldO1xuICAgICAgICAgICAgaWYgKCFoYXNoW2VdKSB7XG4gICAgICAgICAgICAgICAgaGFzaFtlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgdXNlcm5hbWUuLlxuICAgIHVzZXJuYW1lOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciB1c2VybmFtZSA9IChzdHIgPyBzdHIgOiBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gdXNlcm5hbWVbMF0gPT09IFwiI1wiID8gdXNlcm5hbWUuc2xpY2UoMSkgOiB1c2VybmFtZTtcbiAgICB9XG59XG4iLCIvKiBSIEUgUyBPIFUgUiBDIEUgUyAqL1xuaW1wb3J0IFwiLi9hc3NldHMvc3R5bGVzL21haW4uc2Nzc1wiO1xuaW1wb3J0IFwiLi9hc3NldHMvaW1nL2ltZ19iYXIucG5nXCI7XG5pbXBvcnQgXCIuL2Fzc2V0cy9pbWcvaW1nX3BpZS5wbmdcIjtcbmltcG9ydCBcIi4vYnVpbGRlci5odG1sXCI7XG5cbmltcG9ydCB7IEpvYiB9IGZyb20gXCIuL3RzL2pvYlwiO1xuaW1wb3J0IHsgUmVhY3Rpb24gfSBmcm9tIFwiLi90cy9rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi90cy9jaGFydHMvY2hhcnRcIjtcbmltcG9ydCB7IENoYXQgfSBmcm9tIFwiLi90cy9jaGF0cy9jaGF0XCI7XG5pbXBvcnQgeyBUd2l0Y2hDaGF0IH0gZnJvbSBcIi4vdHMvY2hhdHMvdHdpdGNoLmNoYXRcIjtcbmltcG9ydCB7IFJlYWN0aW9uU3RvcmFnZSwgVXBkYXRlTW9kZSB9IGZyb20gXCIuL3RzL3JlYWN0aW9uc3RvcmFnZVwiO1xuaW1wb3J0IHsgUGllIH0gZnJvbSBcIi4vdHMvY2hhcnRzL3BpZVwiO1xuaW1wb3J0IHsgQmFyIH0gZnJvbSBcIi4vdHMvY2hhcnRzL2JhclwiO1xuXG4vLyBnZXQgY2hhbm5lbCBmcm9tIHVybFxuY29uc3QgcGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuY29uc3QgY2hhbm5lbDogc3RyaW5nID0gcGFyYW1zLmdldChcImNoYW5uZWxcIikgPz8gXCJcIjtcblxuY29uc3QgdGltZW91dDogbnVtYmVyID0gcGFyc2VJbnQocGFyYW1zLmdldChcInRpbWVvdXRcIikgPz8gXCIxMFwiKTtcbmNvbnN0IHJlcXVpcmVkUGluZ3M6IG51bWJlciA9IHBhcnNlSW50KHBhcmFtcy5nZXQoXCJyZXF1aXJlZFBpbmdzXCIpID8/IFwiNVwiKTtcblxuY29uc3Qgam9iOiBKb2IgPSBuZXcgSm9iKHRpbWVvdXQsIHJlcXVpcmVkUGluZ3MpO1xuY29uc3QgY2hhdDogQ2hhdCA9IG5ldyBUd2l0Y2hDaGF0KGNoYW5uZWwpO1xuXG5mdW5jdGlvbiBidWlsZENoYXJ0RnJvbVBhcmFtcygpOiBDaGFydCB7XG4gIGNvbnN0IHR5cGUgPSBwYXJhbXMuaGFzKFwidHlwZVwiKSA/IHBhcmFtcy5nZXQoXCJ0eXBlXCIpIDogbnVsbDsgLy8gbnVsbCA9IGJhclxuXG4gIC8vIHJldHVybiBiYXJcbiAgaWYgKHR5cGUgPT0gXCJwaWVcIikge1xuICAgIHJldHVybiBuZXcgUGllKHtcbiAgICAgIGVsZW1lbnRJZDogXCJiYXJcIixcbiAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgeDogLTEsXG4gICAgICB5OiAtMSxcbiAgICAgIHJhZGl1c0ZhY3RvcjogMixcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEJhcih7XG4gICAgICBlbGVtZW50SWQ6IFwiYmFyXCIsXG4gICAgICAvLyBoZWlnaHQ6IDUwLFxuICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICBiYXJNYXJnaW5IZWlnaHQ6IDAsXG4gICAgICBiYXJNYXJnaW5XaWR0aDogMCxcbiAgICAgIHN0cm9rZU1hcmdpbkhlaWdodDogMCxcbiAgICAgIHN0cm9rZU1hcmdpbldpZHRoOiAwLFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGNoYXJ0OiBDaGFydCA9IGJ1aWxkQ2hhcnRGcm9tUGFyYW1zKCk7XG5cbmNvbnN0IHN0b3JhZ2U6IFJlYWN0aW9uU3RvcmFnZSA9IG5ldyBSZWFjdGlvblN0b3JhZ2UoY2hhdCwgam9iKTtcblxuLy8gUmVhY3Rpb25TdG9yYWdlI29uKHVwZGF0ZSlcbi8vIFRoaXMgZXZlbnQgaXMgZXhlY3V0ZWQgd2hlbiBhIHJlYWN0aW9uIGNvdW50IHdhcyBpbmNyZW1lbnRlZC5cbi8vIEluIHRoaXMgZXZlbnQgdGhlIGNoYXJ0IHNob3VsZCBiZSAocmUpcGFpbnRlZCB3aXRoIHRoZSB2YWx1ZXMgZnJvbTpcbi8vIFJlYWN0aW9uU3RvcmFnZSNnZXRWYWx1ZXMoKVxuc3RvcmFnZS5vbihcInVwZGF0ZVwiLCAocmVhY3Rpb246IFJlYWN0aW9uLCB2YWx1ZTogbnVtYmVyLCBtb2RlOiBVcGRhdGVNb2RlKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwib246IHVwZGF0ZSA9XCIsIHZhbHVlLCBtb2RlLCBqb2IuaXNBY3RpdmUoKSwgbW9kZSA9PSBVcGRhdGVNb2RlLklOQ1JFTUVOVCk7XG4gIGlmIChtb2RlID09IFVwZGF0ZU1vZGUuSU5DUkVNRU5UICYmIGpvYi5pc0FjdGl2ZSgpKSB7XG4gICAgc3RvcmFnZS5kcmF3Q2hhcnQoY2hhcnQpO1xuICB9XG59KTtcblxuam9iLm9uKFwic3RhcnRcIiwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIkpvYiBzdGFydGVkIVwiKTtcbn0pO1xuXG5qb2Iub24oXCJjYW5jZWxcIiwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIkpvYiBjYW5jZWxlZCFcIik7XG5cbiAgLy8gY2xlYXIgYmFyXG4gIGNoYXJ0LmNsZWFyKCk7XG5cbiAgLy8gcmVzZXQgdmFsdWVzXG4gIHN0b3JhZ2UucmVzZXRTdG9yYWdlKCk7XG59KTsiLCJpbXBvcnQgeyBjb2xvcnMsIGRhcmtlbkhleENvbG9yIH0gZnJvbSBcIi4uL2NvbG9yXCI7XG5pbXBvcnQgeyBDaGFydCwgQ2hhcnRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vY2hhcnRcIjtcblxuY29uc3QgRk9OVF9EWU5BTUlDOiBudW1iZXIgPSAtMTtcbmV4cG9ydCB7IEZPTlRfRFlOQU1JQyB9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBCYXJQcm9wZXJ0aWVzIGV4dGVuZHMgQ2hhcnRQcm9wZXJ0aWVzIHtcbiAgLyoqXG4gICAqIFRoZSBkaXN0YW5jZSBvZiB0aGUgaGVpZ2h0IChib3R0b20gYW5kIHRvcCkgdG8gdGhlIGVkZ2Ugb2YgdGhlIGNhbnZhc1xuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBiYXJNYXJnaW5IZWlnaHQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBkaXN0YW5jZSBvZiB0aGUgd2lkdGggKGxlZnQgYW5kIHJpZ2h0KSB0byB0aGUgZWRnZSBvZiB0aGUgY2FudmFzXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGJhck1hcmdpbldpZHRoPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdG9wIGFuZCBib3R0b20gZGlzdGFuY2UgYmV0d2VlblxuICAgKiB0aGUgb3V0bGluZSBvZiB0aGUgUHJvZ3Jlc3NCYXIgYW5kIHRoZSBmaWxsZWQgaW5cbiAgICogQGRlZmF1bHQgNVxuICAgKi9cbiAgc3Ryb2tlTWFyZ2luSGVpZ2h0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGVmdCBhbmQgcmlnaHQgZGlzdGFuY2UgYmV0d2VlblxuICAgKiB0aGUgb3V0bGluZSBvZiB0aGUgUHJvZ3Jlc3NCYXIgYW5kIHRoZSBmaWxsZWQgaW5cbiAgICogQGRlZmF1bHQgNVxuICAgKi9cbiAgc3Ryb2tlTWFyZ2luV2lkdGg/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvcnMgZnJvbSB0aGlzIGFycmF5IGFyZSBncmFkdWFsbHkgdXNlZCBmb3IgdGhlIGNvbG9ycyBvZiB0aGUgdmFsdWVzIG9mIHRoZSBiYXIuXG4gICAqIElmIHRoZXJlIGFyZSBsZXNzIGNvbG9ycyBpbiB0aGUgYXJyYXkgdGhhbiB2YWx1ZXMsXG4gICAqIHRoZSBuZXh0IGNvbG9yIGlzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZyBhZ2Fpbi5cbiAgICogQGRlZmF1bHQgey4uL2NvbG9yLnRzOjpjb2xvcnN9XG4gICAqL1xuICB2YWx1ZUNvbG9ycz86IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbG9yIGlzIHVzZWQgZm9yIHRoZSBib3JkZXIgb2YgdGhlIGJhci5cbiAgICogQGRlZmF1bHQgIzM0NDk1ZSAobGlnaHQgZ3JheSlcbiAgICovXG4gIHN0cm9rZUNvbG9yPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb3cgb2Z0ZW4gc2hvdWxkIHRoZSBjb250b3VyIGJlIGRyYXduPyAoT3IgYWxzbzogdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlKVxuICAgKi9cbiAgc3Ryb2tlSXRlcmF0aW9ucz86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgc2l6ZSBvZiB0aGUgZm9udCB0aGF0IHNlcnZlcyBhcyBhIHBlcmNlbnRhZ2UgZGlzcGxheSBhYm92ZSB0aGUgY2hhcnQuXG4gICAqIFVzZSBGT05UX0RZTkFNSUMgdG8gaGF2ZSB0aGUgZm9udCBzaXplIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBjaGFydCAoZHluYW1pYylcbiAgICogQGRlZmF1bHQgRk9OVF9EWU5BTUlDXG4gICAqL1xuICBmb250U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgZmFtaWx5IGZvciB0aGUgdmFsdWVzXG4gICAqIEBkZWZhdWx0IGNhbGlicmlcbiAgICovXG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvdyBtdWNoIHRoZSB0ZXh0IGNvbG9yIHNob3VsZCBiZSBkYXJrZW5lZFxuICAgKiBAZGVmYXVsdCAuNjVcbiAgICovXG4gIGZvbnRDb2xvckZhY3Rvcj86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgaW4gdGhlIGNhbGN1bGF0aW9uIGJ5IHRoZSBmYWN0b3Ige2ZvbnRTaXplRmFjdG9yfVxuICAgKiBAZGVmYXVsdCAxLzhcbiAgICovXG4gIGZvbnRTaXplRmFjdG9yPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSb3VuZCB0aGUgdmFsdWU/XG4gICAqL1xuICB0ZXh0Um91bmQ/OiBib29sZWFuO1xufVxuXG5jb25zdCBkZWZhdWx0QmFyUHJvcGVydGllczogQmFyUHJvcGVydGllcyA9IHtcbiAgZWxlbWVudElkOiBcIlwiLFxuICBiYXJNYXJnaW5IZWlnaHQ6IDEwLFxuICBiYXJNYXJnaW5XaWR0aDogMTAsXG4gIHN0cm9rZU1hcmdpbkhlaWdodDogNSxcbiAgc3Ryb2tlTWFyZ2luV2lkdGg6IDUsXG4gIHZhbHVlQ29sb3JzOiBjb2xvcnMsXG4gIHN0cm9rZUNvbG9yOiBcIiMzNDQ5NWVcIixcbiAgc3Ryb2tlSXRlcmF0aW9uczogMSxcbiAgZm9udFNpemU6IEZPTlRfRFlOQU1JQyxcbiAgZm9udEZhbWlseTogXCJjb3VyaWVyXCIsXG4gIGZvbnRTaXplRmFjdG9yOiAxLjgsXG4gIGZvbnRDb2xvckZhY3RvcjogMC42NSxcbiAgdGV4dFJvdW5kOiB0cnVlLFxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBCYXIgZXh0ZW5kcyBDaGFydCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwcm9wZXJ0aWVzOiBCYXJQcm9wZXJ0aWVzKSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0QmFyUHJvcGVydGllcywgLi4udGhpcy5wcm9wZXJ0aWVzIH07XG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge31cblxuICAvKipcbiAgICogRHJhdyB0aGUgYmFyXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZXMgQW4gYXJyYXkgb2YgdmFsdWVzXG4gICAqIEBwYXJhbSBkcmF3VGV4dCBEcmF3IHRoZSBwZXJjZW50YWdlIG9uIHRvcD9cbiAgICogQHBhcmFtIGNsZWFyIENsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmc/XG4gICAqL1xuICBwdWJsaWMgZHJhdyhcbiAgICB2YWx1ZXM6IG51bWJlcltdLFxuICAgIGRyYXdUZXh0OiBib29sZWFuID0gdHJ1ZSxcbiAgICBjbGVhcjogYm9vbGVhbiA9IHRydWVcbiAgKTogdm9pZCB7XG4gICAgLy8gZHJhd1xuICAgIGlmIChjbGVhcikge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3AgPSB0aGlzLnByb3BlcnRpZXM7XG5cbiAgICBjb25zdCByZWN0V2lkdGg6IG51bWJlciA9IHRoaXMud2lkdGggLSBwcm9wLmJhck1hcmdpbldpZHRoICogMjtcbiAgICBjb25zdCByZWN0SGVpZ2h0OiBudW1iZXIgPSB0aGlzLmhlaWdodCAtIHByb3AuYmFyTWFyZ2luSGVpZ2h0ICogMjtcblxuICAgIC8vIHByb3BlcnRpZXNcbiAgICBsZXQgZm9udFNpemUgPSBwcm9wLmZvbnRTaXplO1xuICAgIGlmIChmb250U2l6ZSA9PT0gRk9OVF9EWU5BTUlDKSB7XG4gICAgICBmb250U2l6ZSA9IHJlY3RIZWlnaHQgKiAoMiAvIDMpO1xuICAgIH1cblxuICAgIGNvbnN0IGZvbnRNcCA9IGZvbnRTaXplIC8gcHJvcC5mb250U2l6ZUZhY3RvcjtcbiAgICB0aGlzLmN0eC5mb250ID0gYCR7TWF0aC5yb3VuZChmb250U2l6ZSl9cHggJHtwcm9wLmZvbnRGYW1pbHl9YDtcbiAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHByb3Auc3Ryb2tlQ29sb3I7XG5cbiAgICAvLyBzdHJva2VcbiAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgcHJvcC5zdHJva2VJdGVyYXRpb25zOyBqKyspIHtcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHgucmVjdChcbiAgICAgICAgdGhpcy54ICsgcHJvcC5iYXJNYXJnaW5XaWR0aCAtIHByb3Auc3Ryb2tlTWFyZ2luV2lkdGggLSBqLFxuICAgICAgICB0aGlzLnkgKyBwcm9wLmJhck1hcmdpbkhlaWdodCAtIHByb3Auc3Ryb2tlTWFyZ2luSGVpZ2h0IC0gaixcbiAgICAgICAgcmVjdFdpZHRoICsgcHJvcC5zdHJva2VNYXJnaW5XaWR0aCAqIDIgKyBqLFxuICAgICAgICByZWN0SGVpZ2h0ICsgcHJvcC5zdHJva2VNYXJnaW5IZWlnaHQgKiAyICsgalxuICAgICAgKTtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG4gICAgfVxuXG4gICAgLy8gY291bnQgdGhlIHN1bSBvZiBhbGwgcmVhY3Rpb25zXG4gICAgLy8gbGV0IHN1bSA9IHZhbC5tYXAoYyA9PiBjLnZhbHVlKS5yZWR1Y2UoKGEsIGMpID0+IGEgKyBjKTtcbiAgICBjb25zdCBzdW0gPSB2YWx1ZXMucmVkdWNlKChhLCBjKSA9PiBhICsgYyk7XG5cbiAgICBsZXQgbGFzdFggPSBwcm9wLmJhck1hcmdpbldpZHRoOyAvLyA1MCAtPiBzdGFydGluZyBwb3NcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2OiBudW1iZXIgPSB2YWx1ZXNbaV07XG4gICAgICBjb25zdCBwZXJjZW50YWdlOiBudW1iZXIgPSB2IC8gc3VtO1xuXG4gICAgICBpZiAocGVyY2VudGFnZSA9PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWx1ZVdpZHRoOiBudW1iZXIgPSByZWN0V2lkdGggKiBwZXJjZW50YWdlO1xuXG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBwcm9wLnZhbHVlQ29sb3JzW2kgJSBwcm9wLnZhbHVlQ29sb3JzLmxlbmd0aF07XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4LnJlY3QoXG4gICAgICAgIHRoaXMueCArIGxhc3RYLFxuICAgICAgICB0aGlzLnkgKyBwcm9wLmJhck1hcmdpbkhlaWdodCxcbiAgICAgICAgdmFsdWVXaWR0aCxcbiAgICAgICAgcmVjdEhlaWdodFxuICAgICAgKTtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICAvLyBkcmF3IHRleHRcbiAgICAgIGlmIChkcmF3VGV4dCkge1xuICAgICAgICBsZXQgdHh0OiBzdHJpbmc7XG4gICAgICAgIGlmIChwcm9wLnRleHRSb3VuZCkge1xuICAgICAgICAgIHR4dCA9IGAke01hdGgucm91bmQocGVyY2VudGFnZSAqIDEwMCl9JWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHh0ID0gYCR7cGVyY2VudGFnZSAqIDEwMH0lYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBkYXJrZW5IZXhDb2xvcihcbiAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUsXG4gICAgICAgICAgcHJvcC5mb250Q29sb3JGYWN0b3JcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoXG4gICAgICAgICAgdHh0LFxuICAgICAgICAgIHRoaXMueCArIGxhc3RYICsgdmFsdWVXaWR0aCAvIDIgLSAoZm9udE1wICogdHh0Lmxlbmd0aCkgLyAyLFxuICAgICAgICAgIHRoaXMueSArIHByb3AuYmFyTWFyZ2luSGVpZ2h0ICsgcmVjdEhlaWdodCAvIDIgKyBmb250TXAgLyAyXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgfVxuXG4gICAgICBsYXN0WCArPSB2YWx1ZVdpZHRoO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfVxufVxuIiwiY29uc3QgU0laRV9GSUxMOiBudW1iZXIgPSAtMTtcbmNvbnN0IExPQ0FUSU9OX0NFTlRFUjogbnVtYmVyID0gLTI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhcnRQcm9wZXJ0aWVzIHtcbiAgZWxlbWVudElkOiBzdHJpbmc7XG4gIHg/OiBudW1iZXI7XG4gIHk/OiBudW1iZXI7XG4gIHdpZHRoPzogbnVtYmVyO1xuICBoZWlnaHQ/OiBudW1iZXI7XG4gIGJhY2tncm91bmQ/OiBzdHJpbmc7XG59XG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2hhcnQge1xuICAvL1xuICBwdWJsaWMgY2FudmFzRWxlbWVudElkOiBzdHJpbmc7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gIC8vXG4gIHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwdWJsaWMgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHB1YmxpYyBlcnJvcjogc3RyaW5nO1xuICAvL1xuXG4gIGNvbnN0cnVjdG9yKHByb3BlcnRpZXM6IENoYXJ0UHJvcGVydGllcykge1xuICAgIHRoaXMuY2FudmFzRWxlbWVudElkID0gcHJvcGVydGllcy5lbGVtZW50SWQ7XG4gICAgdGhpcy54ID0gcHJvcGVydGllcy54ID8/IDA7XG4gICAgdGhpcy55ID0gcHJvcGVydGllcy55ID8/IDA7XG4gICAgdGhpcy53aWR0aCA9IHByb3BlcnRpZXMud2lkdGggPz8gU0laRV9GSUxMO1xuICAgIHRoaXMuaGVpZ2h0ID0gcHJvcGVydGllcy5oZWlnaHQgPz8gU0laRV9GSUxMO1xuXG4gICAgLy8gaWYgd2lkdGggPT0gLTE6IHdpZHRoIG9mIGRpc3BsYXlcbiAgICBpZiAodGhpcy53aWR0aCA9PT0gU0laRV9GSUxMKSB7XG4gICAgICB0aGlzLndpZHRoID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDtcbiAgICB9IGVsc2UgaWYgKHRoaXMueCA9PT0gTE9DQVRJT05fQ0VOVEVSKSB7XG4gICAgICB0aGlzLnggPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5pbm5lcldpZHRoIC8gMiAtIHRoaXMud2lkdGggLyAyO1xuICAgIH1cblxuICAgIC8vIGlmIGhlaWdodCA9PSAtMTogaGVpZ2h0IG9mIGRpc3BsYXlcbiAgICBpZiAodGhpcy5oZWlnaHQgPT0gU0laRV9GSUxMKSB7XG4gICAgICB0aGlzLmhlaWdodCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAodGhpcy54ID09PSBMT0NBVElPTl9DRU5URVIpIHtcbiAgICAgIHRoaXMueSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0IC8gMiAtIHRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9XG5cbiAgICAvLyBmaW5kIGNhbnZhc1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2FudmFzRWxlbWVudElkKTtcbiAgICBpZiAoY2FudmFzID09IG51bGwpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBcIkNhbnZhcyBub3QgZm91bmQuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmNhbnZhcztcblxuICAgIC8vIGdldCBjb250ZXh0XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGlmIChjdHggPT0gbnVsbCkge1xuICAgICAgdGhpcy5lcnJvciA9IFwiQ29udGV4dCBub3QgZm91bmQuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3R4ID0gY3R4O1xuXG4gICAgLy8gbWFrZSB0aGUgY2FudmFzIHRoZSBzaXplIG9mIHdpZHRoIGFuZCBoZWlnaHRcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XG5cbiAgICAvLyBiYWNrZ3JvdW5kXG4gICAgaWYgKChwcm9wZXJ0aWVzLmJhY2tncm91bmQgPz8gXCIjMmMzZTUwXCIpICE9IFwibm9uZVwiKSB7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kID0gcHJvcGVydGllcy5iYWNrZ3JvdW5kID8/IFwiIzJjM2U1MFwiO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5lcnJvcikge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgYWJzdHJhY3QgaW5pdCgpOiB2b2lkO1xuICBhYnN0cmFjdCBkcmF3KHZhbHVlczogbnVtYmVyW10sIGRyYXdUZXh0PzogYm9vbGVhbiwgY2xlYXI/OiBib29sZWFuKTogdm9pZDtcbiAgYWJzdHJhY3QgY2xlYXIoKTogdm9pZDtcbn0iLCJpbXBvcnQgeyBDaGFydCwgQ2hhcnRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vY2hhcnRcIjtcbmltcG9ydCB7IGNvbG9ycywgZGFya2VuSGV4Q29sb3IgfSBmcm9tIFwiLi4vY29sb3JcIjtcblxuY29uc3QgTE9DQVRJT05fQ0VOVEVSOiBudW1iZXIgPSAtMTtcblxuZXhwb3J0IHsgTE9DQVRJT05fQ0VOVEVSIH07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5pbnRlcmZhY2UgUGllUHJvcGVydGllcyBleHRlbmRzIENoYXJ0UHJvcGVydGllcyB7XG4gIC8qKlxuICAgKiBcbiAgICogVGhlIGZvbnQgc2l6ZSBvZiB0aGUgZm9udCB0aGF0IHNlcnZlcyBhcyBhIHBlcmNlbnRhZ2UgZGlzcGxheSBhYm92ZSB0aGUgY2hhcnQuXG4gICAqIFVzZSBGT05UX0RZTkFNSUMgdG8gaGF2ZSB0aGUgZm9udCBzaXplIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBjaGFydCAoZHluYW1pYylcbiAgICogQGRlZmF1bHQgMjVcbiAgICovXG4gIGZvbnRTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSb3VuZCB0aGUgdmFsdWU/XG4gICAqL1xuICByb3VuZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIChoZWlnaHQgb3Igd2lkdGgpIC8ge3JhZGl1c0ZhY3Rvcn1cbiAgICovXG4gIHJhZGl1c0ZhY3Rvcj86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgZmFtaWx5IGZvciB0aGUgdmFsdWVzXG4gICAqIEBkZWZhdWx0IGNhbGlicmlcbiAgICovXG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvdyBtdWNoIHRoZSB0ZXh0IGNvbG9yIHNob3VsZCBiZSBkYXJrZW5lZFxuICAgKiBAZGVmYXVsdCAuNjVcbiAgICovXG4gIGZvbnRDb2xvckZhY3Rvcj86IG51bWJlcjtcbn1cblxuY29uc3QgZGVmYXVsdFBpZVBhcmFtczogUGllUHJvcGVydGllcyA9IHtcbiAgZWxlbWVudElkOiBcIlwiLFxuICBmb250U2l6ZTogMjUsXG4gIHJvdW5kOiB0cnVlLFxuICByYWRpdXNGYWN0b3I6IDQuNSxcbiAgZm9udEZhbWlseTogXCJjb3VyaWVyXCIsXG4gIGZvbnRDb2xvckZhY3RvcjogMC42NSxcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgUGllIGV4dGVuZHMgQ2hhcnQge1xuICAvKipcbiAgICogUmFkaXVzIG9mIHBpZVxuICAgKi9cbiAgcHVibGljIHI6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmRBbmdsZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwcm9wZXJ0aWVzOiBQaWVQcm9wZXJ0aWVzKSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IC4uLmRlZmF1bHRQaWVQYXJhbXMsIC4uLnRoaXMucHJvcGVydGllcyB9O1xuXG4gICAgaWYgKHRoaXMueCA9PT0gTE9DQVRJT05fQ0VOVEVSKSB7XG4gICAgICB0aGlzLnggPSB0aGlzLndpZHRoIC8gMjtcbiAgICB9XG4gICAgaWYgKHRoaXMueSA9PT0gTE9DQVRJT05fQ0VOVEVSKSB7XG4gICAgICB0aGlzLnkgPSB0aGlzLmhlaWdodCAvIDI7XG4gICAgfVxuXG4gICAgdGhpcy5yID0gTWF0aC5taW4odGhpcy5oZWlnaHQsIHRoaXMud2lkdGgpIC8gdGhpcy5wcm9wZXJ0aWVzLnJhZGl1c0ZhY3RvcjtcbiAgfVxuXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge31cblxuICBwdWJsaWMgZHJhdyhcbiAgICB2YWx1ZXM6IG51bWJlcltdLFxuICAgIGRyYXdUZXh0OiBib29sZWFuID0gdHJ1ZSxcbiAgICBjbGVhcjogYm9vbGVhbiA9IHRydWVcbiAgKTogdm9pZCB7XG4gICAgLy8gZHJhd1xuICAgIGlmIChjbGVhcikge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8vIEFsaWFzIHRvIHByb3BlcnRpZXNcbiAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzO1xuXG4gICAgY29uc3Qgc3VtID0gdmFsdWVzLnJlZHVjZSgoYSwgYykgPT4gYSArIGMpO1xuXG4gICAgLy8gcmVzZXQgZW5kQW5nbGVcbiAgICB0aGlzLmVuZEFuZ2xlID0gMDtcblxuICAgIC8vIGRyYXcgcGllXG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdmFsdWU6IG51bWJlciA9ICh2YWx1ZXNbaV0gLyBzdW0pICogMTAwO1xuICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbG9yOiBzdHJpbmcgPSBjb2xvcnNbaSAlIGNvbG9ycy5sZW5ndGhdO1xuXG4gICAgICBjb25zdCBjdXJyZW50QW5nbGUgPSAoTWF0aC5QSSAvIDUwKSAqIHZhbHVlO1xuXG4gICAgICAvLyBkcmF3IGJhc2ljIHBpZSBjaGFydFxuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmN0eC5tb3ZlVG8odGhpcy54LCB0aGlzLnkpO1xuICAgICAgdGhpcy5jdHguYXJjKFxuICAgICAgICB0aGlzLngsXG4gICAgICAgIHRoaXMueSxcbiAgICAgICAgdGhpcy5yLFxuICAgICAgICB0aGlzLmVuZEFuZ2xlIC0gMC41ICogTWF0aC5QSSxcbiAgICAgICAgdGhpcy5lbmRBbmdsZSArIGN1cnJlbnRBbmdsZSAtIDAuNSAqIE1hdGguUElcbiAgICAgICk7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICBjb25zdCBiZXRhID0gdGhpcy5lbmRBbmdsZSArIGN1cnJlbnRBbmdsZSAvIDI7XG5cbiAgICAgIC8vIGZvcm1hdCBvZiB0ZXh0XG4gICAgICBpZiAoZHJhd1RleHQpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZGFya2VuSGV4Q29sb3IoXG4gICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlLFxuICAgICAgICAgIHByb3AuZm9udENvbG9yRmFjdG9yXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jdHguZm9udCA9IHByb3AuZm9udFNpemUgKyBcInB4IFwiICsgcHJvcC5mb250RmFtaWx5O1xuXG4gICAgICAgIGxldCB0eHQ6IHN0cmluZztcbiAgICAgICAgaWYgKHByb3Aucm91bmQpIHtcbiAgICAgICAgICB0eHQgPSBgJHtNYXRoLnJvdW5kKHZhbHVlKX0lYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0eHQgPSBgJHt2YWx1ZX0kYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0ZXh0IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHQgPSB0eHQubGVuZ3RoICogMTU7XG4gICAgICAgIGNvbnN0IGggPSAxNTtcblxuICAgICAgICBjb25zdCBBYnMgPSB0aGlzLnIgLSA1MDtcbiAgICAgICAgY29uc3QgVHggPVxuICAgICAgICAgIHRoaXMueCArIChNYXRoLnNpbihiZXRhKSAqIEFicyArICh0IC8gMikgKiAoTWF0aC5zaW4oYmV0YSkgLSAxKSk7XG4gICAgICAgIGNvbnN0IFR5ID1cbiAgICAgICAgICB0aGlzLnkgLSAoTWF0aC5jb3MoYmV0YSkgKiBBYnMgKyAoaCAvIDIpICogKE1hdGguY29zKGJldGEpIC0gMSkpO1xuXG4gICAgICAgIC8vIGRyYXcgdGV4dFxuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dCh0eHQsIFR4LCBUeSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW5kQW5nbGUgKz0gY3VycmVudEFuZ2xlO1xuICAgIH1cbiAgfVxuICBcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cblxufSIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJldmVudHNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENoYXQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHB1YmxpYyBjaGFubmVsOiBzdHJpbmdcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIFwibWVzc2FnZVwiIGV2ZW50IGJ1c1xuICAgKiBBcmdzOlxuICAgKi9cbiAgcHVibGljIG9uTWVzc2FnZShcbiAgICBsaXN0ZW5lcjogKHVzZXJuYW1lOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZFxuICApOiB2b2lkIHtcbiAgICB0aGlzLm9uKFwibWVzc2FnZVwiLCBsaXN0ZW5lcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgZW1pdE1lc3NhZ2UodXNlcm5hbWU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5lbWl0KFwibWVzc2FnZVwiLCB1c2VybmFtZSwgbWVzc2FnZSk7XG4gIH1cblxufSIsImltcG9ydCB7IENoYXQgfSBmcm9tIFwiLi9jaGF0XCI7XG5pbXBvcnQgeyBBY3Rpb25zLCBDaGF0VXNlcnN0YXRlLCBDbGllbnQsIENsaWVudEJhc2UgfSBmcm9tIFwidG1pLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUd2l0Y2hDaGF0IGV4dGVuZHMgQ2hhdCB7XG4gIC8qKlxuICAgKiB0bWkuanMgY2xpZW50XG4gICAqL1xuICBwdWJsaWMgY2xpZW50OiBDbGllbnRCYXNlICYgQWN0aW9ucztcblxuICBjb25zdHJ1Y3RvcihjaGFubmVsOiBzdHJpbmcpIHtcbiAgICBzdXBlcihjaGFubmVsKTtcblxuICAgIC8vIGNyZWF0ZSBjbGllbnRcbiAgICB0aGlzLmNsaWVudCA9IENsaWVudCh7XG4gICAgICBjb25uZWN0aW9uOiB7XG4gICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgcmVjb25uZWN0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGNoYW5uZWxzOiBbdGhpcy5jaGFubmVsXSxcbiAgICB9KTtcblxuICAgIC8vIGRlYnVnXG4gICAgY29uc29sZS5sb2coXCJbQ2hhdF0gQ29ubmVjdGluZyB0byBjaGFubmVsOiBcIiArIGNoYW5uZWwpO1xuICAgIHRoaXMuY2xpZW50LmNvbm5lY3QoKTtcbiAgICBjb25zb2xlLmxvZyhcIltDaGF0XSBDb25uZWN0ZWQhXCIpO1xuXG4gICAgLy8gZXZlbnRzXG4gICAgdGhpcy5jbGllbnQub24oXG4gICAgICBcIm1lc3NhZ2VcIixcbiAgICAgIChjOiBzdHJpbmcsIHU6IENoYXRVc2Vyc3RhdGUsIG1lc3NhZ2U6IHN0cmluZywgczogYm9vbGVhbikgPT4ge1xuICAgICAgICB0aGlzLmVtaXRNZXNzYWdlKHUudXNlcm5hbWUsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn0iLCIvLyBjb2xvcnMgZm9yIHRoZSBjaGFydHNcbi8vIHRha2VuIGZyb206IGh0dHBzOi8vZmxhdHVpY29sb3JzLmNvbS9cbmNvbnN0IGNvbG9yczogQXJyYXk8c3RyaW5nPiA9IFtcbiAgXCIjMzQ5OGRiXCIsXG4gIFwiI2YxYzQwZlwiLFxuICBcIiNlNzRjM2NcIixcbiAgXCIjMzQ5OGRiXCIsXG4gIFwiIzJlY2M3MVwiLFxuICBcIiMxYWJjOWNcIixcbiAgXCIjOWI1OWI2XCIsXG4gIFwiI2YxYzQwZlwiLFxuICBcIiNlNjdlMjJcIixcbiAgXCIjZTc0YzNjXCIsXG4gIFwiI2VjZjBmMVwiLFxuXTtcbi8vIGV4cG9ydCBjb2xvcnNcbmV4cG9ydCB7IGNvbG9ycyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gUkdCMkhleChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBsZWFkaW5nSGFzaDogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xuICBjb25zdCByZ2I6IG51bWJlciA9ICgociA8PCAxNikgfCAoZyA8PCA4KSB8IGIpICYgMHhmZmZmZmY7XG4gIGNvbnN0IGhleCA9IHJnYi50b1N0cmluZygxNik7XG4gIHJldHVybiAobGVhZGluZ0hhc2ggPyBcIiNcIiA6IFwiXCIpICsgaGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGV4MlJHQihoZXg6IHN0cmluZyk6IEFycmF5PG51bWJlcj4ge1xuICBpZiAoaGV4LnN0YXJ0c1dpdGgoXCIjXCIpKSB7XG4gICAgaGV4ID0gaGV4LnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIGNvbnN0IHJnYjogbnVtYmVyID0gcGFyc2VJbnQoaGV4LCAxNik7XG5cbiAgcmV0dXJuIFtcbiAgICAvKiBSICovIChyZ2IgPj4gMTYpICYgMHhmZixcbiAgICAvKiBHICovIChyZ2IgPj4gOCkgJiAweGZmLFxuICAgIC8qIEIgKi8gcmdiICYgMHhmZixcbiAgXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhcmtlblJHQkNvbG9yKFxuICByOiBudW1iZXIsXG4gIGc6IG51bWJlcixcbiAgYjogbnVtYmVyLFxuICBtcDogbnVtYmVyXG4pOiBzdHJpbmcge1xuICByID0gTWF0aC5tYXgoMCwgciAqIG1wKTtcbiAgZyA9IE1hdGgubWF4KDAsIGcgKiBtcCk7XG4gIGIgPSBNYXRoLm1heCgwLCBiICogbXApO1xuICByZXR1cm4gUkdCMkhleChyLCBnLCBiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhcmtlbkhleENvbG9yKGhleDogc3RyaW5nLCBtcDogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgcmdiID0gSGV4MlJHQihoZXgpO1xuICBjb25zdCBoZXgyID0gZGFya2VuUkdCQ29sb3IocmdiWzBdLCByZ2JbMV0sIHJnYlsyXSwgbXApO1xuICByZXR1cm4gaGV4Mjtcbn1cbiIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJldmVudHNcIjtcblxuZXhwb3J0IGNsYXNzIEpvYiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIHByaXZhdGUgdGltZXI6IG51bWJlciB8IG51bGw7XG5cbiAgcHJpdmF0ZSBjdXJyZW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGN1cnJlbnRQaW5nOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0aW1lb3V0OiBudW1iZXIgPSAxMCwgLy8gaW4gc1xuICAgIHB1YmxpYyByZXF1aXJlZFBpbmdzID0gMVxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaW50ZXJuYWwgbWV0aG9kIGlzIGV4ZWN1dGVkIGV2ZXJ5IHNlY29uZCBhcyBsb25nIGFzIHRoZSB0aW1lciBpcyBydW5uaW5nLlxuICAgKi9cbiAgcHJpdmF0ZSBvblRpbWUoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50Kys7XG4gICAgaWYgKHRoaXMuY3VycmVudCA+PSB0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgICB0aGlzLmVtaXQoXCJjYW5jZWxcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHBpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50UGluZysrO1xuICAgIGlmICh0aGlzLmN1cnJlbnRQaW5nIDwgdGhpcy5yZXF1aXJlZFBpbmdzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICB0aGlzLmN1cnJlbnRQaW5nID0gMDtcblxuICAgIGlmICh0aGlzLnRpbWVyID09IG51bGwpIHtcbiAgICAgIHRoaXMudGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5vblRpbWUoKSwgMTAwMCk7XG4gICAgICB0aGlzLmVtaXQoXCJzdGFydFwiKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RvcFRpbWVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgdmFsdWVzXG4gICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICB0aGlzLmN1cnJlbnRQaW5nID0gMDtcbiAgfVxuXG4gIHB1YmxpYyBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aW1lciAhPSBudWxsO1xuICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIFJlYWN0aW9uIHtcbiAgc29ydGluZzogbnVtYmVyO1xuICBkaXNwbGF5OiBzdHJpbmc7XG4gIGtleXdvcmRzOiBzdHJpbmdbXTtcbn1cblxuY29uc3QgcmVhY3Rpb25zOiBSZWFjdGlvbltdID0gW1xuICB7XG4gICAgc29ydGluZzogMCxcbiAgICBkaXNwbGF5OiBcIisxXCIsXG4gICAga2V5d29yZHM6IFtcIisxXCIsIFwiMVwiLCBcInllc1wiLCBcInllXCIsIFwiamFcIl0sXG4gIH0sXG4gIHtcbiAgICBzb3J0aW5nOiAyLFxuICAgIGRpc3BsYXk6IFwiflwiLFxuICAgIGtleXdvcmRzOiBbXCIyXCIsIFwid3RmXCJdLFxuICB9LFxuICB7XG4gICAgc29ydGluZzogMyxcbiAgICBkaXNwbGF5OiBcIi0xXCIsXG4gICAga2V5d29yZHM6IFtcIi0xXCIsIFwiMFwiLCBcIm5vXCIsIFwibmVpblwiXSxcbiAgfSxcbl07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIHRoZSBtZXNzYWdlIGNvbnRhaW5zIGEga2V5d29yZCBvZiBhIHJlYWN0aW9uIGFuZCByZXR1cm5zIGl0IGlmIG9uZSB3YXMgZm91bmQuIFxuICogT3RoZXJ3aXNlIG51bGxcbiAqIFxuICogQHBhcmFtIGtleXdvcmQgS2V5d29yZCB0byBjaGVja1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhY3Rpb25CeUtleXdvcmQoa2V5d29yZDogc3RyaW5nKTogUmVhY3Rpb24gfCBudWxsIHtcbiAga2V5d29yZCA9IGtleXdvcmQudG9Mb3dlckNhc2UoKTtcblxuICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgcmVhY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVhY3Rpb246IFJlYWN0aW9uID0gcmVhY3Rpb25zW2ldO1xuICAgIGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCByZWFjdGlvbi5rZXl3b3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHJlYWN0aW9uLmtleXdvcmRzW2pdID09IGtleXdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyByZWFjdGlvbnMgfTsiLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5pbXBvcnQgeyBDaGFydCB9IGZyb20gXCIuL2NoYXJ0cy9jaGFydFwiO1xuaW1wb3J0IHsgQ2hhdCB9IGZyb20gXCIuL2NoYXRzL2NoYXRcIjtcbmltcG9ydCB7IEpvYiB9IGZyb20gXCIuL2pvYlwiO1xuaW1wb3J0IHsgZ2V0UmVhY3Rpb25CeUtleXdvcmQsIFJlYWN0aW9uLCByZWFjdGlvbnMgfSBmcm9tIFwiLi9rZXl3b3Jkc1wiO1xuXG5leHBvcnQgZW51bSBVcGRhdGVNb2RlIHtcbiAgSU5DUkVNRU5UID0gMSxcbiAgREVDUkVNRU5UID0gLTEsXG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBzdG9yZXMgdGhlIHJlYWN0aW9uIGNvdW50cyB0ZW1wb3JhcmlseS5cbiAqIEl0IHdhaXRzIGZvciBpbmNvbWluZyBtZXNzYWdlcyBvZiB0aGUgY2hhdCB7Q2hhdCNvbk1lc3NhZ2V9IGFuZCBjaGVja3MgdGhlbSBmb3IgcmVhY3Rpb25zLlxuICogSWYgYSByZWFjdGlvbiB3YXMgZm91bmQsIGl0IGlzIGNvdW50ZWQgYW5kIHRoZSBqb2IgaXMgbm90aWZpZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFjdGlvblN0b3JhZ2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIHVzZXJzOiBNYXA8c3RyaW5nLCBSZWFjdGlvbj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhY3Rpb25zOiBNYXA8UmVhY3Rpb24sIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGNoYXQ6IENoYXQsXG4gICAgcHVibGljIGpvYjogSm9iLFxuICAgIHB1YmxpYyBkdXBsaWNhdGlvbkNoZWNraW5nOiBib29sZWFuID0gdHJ1ZVxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5jaGF0Lm9uTWVzc2FnZSgodXNlcm5hbWU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLm9uTWVzc2FnZSh1c2VybmFtZSwgbWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgbWV0aG9kLCB3aGljaCBpcyBjYWxsZWQgYXMgc29vbiBhcyBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VybmFtZSBVc2VybmFtZSBvZiBzZW5kZXJcbiAgICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSBhcyB0ZXh0XG4gICAqL1xuICBwcml2YXRlIG9uTWVzc2FnZSh1c2VybmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAvLyBjaGVjayBpZiB0aGUgdXNlcm5hbWUgd2FzIG51bGxcbiAgICAvLyB3ZSBuZWVkIGEgdXNlcm5hbWUgZm9yIGR1cGxpY2F0aW9uIGNoZWNraW5nXG4gICAgaWYgKHVzZXJuYW1lID09IG51bGwgfHwgbWVzc2FnZSA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltTdG9yYWdlXVwiLCBcIk51bGw6XCIsIHVzZXJuYW1lLCBcIm9yXCIsIG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCByZWFjdGlvbnMgZnJvbSBtZXNzYWdlXG4gICAgY29uc3QgcmVhY3Rpb246IFJlYWN0aW9uID0gZ2V0UmVhY3Rpb25CeUtleXdvcmQobWVzc2FnZSk7XG4gICAgLy8gbm8gcmVhY3Rpb24gZm91bmRcbiAgICBpZiAocmVhY3Rpb24gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHBpbmcgam9iXG4gICAgdGhpcy5qb2IucGluZygpO1xuXG4gICAgLy8gcmVhY3QgdG8gcmVhY3Rpb25cbiAgICB0aGlzLnJlYWN0KHVzZXJuYW1lLCByZWFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJlYWN0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gcmVhY3Rpb24gTnVtYmVyIG9mIHJlYWN0aW9uc1xuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBwdWJsaWMgZ2V0UmVhY3Rpb24ocmVhY3Rpb246IFJlYWN0aW9uKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdGlvbnMuZ2V0KHJlYWN0aW9uKSA/PyAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIG51bWJlciBvZiBhIHJlYWN0aW9uLlxuICAgKlxuICAgKiBJZiBJTkNSRU1FTlQgd2FzIHNwZWNpZmllZCBpbiB7bW9kZX0sIHRoZSBudW1iZXIgb2YgcmVhY3Rpb25zIGlzIGluY3JlYXNlZCBieSAxLlxuICAgKiBJZiBERUNSRU1FTlQgaXMgc3BlY2lmaWVkLCB0aGUgbnVtYmVyIGlzIGRlY3JlYXNlZCBieSAxLlxuICAgKlxuICAgKiBAcGFyYW0gcmVhY3Rpb24gUmVhY3Rpb25cbiAgICogQHBhcmFtIG1vZGUgVXBkYXRlTW9kZTogSU5DUkVNRU5UIG9yIERFQ1JFTUVOVFxuICAgKi9cbiAgcHVibGljIHVwZGF0ZVJlYWN0aW9uKHJlYWN0aW9uOiBSZWFjdGlvbiwgbW9kZTogVXBkYXRlTW9kZSk6IG51bWJlciB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5nZXRSZWFjdGlvbihyZWFjdGlvbik7XG5cbiAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgVXBkYXRlTW9kZS5JTkNSRU1FTlQ6XG4gICAgICAgIHZhbHVlKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBVcGRhdGVNb2RlLkRFQ1JFTUVOVDpcbiAgICAgICAgdmFsdWUtLTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5yZWFjdGlvbnMuc2V0KHJlYWN0aW9uLCB2YWx1ZSk7XG5cbiAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgcmVhY3Rpb24sIHZhbHVlLCBtb2RlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIGhhcyByZXNwb25kZWQuIEFtb25nIG90aGVyIHRoaW5ncywgaXQgY2hlY2tzIHdoZXRoZXIgdGhlIHVzZXIgaGFzIGFscmVhZHkgdm90ZWQuXG4gICAqXG4gICAqIElmIGhlIGhhcyBhbHJlYWR5IHZvdGVkIHdpdGggdGhlIHNhbWUgcmVhY3Rpb24sIG5vdGhpbmcgZnVydGhlciBpcyBkb25lLlxuICAgKiBJZiBoZSBoYXMgdm90ZWQgd2l0aCBhbm90aGVyIHJlYWN0aW9uLCB0aGlzIGlzIHN1YnRyYWN0ZWQgYW5kIGFkZGVkIHRvIHRoZSBuZXcgcmVhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VybmFtZSBSZWFjdG9yJ3MgdXNlcm5hbWVcbiAgICogQHBhcmFtIHJlYWN0aW9uIFJlYWN0aW9uXG4gICAqL1xuICBwdWJsaWMgcmVhY3QodXNlcm5hbWU6IHN0cmluZywgcmVhY3Rpb246IFJlYWN0aW9uKSB7XG4gICAgLy8gY2hlY2sgZm9yIGR1cGxpY2F0ZXM/XG4gICAgaWYgKHRoaXMuZHVwbGljYXRpb25DaGVja2luZyA9PSB0cnVlKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGUgdXNlciBoYWQgYW55IHByZXZpb3VzIHJlYWN0aW9uc1xuICAgICAgaWYgKHRoaXMudXNlcnMuaGFzKHVzZXJuYW1lKSkge1xuICAgICAgICBjb25zdCBvbGRSZWFjdGlvbjogUmVhY3Rpb24gPSB0aGlzLnVzZXJzLmdldCh1c2VybmFtZSk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHJlYWN0aW9ucyBhcmUgdGhlIHNhbWUsIGlnbm9yZSByZWFjdGlvblxuICAgICAgICBpZiAob2xkUmVhY3Rpb24gPT0gcmVhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdGhlcndpc2U6IGRlY3JlbWVudCAxIGZyb20gdGhlIG9sZCByZWFjdGlvblxuICAgICAgICB0aGlzLnVwZGF0ZVJlYWN0aW9uKG9sZFJlYWN0aW9uLCBVcGRhdGVNb2RlLkRFQ1JFTUVOVCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxpbmsgdG8gdXNlcm5hbWVcbiAgICAgIHRoaXMudXNlcnMuc2V0KHVzZXJuYW1lLCByZWFjdGlvbik7XG4gICAgfVxuXG4gICAgLy8gaW5jcmVtZW50IHJlYWN0aW9uXG4gICAgdGhpcy51cGRhdGVSZWFjdGlvbihyZWFjdGlvbiwgVXBkYXRlTW9kZS5JTkNSRU1FTlQpO1xuXG4gICAgLy8gZW1pdCB1cGRhdGVcbiAgICB0aGlzLmVtaXQoXCJyZWFjdGlvblwiLCB1c2VybmFtZSwgcmVhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbGwgc3RvcmVkIHJlYWN0aW9uIGNvdW50c1xuICAgKi9cbiAgcHVibGljIHJlc2V0U3RvcmFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLnVzZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5yZWFjdGlvbnMuY2xlYXIoKTtcblxuICAgIGNvbnNvbGUubG9nKFwiW1N0b3JhZ2VdXCIsIFwiUmVzZXQgdXNlcnMgYW5kIHJlYWN0aW9ucyFcIik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWVzIG9mIHRoZSByZWFjdGlvbnMgaW4gdGhlIG9yZGVyIGdpdmVuIGZvciB0aGUgcmVhY3Rpb25zIHVuZGVyIHRoZSB7UmVhY3Rpb24uc29ydH0gXCJzb3J0aW5nXCIgbnVtYmVyIChhc2NlbmRpbmcpLlxuICAgKiBJZiB0aGVyZSB3YXMgbm8gcmVhY3Rpb24sIDAgaXMgcmV0dXJuZWQuXG4gICAqIEJ1dCB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSBpcyBhbHdheXMgdGhlIGxlbmd0aCBvZiB7cmVhY3Rpb25zfVxuICAgKlxuICAgKiBAcmV0dXJucyBWYWx1ZXMgb2YgdGhlIHJlYWN0aW9uc1xuICAgKi9cbiAgcHVibGljIGdldFZhbHVlcygpOiBudW1iZXJbXSB7XG4gICAgY29uc3Qga2V5czogbnVtYmVyW10gPSBbXTtcbiAgICBjb25zdCBtYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgICAvLyBjb2xsZWN0IHJlYWN0aW9uc1xuICAgIHJlYWN0aW9ucy5mb3JFYWNoKChyZWFjdGlvbjogUmVhY3Rpb24pID0+IHtcbiAgICAgIG1hcC5zZXQocmVhY3Rpb24uc29ydGluZywgdGhpcy5nZXRSZWFjdGlvbihyZWFjdGlvbikpO1xuICAgICAga2V5cy5wdXNoKHJlYWN0aW9uLnNvcnRpbmcpO1xuICAgIH0pO1xuXG4gICAgLy8gVG9EbzogUmV3b3JrIG15IHNoaXR0eSBzb3J0aW5nXG4gICAgLy8gb3IgZXZlbiBiZXR0ZXI6IHJld29yayB0aGlzIHdob2xlIG1ldGhvZFxuICAgIC8vIG9yIGV2ZW50IGJldHRlciBiZXR0ZXIgYmV0dGVyOiByZXdvcmsgdGhpcyB3aG9sZSBwcm9qZWN0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGkgPT0gaikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYSA9IGtleXNbaV07XG4gICAgICAgIGNvbnN0IGIgPSBrZXlzW2pdO1xuXG4gICAgICAgIGlmIChhIDwgYikge1xuICAgICAgICAgIGtleXNbaV0gPSBiO1xuICAgICAgICAgIGtleXNbal0gPSBhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzLnB1c2gobWFwLmdldChrZXlzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIGNoYXJ0IHdpdGggdGhlIHZhbHVlc1xuICAgKiBAcGFyYW0gY2hhcnQgQ2hhcnRcbiAgICovXG4gIHB1YmxpYyBkcmF3Q2hhcnQoY2hhcnQ6IENoYXJ0KSB7XG4gICAgY29uc3QgdmFsdWVzOiBudW1iZXJbXSA9IHRoaXMuZ2V0VmFsdWVzKCk7XG4gICAgY2hhcnQuZHJhdyh2YWx1ZXMsIHRydWUsIHRydWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=