(()=>{var e={982:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(15),n=s.n(i),o=s(645),r=s.n(o)()(n());r.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=e(t);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);i&&n[c[0]]||(s&&(c[2]?c[2]="".concat(s," and ").concat(c[2]):c[2]=s),t.push(c))}},t}},15:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}e.exports=function(e){var s,i,n=(i=4,function(e){if(Array.isArray(e))return e}(s=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],i=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}return s}}(s,i)||function(e,s){if(e){if("string"==typeof e)return t(e,s);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,s):void 0}}(s,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[1],r=n[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([h]).join("\n")}return[o].join("\n")}},187:e=>{"use strict";var t,s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(s,i){function n(){void 0!==o&&e.removeListener("error",o),s([].slice.call(arguments))}var o;"error"!==t&&(o=function(s){e.removeListener(t,n),i(s)},e.once("error",o)),e.once(t,n)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var r=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,s,i){var n,o,r,h;if(a(s),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),o=e._events),r=o[t]),void 0===r)r=o[t]=s,++e._eventsCount;else if("function"==typeof r?r=o[t]=i?[s,r]:[r,s]:i?r.unshift(s):r.push(s),(n=c(e))>0&&r.length>n&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,h=l,console&&console.warn&&console.warn(h)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,s){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},n=l.bind(i);return n.listener=s,i.wrapFn=n,n}function m(e,t,s){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?s?[n.listener||n]:[n]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(n):p(n,n.length)}function f(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function p(e,t){for(var s=new Array(t),i=0;i<t;++i)s[i]=e[i];return s}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");r=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var h=c.length,l=p(c,h);for(s=0;s<h;++s)i(l[s],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var s,i,n,o,r;if(a(t),void 0===(i=this._events))return this;if(void 0===(s=i[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(n=-1,o=s.length-1;o>=0;o--)if(s[o]===t||s[o].listener===t){r=s[o].listener,n=o;break}if(n<0)return this;0===n?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,n),1===s.length&&(i[e]=s[0]),void 0!==i.removeListener&&this.emit("removeListener",e,r||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,s,i;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var n,o=Object.keys(s);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},379:(e,t,s)=>{"use strict";var i,n=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),o=[];function r(e){for(var t=-1,s=0;s<o.length;s++)if(o[s].identifier===e){t=s;break}return t}function a(e,t){for(var s={},i=[],n=0;n<e.length;n++){var a=e[n],c=t.base?a[0]+t.base:a[0],h=s[c]||0,l="".concat(c," ").concat(h);s[c]=h+1;var u=r(l),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:l,updater:d(m,t),references:1}),i.push(l)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=s.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=n(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,l=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function u(e,t,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function m(e,t,s){var i=s.css,n=s.media,o=s.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,p=0;function d(e,t){var s,i,n;if(t.singleton){var o=p++;s=f||(f=c(t)),i=u.bind(null,s,o,!1),n=u.bind(null,s,o,!0)}else s=c(t),i=m.bind(null,s,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var s=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<s.length;i++){var n=r(s[i]);o[n].references--}for(var c=a(e,t),h=0;h<s.length;h++){var l=r(s[h]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}s=c}}}},993:(e,t,s)=>{e.exports={client:s(839),Client:s(839)}},681:(e,t,s)=>{var i=s(887),n=s(49);e.exports=function(e,t){var s=null===n.get(e.url,null)?n.get(e.uri,null):n.get(e.url,null);if(n.isURL(s)||(s="https://api.twitch.tv/kraken"+("/"===s[0]?s:`/${s}`)),n.isNode())i(n.merge({method:"GET",json:!0},e,{url:s}),t);else if(n.isExtension()||n.isReactNative()){e=n.merge({url:s,method:"GET",headers:{}},e);var o=new XMLHttpRequest;for(var r in o.open(e.method,e.url,!0),e.headers)o.setRequestHeader(r,e.headers[r]);o.responseType="json",o.addEventListener("load",(e=>{4==o.readyState&&(200!=o.status?t(o.status,null,null):t(null,null,o.response))})),o.send()}else{var a=`jsonp_callback_${Math.round(1e5*Math.random())}`;window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=`${s}${s.includes("?")?"&":"?"}callback=${a}`,document.body.appendChild(c)}}},839:(e,t,s)=>{var i=s(681),n=s(641),o=s(378).EventEmitter,r=s(352),a=s(549),c=s(776),h=s.g.WebSocket||s.g.MozWebSocket||s(418),l=s(49),u=function e(t){if(this instanceof e==0)return new e(t);this.setMaxListeners(0),this.opts=l.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=l.get(this.opts.options.clientId,null),this.maxReconnectAttempts=l.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=l.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=l.get(this.opts.connection.reconnect,!1),this.reconnectDecay=l.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=l.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=l.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var s="error";this.opts.options.debug&&(s="info"),this.log=this.opts.logger||r;try{r.setLevel(s)}catch(e){}this.opts.channels.forEach((function(e,t,s){s[t]=l.channel(e)})),o.call(this)};for(var m in l.inherits(u,o),u.prototype.api=i,n)u.prototype[m]=n[m];u.prototype.handleMessage=function(e){if(!l.isNull(e)){this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);var t=l.channel(l.get(e.params[0],null)),s=l.get(e.params[1],null),i=l.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.badgeInfo(a.emotes(e.tags))),e.tags){var n=e.tags;for(var o in n)if("emote-sets"!==o&&"ban-duration"!==o&&"bits"!==o){var r=n[o];l.isBoolean(r)?r=null:"1"===r?r=!0:"0"===r?r=!1:l.isString(r)&&(r=l.unescapeIRC(r)),n[o]=r}}if(l.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PONG");break;case"PONG":var h=new Date;this.currentLatency=(h.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(e,null,4)}`)}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#tmijs"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout((()=>{l.isNull(this.ws)||(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),l.get(this.opts.connection.timeout,9999))}),6e4);var u=new c.queue(2e3),m=l.union(this.opts.channels,this.channels);this.channels=[];for(var f=0;f<m.length;f++){let e=m[f];u.add((()=>{l.isNull(this.ws)||1!==this.ws.readyState||this.join(e).catch((e=>{this.log.error(e)}))}))}u.run();break;case"NOTICE":var p=[null],d=[t,i,s],g=[t,!0],_=[t,!1],v=[d,p],b=[d,[i]],y=`[${t}] ${s}`;switch(i){case"subs_on":this.log.info(`[${t}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[g,g,p]);break;case"subs_off":this.log.info(`[${t}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[_,_,p]);break;case"emote_only_on":this.log.info(`[${t}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[g,p]);break;case"emote_only_off":this.log.info(`[${t}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[_,p]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${t}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[g,g,p]);break;case"r9k_off":this.log.info(`[${t}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[_,_,p]);break;case"room_mods":var w=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseMods","mods"],[[null,w],[t,w]]);break;case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[t,[]]]);break;case"vips_success":s.endsWith(".")&&(s=s.slice(0,-1));var C=s.split(": ")[1].toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseVips","vips"],[[null,C],[t,C]]);break;case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[t,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(y),this.emits(["notice","_promiseBan"],b);break;case"ban_success":this.log.info(y),this.emits(["notice","_promiseBan"],v);break;case"usage_clear":this.log.info(y),this.emits(["notice","_promiseClear"],b);break;case"usage_mods":this.log.info(y),this.emits(["notice","_promiseMods"],[d,[i,[]]]);break;case"mod_success":this.log.info(y),this.emits(["notice","_promiseMod"],v);break;case"usage_vips":this.log.info(y),this.emits(["notice","_promiseVips"],[d,[i,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":this.log.info(y),this.emits(["notice","_promiseVip"],[d,[i,[]]]);break;case"vip_success":this.log.info(y),this.emits(["notice","_promiseVip"],v);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(y),this.emits(["notice","_promiseMod"],b);break;case"unmod_success":this.log.info(y),this.emits(["notice","_promiseUnmod"],v);break;case"unvip_success":this.log.info(y),this.emits(["notice","_promiseUnvip"],v);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(y),this.emits(["notice","_promiseUnmod"],b);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(y),this.emits(["notice","_promiseUnvip"],b);break;case"color_changed":this.log.info(y),this.emits(["notice","_promiseColor"],v);break;case"usage_color":case"turbo_only_color":this.log.info(y),this.emits(["notice","_promiseColor"],b);break;case"commercial_success":this.log.info(y),this.emits(["notice","_promiseCommercial"],v);break;case"usage_commercial":case"bad_commercial_error":this.log.info(y),this.emits(["notice","_promiseCommercial"],b);break;case"hosts_remaining":this.log.info(y);var k=isNaN(s[0])?0:parseInt(s[0]);this.emits(["notice","_promiseHost"],[d,[null,~~k]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(y),this.emits(["notice","_promiseHost"],[d,[i,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(y),this.emits(["notice","_promiseR9kbeta"],b);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(y),this.emits(["notice","_promiseR9kbetaoff"],b);break;case"timeout_success":this.log.info(y),this.emits(["notice","_promiseTimeout"],v);break;case"delete_message_success":this.log.info(`[${t} ${s}]`),this.emits(["notice","_promiseDeletemessage"],v);case"already_subs_off":case"usage_subs_off":this.log.info(y),this.emits(["notice","_promiseSubscribersoff"],b);break;case"already_subs_on":case"usage_subs_on":this.log.info(y),this.emits(["notice","_promiseSubscribers"],b);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(y),this.emits(["notice","_promiseEmoteonlyoff"],b);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(y),this.emits(["notice","_promiseEmoteonly"],b);break;case"usage_slow_on":this.log.info(y),this.emits(["notice","_promiseSlow"],b);break;case"usage_slow_off":this.log.info(y),this.emits(["notice","_promiseSlowoff"],b);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(y),this.emits(["notice","_promiseTimeout"],b);break;case"untimeout_success":case"unban_success":this.log.info(y),this.emits(["notice","_promiseUnban"],v);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(y),this.emits(["notice","_promiseUnban"],b);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(y),this.emits(["notice","_promiseDeletemessage"],b);break;case"usage_unhost":case"not_hosting":this.log.info(y),this.emits(["notice","_promiseUnhost"],b);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info(y),this.emits(["notice","_promiseWhisper"],b);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":this.log.info(y),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],[d,[i,t]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(y),this.emit("automod",t,i,s);break;case"unrecognized_cmd":this.log.info(y),this.emit("notice",t,i,s);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info(y),this.emit("notice",t,i,s);break;case"host_on":case"host_off":break;default:s.includes("Login unsuccessful")||s.includes("Login authentication failed")||s.includes("Error logging in")||s.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=s,this.log.error(this.reason),this.ws.close()):s.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}break;case"USERNOTICE":var x=e.tags["display-name"]||e.tags.login,L=e.tags["msg-param-sub-plan"]||"",$=l.unescapeIRC(l.get(e.tags["msg-param-sub-plan-name"],""))||null,E={prime:L.includes("Prime"),plan:L,planName:$},P=e.tags,M=~~(e.tags["msg-param-streak-months"]||0),S=e.tags["msg-param-recipient-display-name"]||e.tags["msg-param-recipient-user-name"],T=~~e.tags["msg-param-mass-gift-count"];switch(P["message-type"]=i,i){case"resub":this.emits(["resub","subanniversary"],[[t,x,M,s,P,E]]);break;case"sub":this.emit("subscription",t,x,E,s,P);break;case"subgift":this.emit("subgift",t,x,M,S,E,P);break;case"anonsubgift":this.emit("anonsubgift",t,M,S,E,P);break;case"submysterygift":this.emit("submysterygift",t,x,T,E,P);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",t,T,E,P);break;case"primepaidupgrade":this.emit("primepaidupgrade",t,x,E,P);break;case"giftpaidupgrade":var O=e.tags["msg-param-sender-name"]||e.tags["msg-param-sender-login"];this.emit("giftpaidupgrade",t,x,O,P);break;case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",t,x,P);break;case"raid":x=e.tags["msg-param-displayName"]||e.tags["msg-param-login"];var N=e.tags["msg-param-viewerCount"];this.emit("raided",t,x,N)}break;case"HOSTTARGET":var I=s.split(" ");N=~~I[1]||0,"-"===I[0]?(this.log.info(`[${t}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[t,N],[null]])):(this.log.info(`[${t}] Now hosting ${I[0]} for ${N} viewer(s).`),this.emit("hosting",t,I[0],N));break;case"CLEARCHAT":if(e.params.length>1){var R=l.get(e.tags["ban-duration"],null);l.isNull(R)?(this.log.info(`[${t}] ${s} has been banned.`),this.emit("ban",t,s,null,e.tags)):(this.log.info(`[${t}] ${s} has been timed out for ${R} seconds.`),this.emit("timeout",t,s,null,~~R,e.tags))}else this.log.info(`[${t}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[t],[null]]);break;case"CLEARMSG":if(e.params.length>1){x=e.tags.login;var j=s;(P=e.tags)["message-type"]="messagedeleted",this.log.info(`[${t}] ${x}'s message has been deleted.`),this.emit("messagedeleted",t,x,j,P)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect(),setTimeout((()=>{this.connect()}),this.reconnectTimer);break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].includes(this.username)||this.moderators[this.lastJoined].push(this.username)),l.isJustinfan(this.getUsername())||this.userstate[t]||(this.userstate[t]=e.tags,this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,l.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[t]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(l.channel(this.lastJoined)===t&&this.emit("_promiseJoin",null,t),e.tags.channel=t,this.emit("roomstate",t,e.tags),!e.tags.hasOwnProperty("subs-only")){if(e.tags.hasOwnProperty("slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){var D=[t,!0,~~e.tags.slow];this.log.info(`[${t}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[D,D,[null]])}else{var A=[t,!1,0];this.log.info(`[${t}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[A,A,[null]])}e.tags.hasOwnProperty("followers-only")&&("-1"===e.tags["followers-only"]?(A=[t,!1,0],this.log.info(`[${t}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[A,A,[null]])):(D=[t,!0,~~e.tags["followers-only"]],this.log.info(`[${t}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[D,D,[null]])))}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===s?(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(e.params[2])||this.moderators[t].push(e.params[2]),this.emit("mod",t,e.params[2])):"-o"===s&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].filter((t=>t!=e.params[2])),this.emit("unmod",t,e.params[2]));break;default:this.log.warn(`Could not parse message from jtv:\n${JSON.stringify(e,null,4)}`)}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":var U=e.prefix.split("!")[0];l.isJustinfan(this.getUsername())&&this.username===U&&(this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,U,!0)),this.username!==U&&this.emit("join",t,U,!1);break;case"PART":var H,W=!1;U=e.prefix.split("!")[0],this.username===U&&(W=!0,this.userstate[t]&&delete this.userstate[t],-1!==(H=this.channels.indexOf(t))&&this.channels.splice(H,1),-1!==(H=this.opts.channels.indexOf(t))&&this.opts.channels.splice(H,1),this.log.info(`Left ${t}`),this.emit("_promisePart",null)),this.emit("part",t,U,W);break;case"WHISPER":U=e.prefix.split("!")[0],this.log.info(`[WHISPER] <${U}>: ${s}`),e.tags.hasOwnProperty("username")||(e.tags.username=U),e.tags["message-type"]="whisper";var J=l.channel(e.tags.username);this.emits(["whisper","message"],[[J,e.tags,s,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){var V=l.username(s.split(" ")[0]),F=s.includes("auto");if(s.includes("hosting you for")){var G=l.extractNumber(s);this.emit("hosted",t,V,G,F)}else s.includes("hosting you")&&this.emit("hosted",t,V,0,F)}else{var q=l.actionMessage(s);q?(e.tags["message-type"]="action",this.log.info(`[${t}] *<${e.tags.username}>: ${q[1]}`),this.emits(["action","message"],[[t,e.tags,q[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",t,e.tags,s):(e.tags["message-type"]="chat",this.log.info(`[${t}] <${e.tags.username}>: ${s}`),this.emits(["chat","message"],[[t,e.tags,s,!1]]))}break;default:this.log.warn(`Could not parse message:\n${JSON.stringify(e,null,4)}`)}}},u.prototype.connect=function(){return new Promise(((e,t)=>{this.server=l.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=l.get(this.opts.connection.port,80),this.secure&&(this.port=443),443===this.port&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",(s=>{s?t(s):e([this.server,~~this.port])}))}))},u.prototype._openConnection=function(){this.ws=new h(`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,"irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},u.prototype._onOpen=function(){l.isNull(this.ws)||1!==this.ws.readyState||(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=l.get(this.opts.identity.username,l.justinfan()),this.password=l.password(l.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send(`PASS ${this.password}`),this.ws.send(`NICK ${this.username}`))},u.prototype._onMessage=function(e){e.data.split("\r\n").forEach((e=>{l.isNull(e)||this.handleMessage(a.msg(e))}))},u.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=l.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer)),this.ws=null},u.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect()}),this.reconnectTimer))),this.ws=null},u.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},u.prototype._sendCommand=function(e,t,s,i){return new Promise(((n,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if("number"==typeof e&&l.promiseDelay(e).then((()=>{o("No response from Twitch.")})),l.isNull(t))this.log.info(`Executing command: ${s}`),this.ws.send(s);else{var r=l.channel(t);this.log.info(`[${r}] Executing command: ${s}`),this.ws.send(`PRIVMSG ${r} :${s}`)}i(n,o)}))},u.prototype._sendMessage=function(e,t,s,i){return new Promise(((n,o)=>{if(l.isNull(this.ws)||1!==this.ws.readyState)return o("Not connected to server.");if(l.isJustinfan(this.getUsername()))return o("Cannot send anonymous messages.");var r=l.channel(t);if(this.userstate[r]||(this.userstate[r]={}),s.length>=500){var c=l.splitLine(s,500);s=c[0],setTimeout((()=>{this._sendMessage(e,t,c[1],(()=>{}))}),350)}this.ws.send(`PRIVMSG ${r} :${s}`);var h={};Object.keys(this.emotesets).forEach((e=>{this.emotesets[e].forEach((function(e){if(l.isRegex(e.code))return a.emoteRegex(s,e.code,e.id,h);a.emoteString(s,e.code,e.id,h)}))}));var u=l.merge(this.userstate[r],a.emotes({emotes:a.transformEmotes(h)||null})),m=l.actionMessage(s);m?(u["message-type"]="action",this.log.info(`[${r}] *<${this.getUsername()}>: ${m[1]}`),this.emits(["action","message"],[[r,u,m[1],!0]])):(u["message-type"]="chat",this.log.info(`[${r}] <${this.getUsername()}>: ${s}`),this.emits(["chat","message"],[[r,u,s,!0]])),i(n,o)}))},u.prototype._updateEmoteset=function(e){this.emotes=e,this.api({url:`/chat/emoticon_images?emotesets=${e}`,headers:{Authorization:`OAuth ${l.password(l.get(this.opts.identity.password,"")).replace("oauth:","")}`,"Client-ID":this.clientId}},((t,s,i)=>{if(!t)return this.emotesets=i.emoticon_sets||{},this.emit("emotesets",e,this.emotesets);setTimeout((()=>{this._updateEmoteset(e)}),6e4)}))},u.prototype.getUsername=function(){return this.username},u.prototype.getOptions=function(){return this.opts},u.prototype.getChannels=function(){return this.channels},u.prototype.isMod=function(e,t){var s=l.channel(e);return this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].includes(l.username(t))},u.prototype.readyState=function(){return l.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},u.prototype.disconnect=function(){return new Promise(((e,t)=>{l.isNull(this.ws)||3===this.ws.readyState?(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),t("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",(()=>{e([this.server,~~this.port])})))}))},e.exports&&(e.exports=u),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=u,window.tmi.Client=u)},641:(e,t,s)=>{var i=s(49);function n(e,t){return e=i.channel(e),t=i.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/followers ${t}`,((s,i)=>{this.once("_promiseFollowers",(n=>{n?i(n):s([e,~~t])}))}))}function o(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/followersoff",((t,s)=>{this.once("_promiseFollowersoff",(i=>{i?s(i):t([e])}))}))}function r(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),null,`PART ${e}`,((t,s)=>{this.once("_promisePart",(i=>{i?s(i):t([e])}))}))}function a(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",((t,s)=>{this.once("_promiseR9kbeta",(i=>{i?s(i):t([e])}))}))}function c(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",((t,s)=>{this.once("_promiseR9kbetaoff",(i=>{i?s(i):t([e])}))}))}function h(e,t){return e=i.channel(e),t=i.get(t,300),this._sendCommand(this._getPromiseDelay(),e,`/slow ${t}`,((s,i)=>{this.once("_promiseSlow",(n=>{n?i(n):s([e,~~t])}))}))}function l(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",((t,s)=>{this.once("_promiseSlowoff",(i=>{i?s(i):t([e])}))}))}e.exports={action:function(e,t){return e=i.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,((s,i)=>{s([e,t])}))},ban:function(e,t,s){return e=i.channel(e),t=i.username(t),s=i.get(s,""),this._sendCommand(this._getPromiseDelay(),e,`/ban ${t} ${s}`,((i,n)=>{this.once("_promiseBan",(o=>{o?n(o):i([e,t,s])}))}))},clear:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",((t,s)=>{this.once("_promiseClear",(i=>{i?s(i):t([e])}))}))},color:function(e,t){return t=i.get(t,e),this._sendCommand(this._getPromiseDelay(),"#tmijs",`/color ${t}`,((e,s)=>{this.once("_promiseColor",(i=>{i?s(i):e([t])}))}))},commercial:function(e,t){return e=i.channel(e),t=i.get(t,30),this._sendCommand(this._getPromiseDelay(),e,`/commercial ${t}`,((s,i)=>{this.once("_promiseCommercial",(n=>{n?i(n):s([e,~~t])}))}))},deletemessage:function(e,t){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,`/delete ${t}`,((t,s)=>{this.once("_promiseDeletemessage",(i=>{i?s(i):t([e])}))}))},emoteonly:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",((t,s)=>{this.once("_promiseEmoteonly",(i=>{i?s(i):t([e])}))}))},emoteonlyoff:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",((t,s)=>{this.once("_promiseEmoteonlyoff",(i=>{i?s(i):t([e])}))}))},followersonly:n,followersmode:n,followersonlyoff:o,followersmodeoff:o,host:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(2e3,e,`/host ${t}`,((s,i)=>{this.once("_promiseHost",((n,o)=>{n?i(n):s([e,t,~~o])}))}))},join:function(e){return e=i.channel(e),this._sendCommand(null,null,`JOIN ${e}`,((t,s)=>{var n="_promiseJoin",o=!1,r=(a,c)=>{e===i.channel(c)&&(this.removeListener(n,r),o=!0,a?s(a):t([e]))};this.on(n,r);var a=this._getPromiseDelay();i.promiseDelay(a).then((()=>{o||this.emit(n,"No response from Twitch.",e)}))}))},mod:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(this._getPromiseDelay(),e,`/mod ${t}`,((s,i)=>{this.once("_promiseMod",(n=>{n?i(n):s([e,t])}))}))},mods:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",((t,s)=>{this.once("_promiseMods",((i,n)=>{i?s(i):(n.forEach((t=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(t)||this.moderators[e].push(t)})),t(n))}))}))},part:r,leave:r,ping:function(){return this._sendCommand(this._getPromiseDelay(),null,"PING",((e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),i.get(this.opts.connection.timeout,9999)),this.once("_promisePing",(t=>{e([parseFloat(t)])}))}))},r9kbeta:a,r9kmode:a,r9kbetaoff:c,r9kmodeoff:c,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,((t,s)=>{t([e])}))},say:function(e,t){return e=i.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,((s,i)=>{s([e,t])})):this._sendMessage(this._getPromiseDelay(),e,t,((s,i)=>{s([e,t])}))},slow:h,slowmode:h,slowoff:l,slowmodeoff:l,subscribers:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",((t,s)=>{this.once("_promiseSubscribers",(i=>{i?s(i):t([e])}))}))},subscribersoff:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",((t,s)=>{this.once("_promiseSubscribersoff",(i=>{i?s(i):t([e])}))}))},timeout:function(e,t,s,n){return e=i.channel(e),t=i.username(t),i.isNull(s)||i.isInteger(s)||(n=s,s=300),s=i.get(s,300),n=i.get(n,""),this._sendCommand(this._getPromiseDelay(),e,`/timeout ${t} ${s} ${n}`,((i,o)=>{this.once("_promiseTimeout",(r=>{r?o(r):i([e,t,~~s,n])}))}))},unban:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unban ${t}`,((s,i)=>{this.once("_promiseUnban",(n=>{n?i(n):s([e,t])}))}))},unhost:function(e){return e=i.channel(e),this._sendCommand(2e3,e,"/unhost",((t,s)=>{this.once("_promiseUnhost",(i=>{i?s(i):t([e])}))}))},unmod:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unmod ${t}`,((s,i)=>{this.once("_promiseUnmod",(n=>{n?i(n):s([e,t])}))}))},unvip:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(this._getPromiseDelay(),e,`/unvip ${t}`,((s,i)=>{this.once("_promiseUnvip",(n=>{n?i(n):s([e,t])}))}))},vip:function(e,t){return e=i.channel(e),t=i.username(t),this._sendCommand(this._getPromiseDelay(),e,`/vip ${t}`,((s,i)=>{this.once("_promiseVip",(n=>{n?i(n):s([e,t])}))}))},vips:function(e){return e=i.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/vips",((e,t)=>{this.once("_promiseVips",((s,i)=>{s?t(s):e(i)}))}))},whisper:function(e,t){return(e=i.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#tmijs",`/w ${e} ${t}`,((s,n)=>{var o=i.channel(e),r=i.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);this.emits(["whisper","message"],[[o,r,t,!0],[o,r,t,!0]]),s([e,t])}))}}},378:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function n(e){return void 0===e}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emits=function(e,t){for(var s=0;s<e.length;s++){var i=s<t.length?t[s]:t[t.length-1];this.emit.apply(this,[e[s]].concat(i))}},t.prototype.emit=function(e){var t,o,r,a,c,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n(o=this._events[e]))return!1;if(s(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),o.apply(this,a)}else if(i(o))for(a=Array.prototype.slice.call(arguments,1),r=(h=o.slice()).length,c=0;c<r;c++)h[c].apply(this,a);return!0},t.prototype.addListener=function(e,o){var r;if(!s(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(o.listener)?o.listener:o),this._events[e]?i(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,i(this._events[e])&&!this._events[e].warned&&(r=n(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var i=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var n=1,o=e;for(var r in this._events)this._events.hasOwnProperty(r)&&r.startsWith(o)&&n++;e+=n}function a(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,a),i||(i=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},t.prototype.removeListener=function(e,t){var n,o,r,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,o=-1,n===t||s(n.listener)&&n.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var c=e;for(var h in this._events)this._events.hasOwnProperty(h)&&h.startsWith(c)&&(isNaN(parseInt(h.substr(h.length-1)))||(this._events[e+parseInt(h.substr(h.length-1)-1)]=this._events[h],delete this._events[h]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(i(n)){for(a=r;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},352:(e,t,s)=>{var i=s(49),n="info",o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function r(e){return function(t){o[e]>=o[n]&&console.log(`[${i.formatDate(new Date)}] ${e}: ${t}`)}}e.exports={setLevel:function(e){n=e},trace:r("trace"),debug:r("debug"),info:r("info"),warn:r("warn"),error:r("error"),fatal:r("fatal")}},549:(e,t,s)=>{var i=s(49),n=/\S+/g;function o(e,t,s=",",n="/",o){var r=e[t];if(void 0===r)return e;var a=i.isString(r);if(e[t+"-raw"]=a?r:null,!0===r)return e[t]=null,e;if(e[t]={},a)for(var c=r.split(s),h=0;h<c.length;h++){var l=c[h].split(n),u=l[1];void 0!==o&&u&&(u=u.split(o)),e[t][l[0]]=u||null}return e}e.exports={badges:function(e){return o(e,"badges")},badgeInfo:function(e){return o(e,"badge-info")},emotes:function(e){return o(e,"emotes","/",":",",")},emoteRegex:function(e,t,s,o){n.lastIndex=0;for(var r,a=new RegExp("(\\b|^|s)"+i.unescapeHtml(t)+"(\\b|$|s)");null!==(r=n.exec(e));)a.test(r[0])&&(o[s]=o[s]||[],o[s].push([r.index,n.lastIndex-1]))},emoteString:function(e,t,s,o){var r;for(n.lastIndex=0;null!==(r=n.exec(e));)r[0]===i.unescapeHtml(t)&&(o[s]=o[s]||[],o[s].push([r.index,n.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach((s=>{t=`${t+s}:`,e[s].forEach((e=>{t=`${t+e.join("-")},`})),t=`${t.slice(0,-1)}/`})),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},s=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var n=e.slice(1,i).split(";"),o=0;o<n.length;o++){var r=n[o],a=r.split("=");t.tags[a[0]]=r.substring(r.indexOf("=")+1)||!0}s=i+1}for(;32===e.charCodeAt(s);)s++;if(58===e.charCodeAt(s)){if(-1===(i=e.indexOf(" ",s)))return null;for(t.prefix=e.slice(s+1,i),s=i+1;32===e.charCodeAt(s);)s++}if(-1===(i=e.indexOf(" ",s)))return e.length>s?(t.command=e.slice(s),t):null;for(t.command=e.slice(s,i),s=i+1;32===e.charCodeAt(s);)s++;for(;s<e.length;){if(i=e.indexOf(" ",s),58===e.charCodeAt(s)){t.params.push(e.slice(s+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(s));break}}else for(t.params.push(e.slice(s,i)),s=i+1;32===e.charCodeAt(s);)s++}return t}}},776:(e,t)=>{function s(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}s.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},s.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},s.prototype.next=function(){var e=this.index++,t=this.queue[e],s=this.queue[this.index];t&&(t.fn(),s&&setTimeout((()=>{this.next()}),s.delay||this.defaultDelay))},s.prototype.reset=function(){this.index=0},s.prototype.clear=function(){this.index=0,this.queue=[]},t.queue=s},49:e=>{var t=/^\u0001ACTION ([^\u0001]+)\u0001$/,s=/^(justinfan)(\d+$)/,i=/\\([sn:r\\])/g,n={s:" ",n:"",":":";",r:""},o=e.exports={get:(e,t)=>void 0===e?t:e,isBoolean:e=>"boolean"==typeof e,isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),isInteger:e=>!isNaN(o.toNumber(e,0)),isJustinfan:e=>s.test(e),isNull:e=>null===e,isRegex:e=>/[\|\\\^\$\*\+\?\:\#]/.test(e),isString:e=>"string"==typeof e,isURL:e=>RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e),justinfan:()=>`justinfan${Math.floor(8e4*Math.random()+1e3)}`,password:e=>["SCHMOOPIIE","",null].includes(e)?"SCHMOOPIIE":`oauth:${e.toLowerCase().replace("oauth:","")}`,promiseDelay:e=>new Promise((function(t){setTimeout(t,e)})),replaceAll:(e,t)=>{if(null==e)return null;for(var s in t)e=e.replace(new RegExp(s,"g"),t[s]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC:e=>e&&e.includes("\\")?e.replace(i,((e,t)=>t in n?n[t]:t)):e,actionMessage:e=>e.match(t),addWord:(e,t)=>e.length?e+" "+t:e+t,channel:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},extractNumber:e=>{for(var t=e.split(" "),s=0;s<t.length;s++)if(o.isInteger(t[s]))return~~t[s];return 0},formatDate:e=>{var t=e.getHours(),s=e.getMinutes();return`${t=(t<10?"0":"")+t}:${s=(s<10?"0":"")+s}`},inherits:(e,t)=>{e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e},isNode:()=>{try{return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}catch(e){}return!1},isExtension:()=>{try{return window.chrome&&chrome.runtime&&chrome.runtime.id}catch(e){}return!1},isReactNative:()=>{try{return navigator&&"ReactNative"==navigator.product}catch(e){}return!1},merge:Object.assign,splitLine:(e,t)=>{var s=e.substring(0,t).lastIndexOf(" ");return-1===s&&(s=t-1),[e.substring(0,s),e.substring(s+1)]},toNumber:(e,t)=>{if(null===e)return 0;var s=Math.pow(10,o.isFinite(t)?t:0);return Math.round(e*s)/s},union:(e,t)=>{for(var s={},i=[],n=0;n<e.length;n++)s[o=e[n]]||(s[o]=!0,i.push(o));for(n=0;n<t.length;n++){var o;s[o=t[n]]||(s[o]=!0,i.push(o))}return i},username:e=>{var t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t}}},887:()=>{},418:()=>{}},t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={id:i,exports:{}};return e[i](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(379),t=s.n(e),i=s(982);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var n=s(187),o=function(){function e(e,t){void 0===e&&(e=10),void 0===t&&(t=1),this.timeout=e,this.requiredPings=t,this.current=0,this.currentPing=0,this.ee=new n.EventEmitter}return e.prototype.time=function(){this.current++,this.current>=this.timeout&&(this.stopTimer(),this.ee.emit("cancel"))},e.prototype.ping=function(){var e=this;this.currentPing++,console.log("Current:",this.currentPing),this.currentPing<this.requiredPings||(this.current=0,this.currentPing=0,null==this.timer&&(this.timer=window.setInterval((function(){return e.time()}),1e3),this.ee.emit("start")))},e.prototype.stopTimer=function(){null!=this.timer&&(window.clearInterval(this.timer),this.timer=null),this.current=0,this.currentPing=0},e.prototype.on=function(e,t){this.ee.on(e,t)},e}(),r=s(993),a=[{sorting:0,display:"+1",keywords:["+1","1","yes","ye","ja"]},{sorting:2,display:"~",keywords:["2","wtf"]},{sorting:3,display:"-1",keywords:["-1","0","no","nein"]}],c=function(){function e(e,t){var s=this;this.channel=e,this.job=t,this.ee=new n.EventEmitter,this.reactionValues=new Map,this.client=(0,r.Client)({connection:{secure:!0,reconnect:!0},channels:[this.channel]}),console.log("[Chat] Connecting to channel: "+e),this.client.connect(),console.log("[Chat] Connected!"),this.client.on("message",(function(e,t,i,n){return s.onMessage(i)}))}return e.prototype.onMessage=function(e){if(this.ee.emit("message",e),"!reset"!=e){var t=function(e){e=e.toLowerCase();for(var t=0;t<a.length;t++)for(var s=a[t],i=0;i<s.keywords.length;i++)if(s.keywords[i]==e)return s;return null}(e);if(null!=t){console.log(t);var s=this.increment(t);console.log("  -> Reaction found:",t,s),this.ee.emit("reaction",t,s)}}else this.resetValues()},e.prototype.resetValues=function(){this.reactionValues.clear(),this.ee.emit("reset")},e.prototype.increment=function(e){var t=this.reactionValues.has(e)?this.reactionValues.get(e):0;return t++,this.reactionValues.set(e,t),this.ee.emit("increment",e,t),t},e.prototype.getValues=function(){var e=[],t=new Map;this.reactionValues.forEach((function(s,i){t.set(i.sorting,s),e.push(i.sorting)}));for(var s=0;s<e.length;s++)for(var i=0;i<e.length;i++)if(s!=i){var n=e[s],o=e[i];n<o&&(e[s]=o,e[i]=n)}var r=[];for(s=0;s<e.length;s++)r.push(t.get(e[s]));return r},e.prototype.on=function(e,t){this.ee.on(e,t)},e}();var h,l=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),u=function(){return(u=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},m={elementId:"",barMarginHeight:10,barMarginWidth:10,strokeMarginHeight:5,strokeMarginWidth:5,valueColors:["#3498db","#f1c40f","#e74c3c","#3498db","#2ecc71","#1abc9c","#9b59b6","#f1c40f","#e67e22","#e74c3c","#ecf0f1"],strokeColor:"#34495e",strokeIterations:1,fontSize:-1,fontFamily:"courier",fontSizeFactor:1.8,fontColorFactor:.65,textRound:!0},f=function(e){function t(t){var s=e.call(this,t)||this;return s.properties=t,s.properties=u(u({},m),s.properties),console.log(s.properties),s}return l(t,e),t.prototype.init=function(){},t.prototype.draw=function(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=!0),s&&this.clear();var i=this.properties,n=this.width-2*i.barMarginWidth,o=this.height-2*i.barMarginHeight,r=i.fontSize;-1===r&&(r=o*(2/3));var a,c,h,l=r/i.fontSizeFactor;this.ctx.font=Math.round(r)+"px "+i.fontFamily,this.ctx.strokeStyle=i.strokeColor;for(var u=0;u<i.strokeIterations;u++)this.ctx.beginPath(),this.ctx.rect(this.x+i.barMarginWidth-i.strokeMarginWidth-u,this.y+i.barMarginHeight-i.strokeMarginHeight-u,n+2*i.strokeMarginWidth+u,o+2*i.strokeMarginHeight+u),this.ctx.stroke(),this.ctx.closePath(),console.log(this.x+i.barMarginWidth-i.strokeMarginWidth-u,this.y+i.barMarginHeight-i.strokeMarginHeight-u,n+2*i.strokeMarginWidth+u,o+2*i.strokeMarginHeight+u);for(var m=e.reduce((function(e,t){return e+t})),f=i.barMarginWidth,p=0;p<e.length;p++){var d=e[p]/m,g=n*d;if(this.ctx.fillStyle=i.valueColors[p%i.valueColors.length],this.ctx.beginPath(),this.ctx.rect(this.x+f,this.y+i.barMarginHeight,g,o),this.ctx.fill(),this.ctx.closePath(),t){var _;_=i.textRound?Math.round(100*d)+"%":100*d+"%",this.ctx.beginPath(),this.ctx.fillStyle=(a=this.ctx.fillStyle,c=i.fontColorFactor,h=void 0,function(e,t,s,i){return function(e,t,s,i){return void 0===i&&(i=!0),(i?"#":"")+(16777215&(e<<16|t<<8|s)).toString(16)}(e=Math.max(0,e*i),t=Math.max(0,t*i),s=Math.max(0,s*i))}((h=function(e){e.startsWith("#")&&(e=e.substring(1));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}(a))[0],h[1],h[2],c)),this.ctx.fillText(_,this.x+f+g/2-l*_.length/2,this.y+i.barMarginHeight+o/2+l/2),this.ctx.closePath()}f+=g}},t.prototype.clear=function(){this.ctx.clearRect(this.x,this.y,this.width,this.height)},t}((function(e){var t,s,i,n,o,r;this.canvasElementId=e.elementId,this.x=null!==(t=e.x)&&void 0!==t?t:0,this.y=null!==(s=e.y)&&void 0!==s?s:0,this.width=null!==(i=e.width)&&void 0!==i?i:-1,this.height=null!==(n=e.height)&&void 0!==n?n:-1,-1===this.width?this.width=document.defaultView.innerWidth:-2===this.x&&(this.x=document.defaultView.innerWidth/2-this.width/2),-1==this.height?this.height=document.defaultView.innerHeight:-2===this.x&&(this.y=document.defaultView.innerHeight/2-this.height/2);var a=document.getElementById(this.canvasElementId);if(null!=a){this.canvas=a;var c=this.canvas.getContext("2d");console.log("ctx:",c),null!=c?(this.ctx=c,this.canvas.height=this.height,this.canvas.width=this.width,"none"!=(null!==(o=e.background)&&void 0!==o?o:"#2c3e50")&&(this.canvas.style.background=null!==(r=e.background)&&void 0!==r?r:"#2c3e50"),this.error||this.init()):this.error="Context not found."}else this.error="Canvas not found."})),p=new URLSearchParams(window.location.search),d=p.has("channel")?p.get("channel"):"",g=new o(10,5),_=new c(d,g),v=!1;_.on("reaction",(function(e,t,s){console.log("reaction"),g.ping(),v&&y()}));var b=new f({elementId:"bar",background:"none",barMarginHeight:0,barMarginWidth:0,strokeMarginHeight:0,strokeMarginWidth:0});function y(){var e=_.getValues();b.draw(e,!0,!0)}g.on("start",(function(){v=!0,console.log("Job started!"),y()})),g.on("cancel",(function(){v=!1,console.log("Job canceled!"),b.clear(),_.resetValues()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL2Fzc2V0cy9zdHlsZXMvbWFpbi5zY3NzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvYXBpLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL2NvbW1hbmRzLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL25vZGVfbW9kdWxlcy90bWkuanMvbGliL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvcGFyc2VyLmpzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9ub2RlX21vZHVsZXMvdG1pLmpzL2xpYi90aW1lci5qcyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vbm9kZV9tb2R1bGVzL3RtaS5qcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy9hc3NldHMvc3R5bGVzL21haW4uc2Nzcz9kOGFjIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvam9iLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMva2V5d29yZHMudHMiLCJ3ZWJwYWNrOi8vdHdpdGNoLXBvbGwtb3ZlcmxheS8uL3NyYy90cy9jaGF0LnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL2NoYXJ0LnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvdHMvY2hhcnRzL2Jhci50cyIsIndlYnBhY2s6Ly90d2l0Y2gtcG9sbC1vdmVybGF5Ly4vc3JjL3RzL2NvbG9yLnRzIiwid2VicGFjazovL3R3aXRjaC1wb2xsLW92ZXJsYXkvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsIm9uY2UiLCJlbWl0dGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJldmVudExpc3RlbmVyIiwiZXJyb3JMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiYXJndW1lbnRzIiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsImxpc3RlbmVyIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJfYWRkTGlzdGVuZXIiLCJ0eXBlIiwicHJlcGVuZCIsIm0iLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJjcmVhdGUiLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0Iiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiY291bnQiLCJjb25zb2xlIiwid2FybiIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJiaW5kIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJyZXQiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJhcmciLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwiaGFuZGxlciIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwib24iLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleSIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwibWVtbyIsImdldFRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwiYWxsIiwiYXRvYiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJjbGllbnQiLCJDbGllbnQiLCJyZXF1ZXN0IiwiXyIsImNhbGxiYWNrIiwidXJsIiwidXJpIiwiaXNVUkwiLCJpc05vZGUiLCJtZXJnZSIsIm1ldGhvZCIsImpzb24iLCJpc0V4dGVuc2lvbiIsImlzUmVhY3ROYXRpdmUiLCJoZWFkZXJzIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNlbmQiLCJjYWxsYmFja05hbWUiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJib2R5Iiwic2NyaXB0Iiwic3JjIiwiaW5jbHVkZXMiLCJhcGkiLCJjb21tYW5kcyIsImV2ZW50RW1pdHRlciIsImxvZ2dlciIsInBhcnNlIiwidGltZXIiLCJ3cyIsImciLCJXZWJTb2NrZXQiLCJNb3pXZWJTb2NrZXQiLCJvcHRzIiwiY2hhbm5lbHMiLCJjb25uZWN0aW9uIiwiaWRlbnRpdHkiLCJjbGllbnRJZCIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwiSW5maW5pdHkiLCJtYXhSZWNvbm5lY3RJbnRlcnZhbCIsInJlY29ubmVjdCIsInJlY29ubmVjdERlY2F5IiwicmVjb25uZWN0SW50ZXJ2YWwiLCJyZWNvbm5lY3RpbmciLCJyZWNvbm5lY3Rpb25zIiwicmVjb25uZWN0VGltZXIiLCJzZWN1cmUiLCJlbW90ZXMiLCJlbW90ZXNldHMiLCJjdXJyZW50TGF0ZW5jeSIsImdsb2JhbHVzZXJzdGF0ZSIsImxhc3RKb2luZWQiLCJsYXRlbmN5IiwiRGF0ZSIsIm1vZGVyYXRvcnMiLCJwaW5nTG9vcCIsInBpbmdUaW1lb3V0IiwicmVhc29uIiwidXNlcm5hbWUiLCJ1c2Vyc3RhdGUiLCJ3YXNDbG9zZUNhbGxlZCIsImxldmVsIiwiZGVidWciLCJsb2ciLCJzZXRMZXZlbCIsInBhcnQiLCJ0aGVBcnJheSIsImNoYW5uZWwiLCJtZXRob2ROYW1lIiwiaW5oZXJpdHMiLCJoYW5kbGVNZXNzYWdlIiwiaXNOdWxsIiwicGFyYW1zIiwibXNnIiwibXNnaWQiLCJ0YWdzIiwiYmFkZ2VzIiwiYmFkZ2VJbmZvIiwiaXNCb29sZWFuIiwiaXNTdHJpbmciLCJ1bmVzY2FwZUlSQyIsInByZWZpeCIsImNvbW1hbmQiLCJjdXJyRGF0ZSIsImdldFRpbWUiLCJlbWl0cyIsImNsZWFyVGltZW91dCIsImluZm8iLCJzZXJ2ZXIiLCJwb3J0Iiwic2V0SW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiY2xvc2UiLCJjbGVhckludGVydmFsIiwidGltZW91dCIsImpvaW5RdWV1ZSIsInF1ZXVlIiwiam9pbkNoYW5uZWxzIiwidW5pb24iLCJhZGQiLCJjYXRjaCIsInJ1biIsIm51bGxBcnIiLCJub3RpY2VBcnIiLCJjaGFubmVsVHJ1ZUFyciIsImNoYW5uZWxGYWxzZUFyciIsIm5vdGljZUFuZE51bGwiLCJub3RpY2VBbmRNc2dpZCIsImJhc2ljTG9nIiwibW9kcyIsInNwbGl0IiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInZpcHMiLCJyZW1haW5pbmdIb3N0IiwicGFyc2VJbnQiLCJwbGFuIiwicGxhbk5hbWUiLCJtZXRob2RzIiwicHJpbWUiLCJzdHJlYWtNb250aHMiLCJyZWNpcGllbnQiLCJnaWZ0U3ViQ291bnQiLCJzZW5kZXIiLCJ2aWV3ZXJzIiwibXNnU3BsaXQiLCJkdXJhdGlvbiIsImRlbGV0ZWRNZXNzYWdlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJpc0p1c3RpbmZhbiIsImdldFVzZXJuYW1lIiwiX3VwZGF0ZUVtb3Rlc2V0IiwiaGFzT3duUHJvcGVydHkiLCJzbG93IiwiZW5hYmxlZCIsImRpc2FibGVkIiwibmljayIsImlzU2VsZiIsImluZGV4T2YiLCJhdXRvaG9zdCIsImV4dHJhY3ROdW1iZXIiLCJhY3Rpb25NZXNzYWdlIiwiX29wZW5Db25uZWN0aW9uIiwib25tZXNzYWdlIiwiX29uTWVzc2FnZSIsIm9uZXJyb3IiLCJfb25FcnJvciIsIm9uY2xvc2UiLCJfb25DbG9zZSIsIm9ub3BlbiIsIl9vbk9wZW4iLCJqdXN0aW5mYW4iLCJwYXNzd29yZCIsImV2ZW50Iiwic3RyIiwiX2dldFByb21pc2VEZWxheSIsIl9zZW5kQ29tbWFuZCIsImRlbGF5IiwiZm4iLCJwcm9taXNlRGVsYXkiLCJ0aGVuIiwiY2hhbiIsIl9zZW5kTWVzc2FnZSIsInNwbGl0TGluZSIsImVtb3RlIiwiaXNSZWdleCIsImNvZGUiLCJlbW90ZVJlZ2V4IiwiZW1vdGVTdHJpbmciLCJ0cmFuc2Zvcm1FbW90ZXMiLCJzZXRzIiwicmVwbGFjZSIsInJlcyIsImdldE9wdGlvbnMiLCJnZXRDaGFubmVscyIsImlzTW9kIiwidG1pIiwiZm9sbG93ZXJzb25seSIsIm1pbnV0ZXMiLCJmb2xsb3dlcnNvbmx5b2ZmIiwicjlrYmV0YSIsInI5a2JldGFvZmYiLCJzZWNvbmRzIiwic2xvd29mZiIsImFjdGlvbiIsImJhbiIsImNsZWFyIiwiY29sb3IiLCJuZXdDb2xvciIsImNvbW1lcmNpYWwiLCJkZWxldGVtZXNzYWdlIiwibWVzc2FnZVVVSUQiLCJlbW90ZW9ubHkiLCJlbW90ZW9ubHlvZmYiLCJmb2xsb3dlcnNtb2RlIiwiZm9sbG93ZXJzbW9kZW9mZiIsImhvc3QiLCJyZW1haW5pbmciLCJldmVudE5hbWUiLCJoYXNGdWxmaWxsZWQiLCJqb2luZWRDaGFubmVsIiwibW9kIiwibGVhdmUiLCJwaW5nIiwicGFyc2VGbG9hdCIsInI5a21vZGUiLCJyOWttb2Rlb2ZmIiwicmF3Iiwic2F5Iiwic3RhcnRzV2l0aCIsInN1YnN0ciIsInNsb3dtb2RlIiwic2xvd21vZGVvZmYiLCJzdWJzY3JpYmVycyIsInN1YnNjcmliZXJzb2ZmIiwiaXNJbnRlZ2VyIiwidW5iYW4iLCJ1bmhvc3QiLCJ1bm1vZCIsInVudmlwIiwidmlwIiwid2hpc3BlciIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwic2VhcmNoU3RyaW5nIiwidHlwZXMiLCJ2YWx1ZXMiLCJ2YWwiLCJ0cmFjZSIsImNoYXJBdCIsInNlYXJjaEZvciIsImsiLCJzdWJzdHJpbmciLCJjdXJyZW50TGV2ZWwiLCJsZXZlbHMiLCJmb3JtYXREYXRlIiwiZmF0YWwiLCJub25zcGFjZVJlZ2V4IiwicGFyc2VDb21wbGV4VGFnIiwidGFnS2V5Iiwic3BsQSIsInNwbEIiLCJzcGxDIiwidGFnSXNTdHJpbmciLCJzcGwiLCJwYXJ0cyIsImxhc3RJbmRleCIsIm1hdGNoIiwicmVnZXgiLCJSZWdFeHAiLCJ1bmVzY2FwZUh0bWwiLCJleGVjIiwidHJhbnNmb3JtZWQiLCJuZXh0c3BhY2UiLCJjaGFyQ29kZUF0IiwicmF3VGFncyIsInRhZyIsInBhaXIiLCJkZWZhdWx0RGVsYXkiLCJhdCIsInJlc2V0IiwiYWN0aW9uTWVzc2FnZVJlZ2V4IiwianVzdGluRmFuUmVnZXgiLCJ1bmVzY2FwZUlSQ1JlZ2V4IiwiaXJjRXNjYXBlZENoYXJzIiwicyIsInIiLCJzZWxmIiwib2JqMSIsIm9iajIiLCJpc0Zpbml0ZSIsImludCIsInRvTnVtYmVyIiwiZmxvb3IiLCJ0aW1lIiwicmVwbGFjZUFsbCIsIngiLCJzYWZlIiwicCIsImFkZFdvcmQiLCJsaW5lIiwid29yZCIsImRhdGUiLCJob3VycyIsImdldEhvdXJzIiwibWlucyIsImdldE1pbnV0ZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJwcm9jZXNzIiwiY2hyb21lIiwicnVudGltZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJhc3NpZ24iLCJpbnB1dCIsImxhc3RTcGFjZSIsImxhc3RJbmRleE9mIiwibnVtIiwicHJlY2lzaW9uIiwiZmFjdG9yIiwicG93IiwiYXJyMSIsImhhc2giLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImdsb2JhbFRoaXMiLCJwcm9wIiwicmVxdWlyZWRQaW5ncyIsImN1cnJlbnQiLCJjdXJyZW50UGluZyIsImVlIiwic3RvcFRpbWVyIiwicmVhY3Rpb25zIiwic29ydGluZyIsImRpc3BsYXkiLCJrZXl3b3JkcyIsImpvYiIsInJlYWN0aW9uVmFsdWVzIiwiTWFwIiwiYyIsInUiLCJvbk1lc3NhZ2UiLCJyZWFjdGlvbiIsImtleXdvcmQiLCJqIiwiZ2V0UmVhY3Rpb25CeUtleXdvcmQiLCJpbmNyZW1lbnQiLCJyZXNldFZhbHVlcyIsImhhcyIsImdldFZhbHVlcyIsImIiLCJkZWZhdWx0QmFyUHJvcGVydGllcyIsImVsZW1lbnRJZCIsImJhck1hcmdpbkhlaWdodCIsImJhck1hcmdpbldpZHRoIiwic3Ryb2tlTWFyZ2luSGVpZ2h0Iiwic3Ryb2tlTWFyZ2luV2lkdGgiLCJ2YWx1ZUNvbG9ycyIsInN0cm9rZUNvbG9yIiwic3Ryb2tlSXRlcmF0aW9ucyIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvbnRTaXplRmFjdG9yIiwiZm9udENvbG9yRmFjdG9yIiwidGV4dFJvdW5kIiwicHJvcGVydGllcyIsImRyYXciLCJkcmF3VGV4dCIsInJlY3RXaWR0aCIsIndpZHRoIiwicmVjdEhlaWdodCIsImhlaWdodCIsImhleCIsIm1wIiwicmdiIiwiZm9udE1wIiwiY3R4IiwiZm9udCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicmVjdCIsInkiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJzdW0iLCJyZWR1Y2UiLCJsYXN0WCIsInBlcmNlbnRhZ2UiLCJ2YWx1ZVdpZHRoIiwiZmlsbFN0eWxlIiwiZmlsbCIsInR4dCIsImxlYWRpbmdIYXNoIiwiUkdCMkhleCIsIm1heCIsImRhcmtlblJHQkNvbG9yIiwiSGV4MlJHQiIsImZpbGxUZXh0IiwiY2xlYXJSZWN0IiwiY2FudmFzRWxlbWVudElkIiwiZGVmYXVsdFZpZXciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJiYWNrZ3JvdW5kIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJKb2IiLCJjaGF0IiwiQ2hhdCIsImRyYXdpbmciLCJyZWRy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S2hFLGtCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJcIixcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIGlmIChlcnJvckxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgLy8gQWRkaW5nIGFuIGVycm9yIGxpc3RlbmVyIGlzIG5vdCBvcHRpb25hbCBiZWNhdXNlXG4gICAgLy8gaWYgYW4gZXJyb3IgaXMgdGhyb3duIG9uIGFuIGV2ZW50IGVtaXR0ZXIgd2UgY2Fubm90XG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgd2FpdGluZyB3aWxsXG4gICAgLy8gYmUgZmlyZWQuIFRoZSByZXN1bHQgY291bGQgYmUgYSBzaWxlbnQgd2F5IHRvIGNyZWF0ZVxuICAgIC8vIG1lbW9yeSBvciBmaWxlIGRlc2NyaXB0b3IgbGVha3MsIHdoaWNoIGlzIHNvbWV0aGluZ1xuICAgIC8vIHdlIHNob3VsZCBhdm9pZC5cbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVtaXR0ZXIub25jZShuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgfSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRjbGllbnQ6IHJlcXVpcmUoXCIuL2xpYi9jbGllbnRcIiksXG5cdENsaWVudDogcmVxdWlyZShcIi4vbGliL2NsaWVudFwiKVxufTtcbiIsInZhciByZXF1ZXN0ID0gcmVxdWlyZShcInJlcXVlc3RcIik7XG52YXIgXyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgYXBpID0gZnVuY3Rpb24gYXBpKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgLy8gU2V0IHRoZSB1cmwgdG8gb3B0aW9ucy51cmkgb3Igb3B0aW9ucy51cmwuLlxuICAgIHZhciB1cmwgPSBfLmdldChvcHRpb25zLnVybCwgbnVsbCkgPT09IG51bGwgPyBfLmdldChvcHRpb25zLnVyaSwgbnVsbCkgOiBfLmdldChvcHRpb25zLnVybCwgbnVsbCk7XG5cbiAgICAvLyBNYWtlIHN1cmUgaXQgaXMgYSB2YWxpZCB1cmwuLlxuICAgIGlmICghXy5pc1VSTCh1cmwpKSB7IHVybCA9IFwiaHR0cHM6Ly9hcGkudHdpdGNoLnR2L2tyYWtlblwiICsgKHVybFswXSA9PT0gXCIvXCIgPyB1cmwgOiBgLyR7dXJsfWApOyB9XG5cbiAgICAvLyBXZSBhcmUgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiwgc28gd2UgY2FuIHVzZSB0aGUgcmVxdWVzdCBtb2R1bGUuLlxuICAgIGlmIChfLmlzTm9kZSgpKSB7XG4gICAgICAgIHJlcXVlc3QoXy5tZXJnZSh7IG1ldGhvZDogXCJHRVRcIiwganNvbjogdHJ1ZSB9LCBvcHRpb25zLCB7IHVybDogdXJsIH0pLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhbiBleHRlbnNpb24gLT4gd2UgY2Fubm90IHVzZSBqc29ucCFcbiAgICBlbHNlIGlmIChfLmlzRXh0ZW5zaW9uKCkgfHwgXy5pc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IF8ubWVyZ2UoeyB1cmw6IHVybCwgbWV0aG9kOiBcIkdFVFwiLCBoZWFkZXJzOiB7fSB9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gcHJlcGFyZSByZXF1ZXN0XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsLCB0cnVlKTtcbiAgICAgICAgZm9yKHZhciBuYW1lIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgb3B0aW9ucy5oZWFkZXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIC8vIHNldCByZXF1ZXN0IGhhbmRsZXJcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhoci5zdGF0dXMsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gc3VibWl0XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICAgIC8vIEluc2lkZSBhIHdlYiBhcHBsaWNhdGlvbiwgdXNlIGpzb25wLi5cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQ2FsbGJhY2tzIG11c3QgbWF0Y2ggdGhlIHJlZ2V4IFthLXpBLVpfJF1bXFx3JF0qKFxcLlthLXpBLVpfJF1bXFx3JF0qKSpcbiAgICAgICAgdmFyIGNhbGxiYWNrTmFtZSA9IGBqc29ucF9jYWxsYmFja18ke01hdGgucm91bmQoMTAwMDAwICogTWF0aC5yYW5kb20oKSl9YDtcbiAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgd2luZG93W2NhbGxiYWNrTmFtZV07XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsLCBkYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbmplY3QgdGhlIHNjcmlwdCBpbiB0aGUgZG9jdW1lbnQuLlxuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0LnNyYyA9IGAke3VybH0ke3VybC5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifWNhbGxiYWNrPSR7Y2FsbGJhY2tOYW1lfWA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIuL2FwaVwiKTtcbnZhciBjb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzXCIpO1xudmFyIGV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2V2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG52YXIgbG9nZ2VyID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xudmFyIHBhcnNlID0gcmVxdWlyZShcIi4vcGFyc2VyXCIpO1xudmFyIHRpbWVyID0gcmVxdWlyZShcIi4vdGltZXJcIik7XG52YXIgd3MgPSBnbG9iYWwuV2ViU29ja2V0IHx8IGdsb2JhbC5Nb3pXZWJTb2NrZXQgfHwgcmVxdWlyZShcIndzXCIpO1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuLy8gQ2xpZW50IGluc3RhbmNlLi5cbnZhciBjbGllbnQgPSBmdW5jdGlvbiBjbGllbnQob3B0cykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgY2xpZW50ID09PSBmYWxzZSkgeyByZXR1cm4gbmV3IGNsaWVudChvcHRzKTsgfVxuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKDApO1xuXG4gICAgdGhpcy5vcHRzID0gXy5nZXQob3B0cywge30pO1xuICAgIHRoaXMub3B0cy5jaGFubmVscyA9IHRoaXMub3B0cy5jaGFubmVscyB8fCBbXTtcbiAgICB0aGlzLm9wdHMuY29ubmVjdGlvbiA9IHRoaXMub3B0cy5jb25uZWN0aW9uIHx8IHt9O1xuICAgIHRoaXMub3B0cy5pZGVudGl0eSA9IHRoaXMub3B0cy5pZGVudGl0eSB8fCB7fTtcbiAgICB0aGlzLm9wdHMub3B0aW9ucyA9IHRoaXMub3B0cy5vcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5jbGllbnRJZCA9IF8uZ2V0KHRoaXMub3B0cy5vcHRpb25zLmNsaWVudElkLCBudWxsKTtcblxuICAgIHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RBdHRlbXB0cywgSW5maW5pdHkpO1xuICAgIHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5tYXhSZWNvbm5lY3RJbnRlcnZhbCwgMzAwMDApO1xuICAgIHRoaXMucmVjb25uZWN0ID0gXy5nZXQodGhpcy5vcHRzLmNvbm5lY3Rpb24ucmVjb25uZWN0LCBmYWxzZSk7XG4gICAgdGhpcy5yZWNvbm5lY3REZWNheSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnJlY29ubmVjdERlY2F5LCAxLjUpO1xuICAgIHRoaXMucmVjb25uZWN0SW50ZXJ2YWwgPSBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi5yZWNvbm5lY3RJbnRlcnZhbCwgMTAwMCk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVjb25uZWN0aW9ucyA9IDA7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHRoaXMucmVjb25uZWN0SW50ZXJ2YWw7XG5cbiAgICB0aGlzLnNlY3VyZSA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlY3VyZSwgZmFsc2UpO1xuXG4gICAgLy8gUmF3IGRhdGEgYW5kIG9iamVjdCBmb3IgZW1vdGUtc2V0cy4uXG4gICAgdGhpcy5lbW90ZXMgPSBcIlwiO1xuICAgIHRoaXMuZW1vdGVzZXRzID0ge307XG5cbiAgICB0aGlzLmNoYW5uZWxzID0gW107XG4gICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IDA7XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcbiAgICB0aGlzLmxhc3RKb2luZWQgPSBcIlwiO1xuICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5tb2RlcmF0b3JzID0ge307XG4gICAgdGhpcy5waW5nTG9vcCA9IG51bGw7XG4gICAgdGhpcy5waW5nVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5yZWFzb24gPSBcIlwiO1xuICAgIHRoaXMudXNlcm5hbWUgPSBcIlwiO1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMud3MgPSBudWxsO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBsb2dnZXIuLlxuICAgIHZhciBsZXZlbCA9IFwiZXJyb3JcIjtcbiAgICBpZiAodGhpcy5vcHRzLm9wdGlvbnMuZGVidWcpIHsgbGV2ZWwgPSBcImluZm9cIjsgfVxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRzLmxvZ2dlciB8fCBsb2dnZXI7XG5cbiAgICB0cnkgeyBsb2dnZXIuc2V0TGV2ZWwobGV2ZWwpOyB9IGNhdGNoKGUpIHt9O1xuXG4gICAgLy8gRm9ybWF0IHRoZSBjaGFubmVsIG5hbWVzLi5cbiAgICB0aGlzLm9wdHMuY2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0LCBpbmRleCwgdGhlQXJyYXkpIHtcbiAgICAgICAgdGhlQXJyYXlbaW5kZXhdID0gXy5jaGFubmVsKHBhcnQpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbl8uaW5oZXJpdHMoY2xpZW50LCBldmVudEVtaXR0ZXIpO1xuXG5jbGllbnQucHJvdG90eXBlLmFwaSA9IGFwaTtcblxuLy8gUHV0IGFsbCBjb21tYW5kcyBpbiBwcm90b3R5cGUuLlxuZm9yKHZhciBtZXRob2ROYW1lIGluIGNvbW1hbmRzKSB7XG4gICAgY2xpZW50LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGNvbW1hbmRzW21ldGhvZE5hbWVdO1xufVxuXG4vLyBIYW5kbGUgcGFyc2VkIGNoYXQgc2VydmVyIG1lc3NhZ2UuLlxuY2xpZW50LnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoXCJyYXdfbWVzc2FnZVwiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKSwgbWVzc2FnZSk7XG5cbiAgICB2YXIgY2hhbm5lbCA9IF8uY2hhbm5lbChfLmdldChtZXNzYWdlLnBhcmFtc1swXSwgbnVsbCkpO1xuICAgIHZhciBtc2cgPSBfLmdldChtZXNzYWdlLnBhcmFtc1sxXSwgbnVsbCk7XG4gICAgdmFyIG1zZ2lkID0gXy5nZXQobWVzc2FnZS50YWdzW1wibXNnLWlkXCJdLCBudWxsKTtcblxuICAgIC8vIFBhcnNlIGJhZGdlcywgYmFkZ2UtaW5mbyBhbmQgZW1vdGVzLi5cbiAgICBtZXNzYWdlLnRhZ3MgPSBwYXJzZS5iYWRnZXMocGFyc2UuYmFkZ2VJbmZvKHBhcnNlLmVtb3RlcyhtZXNzYWdlLnRhZ3MpKSk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gSVJDdjMgdGFncy4uXG4gICAgaWYgKG1lc3NhZ2UudGFncykge1xuICAgICAgICB2YXIgdGFncyA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGFncykge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJlbW90ZS1zZXRzXCIgJiYga2V5ICE9PSBcImJhbi1kdXJhdGlvblwiICYmIGtleSAhPT0gXCJiaXRzXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0YWdzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNCb29sZWFuKHZhbHVlKSkgeyB2YWx1ZSA9IG51bGw7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gXCIxXCIpIHsgdmFsdWUgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IFwiMFwiKSB7IHZhbHVlID0gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfLmlzU3RyaW5nKHZhbHVlKSkgeyB2YWx1ZSA9IF8udW5lc2NhcGVJUkModmFsdWUpOyB9XG4gICAgICAgICAgICAgICAgdGFnc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNZXNzYWdlcyB3aXRoIG5vIHByZWZpeC4uXG4gICAgaWYgKF8uaXNOdWxsKG1lc3NhZ2UucHJlZml4KSkge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBQSU5HIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJQSU5HXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicGluZ1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQT05HXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgUE9ORyBmcm9tIHNlcnZlciwgcmV0dXJuIGN1cnJlbnQgbGF0ZW5jeS4uXG4gICAgICAgICAgICBjYXNlIFwiUE9OR1wiOlxuICAgICAgICAgICAgICAgIHZhciBjdXJyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGF0ZW5jeSA9IChjdXJyRGF0ZS5nZXRUaW1lKCkgLSB0aGlzLmxhdGVuY3kuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJwb25nXCIsIFwiX3Byb21pc2VQaW5nXCJdLCBbW3RoaXMuY3VycmVudExhdGVuY3ldXSk7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2Ugd2l0aCBubyBwcmVmaXg6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIHdpdGggXCJ0bWkudHdpdGNoLnR2XCIgYXMgYSBwcmVmaXguLlxuICAgIGVsc2UgaWYgKG1lc3NhZ2UucHJlZml4ID09PSBcInRtaS50d2l0Y2gudHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMDAyXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDAzXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDA0XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc1XCI6XG4gICAgICAgICAgICBjYXNlIFwiMzc2XCI6XG4gICAgICAgICAgICBjYXNlIFwiQ0FQXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHVzZXJuYW1lIGZyb20gc2VydmVyLi5cbiAgICAgICAgICAgIGNhc2UgXCIwMDFcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gbWVzc2FnZS5wYXJhbXNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIENvbm5lY3RlZCB0byBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIjM3MlwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJDb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzdGF0ZVtcIiN0bWlqc1wiXSA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY29ubmVjdGVkXCIsIFwiX3Byb21pc2VDb25uZWN0XCJdLCBbW3RoaXMuc2VydmVyLCB0aGlzLnBvcnRdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbnMgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLnJlY29ubmVjdEludGVydmFsO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFuIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICAgICAgdGhpcy5waW5nTG9vcCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBjb25uZWN0aW9uIGlzIG9wZW5lZCBiZWZvcmUgc2VuZGluZyB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoXCJQSU5HXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZW5jeSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5pc051bGwodGhpcy53cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5waW5nTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBfLmdldCh0aGlzLm9wdHMuY29ubmVjdGlvbi50aW1lb3V0LCA5OTk5KSk7XG4gICAgICAgICAgICAgICAgfSwgNjAwMDApO1xuXG4gICAgICAgICAgICAgICAgLy8gSm9pbiBhbGwgdGhlIGNoYW5uZWxzIGZyb20gY29uZmlndXJhdGlvbiB3aXRoIGEgMiBzZWNvbmRzIGludGVydmFsLi5cbiAgICAgICAgICAgICAgICB2YXIgam9pblF1ZXVlID0gbmV3IHRpbWVyLnF1ZXVlKDIwMDApO1xuICAgICAgICAgICAgICAgIHZhciBqb2luQ2hhbm5lbHMgPSBfLnVuaW9uKHRoaXMub3B0cy5jaGFubmVscywgdGhpcy5jaGFubmVscyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqb2luQ2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWwgPSBqb2luQ2hhbm5lbHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzTnVsbCh0aGlzLndzKSAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW4oY2hhbm5lbCkuY2F0Y2goZXJyID0+IHsgdGhpcy5sb2cuZXJyb3IoZXJyKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGpvaW5RdWV1ZS5ydW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1c3RpbnR2L1R3aXRjaC1BUEkvYmxvYi9tYXN0ZXIvY2hhdC9jYXBhYmlsaXRpZXMubWQjbm90aWNlXG4gICAgICAgICAgICBjYXNlIFwiTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIG51bGxBcnIgPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgdmFyIG5vdGljZUFyciA9IFtjaGFubmVsLCBtc2dpZCwgbXNnXTtcbiAgICAgICAgICAgICAgICB2YXIgbXNnaWRBcnIgPSBbbXNnaWRdO1xuICAgICAgICAgICAgICAgIHZhciBjaGFubmVsVHJ1ZUFyciA9IFtjaGFubmVsLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbEZhbHNlQXJyID0gW2NoYW5uZWwsIGZhbHNlXTtcbiAgICAgICAgICAgICAgICB2YXIgbm90aWNlQW5kTnVsbCA9IFtub3RpY2VBcnIsIG51bGxBcnJdO1xuICAgICAgICAgICAgICAgIHZhciBub3RpY2VBbmRNc2dpZCA9IFtub3RpY2VBcnIsIG1zZ2lkQXJyXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzaWNMb2cgPSBgWyR7Y2hhbm5lbH1dICR7bXNnfWA7XG4gICAgICAgICAgICAgICAgc3dpdGNoKG1zZ2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gc3Vic2NyaWJlcnMtb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJzdWJzY3JpYmVyXCIsIFwic3Vic2NyaWJlcnNcIiwgXCJfcHJvbWlzZVN1YnNjcmliZXJzXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHN1YnNjcmliZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBzdWJzY3JpYmVycy1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInN1YnNjcmliZXJcIiwgXCJzdWJzY3JpYmVyc1wiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIGNoYW5uZWxGYWxzZUFyciwgbnVsbEFycl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gVGhpcyByb29tIGlzIG5vdyBpbiBlbW90ZS1vbmx5IG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImVtb3Rlb25seVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5XCJdLCBbY2hhbm5lbFRydWVBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZW1vdGUtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW1vdGVfb25seV9vZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIGVtb3RlLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZW1vdGVvbmx5XCIsIFwiX3Byb21pc2VFbW90ZW9ubHlvZmZcIl0sIFtjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBoYW5kbGUgc2xvd19vbi9vZmYgaGVyZSwgbGlzdGVuIHRvIHRoZSBST09NU1RBVEUgbm90aWNlIGluc3RlYWQgYXMgaXQgcmV0dXJucyB0aGUgZGVsYXkuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IGhhbmRsZSBmb2xsb3dlcnNfb24vb2ZmIGhlcmUsIGxpc3RlbiB0byB0aGUgUk9PTVNUQVRFIG5vdGljZSBpbnN0ZWFkIGFzIGl0IHJldHVybnMgdGhlIGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29uX3plcm9cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvbGxvd2Vyc19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9sbG93ZXJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vdyBpbiByOWsgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInI5a19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhXCJdLCBbY2hhbm5lbFRydWVBcnIsIGNoYW5uZWxUcnVlQXJyLCBudWxsQXJyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm8gbG9uZ2VyIGluIHI5ayBtb2RlLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicjlrX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gcjlrIG1vZGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInI5a21vZGVcIiwgXCJyOWtiZXRhXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBbY2hhbm5lbEZhbHNlQXJyLCBjaGFubmVsRmFsc2VBcnIsIG51bGxBcnJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbSBhcmU6IFsuLi4sIC4uLl1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJvb21fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZHMgPSBtc2cuc3BsaXQoXCI6IFwiKVsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiLCBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VNb2RzXCIsIFwibW9kc1wiXSwgW1tudWxsLCBtb2RzXSwgW2NoYW5uZWwsIG1vZHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9kZXJhdG9ycyBmb3IgdGhpcyByb29tLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9fbW9kc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZU1vZHNcIiwgXCJtb2RzXCJdLCBbW251bGwsIFtdXSwgW2NoYW5uZWwsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFZJUHMgb2YgdGhpcyBjaGFubmVsIGFyZTogWy4uLiwgLi4uXVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmlwc19zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmVuZHNXaXRoKFwiLlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlwcyA9IG1zZy5zcGxpdChcIjogXCIpWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCB2aXBzXSwgW2NoYW5uZWwsIHZpcHNdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIG5vIFZJUHMgZm9yIHRoaXMgcm9vbS5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vX3ZpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VWaXBzXCIsIFwidmlwc1wiXSwgW1tudWxsLCBbXV0sIFtjaGFubmVsLCBbXV1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJhbiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2Jhbl9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfYmFuX3NlbGZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9iYW5fc3RhZmZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBCYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhbl9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VCYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY2xlYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNsZWFyXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2RzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZU1vZHNcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2QgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQcyBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV92aXBzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBzXCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIFtdXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVklQIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3ZpcFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2Jhbm5lZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3ZpcF9ncmFudGVlX2FscmVhZHlfdmlwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIFtub3RpY2VBcnIsIFttc2dpZCwgW11dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBWSVAgY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZpcF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VWaXBcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX21vZF9iYW5uZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VNb2RcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bm1vZF9zdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBVbnZpcCBjb21tYW5kIHN1Y2Nlc3MuLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVudmlwX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmROdWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVubW9kIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VubW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdW5tb2RfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VVbm1vZFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW52aXAgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW52aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bnZpcF9ncmFudGVlX25vdF92aXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVudmlwXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29sb3JfY2hhbmdlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29sb3JcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sb3IgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInR1cmJvX29ubHlfY29sb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbG9yXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb21tZXJjaWFsIGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21tZXJjaWFsX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWVyY2lhbCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9jb21tZXJjaWFsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfY29tbWVyY2lhbF9lcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlQ29tbWVyY2lhbFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSG9zdCBjb21tYW5kIHN1Y2Nlc3MuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdHNfcmVtYWluaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb3N0ID0gKCFpc05hTihtc2dbMF0pID8gcGFyc2VJbnQobXNnWzBdKSA6IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZUhvc3RcIl0sIFtub3RpY2VBcnIsIFtudWxsLCB+fnJlbWFpbmluZ0hvc3RdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIb3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X3JhdGVfZXhjZWVkZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9ob3N0X2Vycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9ob3N0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VIb3N0XCJdLCBbbm90aWNlQXJyLCBbbXNnaWQsIG51bGxdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyByOWtiZXRhIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfcjlrX29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVI5a2JldGFcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHI5a2JldGFvZmYgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9yOWtfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VSOWtiZXRhb2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IGNvbW1hbmQgc3VjY2Vzcy4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lb3V0X3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVRpbWVvdXRcIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZV9tZXNzYWdlX3N1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9ICR7bXNnfV1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCJdLCBub3RpY2VBbmROdWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpYmVyc29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X3N1YnNfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zdWJzX29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNvZmZcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmliZXJzIGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFscmVhZHlfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc3Vic19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU3Vic2NyaWJlcnNcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVtb3Rlb25seW9mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbHJlYWR5X2Vtb3RlX29ubHlfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBFbW90ZW9ubHkgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWxyZWFkeV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9lbW90ZV9vbmx5X29uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGJhc2ljTG9nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wibm90aWNlXCIsIFwiX3Byb21pc2VFbW90ZW9ubHlcIl0sIG5vdGljZUFuZE1zZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNsb3cgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2Vfc2xvd19vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2xvd29mZiBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9zbG93X29mZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlU2xvd29mZlwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZW91dCBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV90aW1lb3V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9hZG1pblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX3RpbWVvdXRfYnJvYWRjYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF90aW1lb3V0X2R1cmF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9nbG9iYWxfbW9kXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfdGltZW91dF9zdGFmZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVGltZW91dFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBzdWNjZXNzLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY2FuIGFsc28gYmUgdXNlZCB0byBjYW5jZWwgYW4gYWN0aXZlIHRpbWVvdXQuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bnRpbWVvdXRfc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5iYW5fc3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlVW5iYW5cIl0sIG5vdGljZUFuZE51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5iYW4gY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfdW5iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF91bmJhbl9ub19iYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuYmFuXCJdLCBub3RpY2VBbmRNc2dpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgY29tbWFuZCBmYWlsZWQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNhZ2VfZGVsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWRfZGVsZXRlX21lc3NhZ2VfZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhZF9kZWxldGVfbWVzc2FnZV9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmFkX2RlbGV0ZV9tZXNzYWdlX21vZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlRGVsZXRlbWVzc2FnZVwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5ob3N0IGNvbW1hbmQgZmFpbGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzYWdlX3VuaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm90X2hvc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYmFzaWNMb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJub3RpY2VcIiwgXCJfcHJvbWlzZVVuaG9zdFwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hpc3BlciBjb21tYW5kIGZhaWxlZC4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2ludmFsaWRfbG9naW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfaW52YWxpZF9zZWxmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3aGlzcGVyX2xpbWl0X3Blcl9taW5cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndoaXNwZXJfbGltaXRfcGVyX3NlY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2hpc3Blcl9yZXN0cmljdGVkX3JlY2lwaWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcIm5vdGljZVwiLCBcIl9wcm9taXNlV2hpc3BlclwiXSwgbm90aWNlQW5kTXNnaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGVybWlzc2lvbiBlcnJvci4uXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19wZXJtaXNzaW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfYmFubmVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcm9vbV9ub3RfZm91bmRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jaGFubmVsX3N1c3BlbmRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9zX2JhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vdGljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VCYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlQ2xlYXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVW5iYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVGltZW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VEZWxldGVtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZU1vZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlTW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVubW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVZpcHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlVmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVVudmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUNvbW1lcmNpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VVbmhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlSm9pblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VQYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVI5a2JldGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlUjlrYmV0YW9mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTbG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZVNsb3dvZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRm9sbG93ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJfcHJvbWlzZUZvbGxvd2Vyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VTdWJzY3JpYmVyc29mZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX3Byb21pc2VFbW90ZW9ubHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIFtub3RpY2VBcnIsIFttc2dpZCwgY2hhbm5lbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0b21vZC1yZWxhdGVkLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19yZWplY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3JlamVjdGVkX21hbmRhdG9yeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhdXRvbW9kXCIsIGNoYW5uZWwsIG1zZ2lkLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5yZWNvZ25pemVkIGNvbW1hbmQuLlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2NtZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBmb2xsb3dpbmcgbXNnLWlkcyB0byB0aGUgbm90aWNlIGV2ZW50IGxpc3RlbmVyLi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNtZHNfYXZhaWxhYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJob3N0X3RhcmdldF93ZW50X29mZmxpbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19jZW5zb3JlZF9icm9hZGNhc3RlclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2R1cGxpY2F0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2Vtb3Rlb25seVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3ZlcmlmaWVkX2VtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfcmF0ZWxpbWl0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3Vic29ubHlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ190aW1lZG91dFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2JhZF9jaGFyYWN0ZXJzXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfY2hhbm5lbF9ibG9ja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZmFjZWJvb2tcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1zZ19mb2xsb3dlcnNvbmx5XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfZm9sbG93ZXJzb25seV9mb2xsb3dlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX2ZvbGxvd2Vyc29ubHlfemVyb1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibXNnX3Nsb3dtb2RlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtc2dfc3VzcGVuZGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub19oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9kaXNjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9oZWxwXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2FnZV9tZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhiYXNpY0xvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpY2VcIiwgY2hhbm5lbCwgbXNnaWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhpcyBiZWNhdXNlIHdlIGFyZSBhbHJlYWR5IGxpc3RlbmluZyB0byBIT1NUVEFSR0VULi5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb25cIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3Rfb2ZmXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pbmNsdWRlcyhcIkxvZ2luIHVuc3VjY2Vzc2Z1bFwiKSB8fCBtc2cuaW5jbHVkZXMoXCJMb2dpbiBhdXRoZW50aWNhdGlvbiBmYWlsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhc0Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXNvbiA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnLmluY2x1ZGVzKFwiRXJyb3IgbG9nZ2luZyBpblwiKSB8fCBtc2cuaW5jbHVkZXMoXCJJbXByb3Blcmx5IGZvcm1hdHRlZCBhdXRoXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFzb24gPSBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcIkludmFsaWQgTklDS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhc29uID0gXCJJbnZhbGlkIE5JQ0suXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLndhcm4oYENvdWxkIG5vdCBwYXJzZSBOT1RJQ0UgZnJvbSB0bWkudHdpdGNoLnR2OlxcbiR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZSwgbnVsbCwgNCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJhbm5pdmVyc2FyeSAvIHJlc3ViLi5cbiAgICAgICAgICAgIGNhc2UgXCJVU0VSTk9USUNFXCI6XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wiZGlzcGxheS1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcImxvZ2luXCJdO1xuICAgICAgICAgICAgICAgIHZhciBwbGFuID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXN1Yi1wbGFuXCJdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHBsYW5OYW1lID0gXy51bmVzY2FwZUlSQyhfLmdldChtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3ViLXBsYW4tbmFtZVwiXSwgXCJcIikpIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1lID0gcGxhbi5pbmNsdWRlcyhcIlByaW1lXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtZXRob2RzID0geyBwcmltZSwgcGxhbiwgcGxhbk5hbWUgfTtcbiAgICAgICAgICAgICAgICB2YXIgdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIHZhciBzdHJlYWtNb250aHMgPSB+fihtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tc3RyZWFrLW1vbnRoc1wiXSB8fCAwKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjaXBpZW50ID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC1kaXNwbGF5LW5hbWVcIl0gfHwgbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXJlY2lwaWVudC11c2VyLW5hbWVcIl07XG4gICAgICAgICAgICAgICAgdmFyIGdpZnRTdWJDb3VudCA9IH5+bWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLW1hc3MtZ2lmdC1jb3VudFwiXTtcbiAgICAgICAgICAgICAgICB1c2Vyc3RhdGVbXCJtZXNzYWdlLXR5cGVcIl0gPSBtc2dpZDtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChtc2dpZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmVzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc3ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInJlc3ViXCIsIFwic3ViYW5uaXZlcnNhcnlcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgbXNnLCB1c2Vyc3RhdGUsIG1ldGhvZHNdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3Vic2NyaXB0aW9uXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCBtZXRob2RzLCBtc2csIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZ2lmdCBzdWJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN1YmdpZnRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyBnaWZ0IHN1YlxuICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHByb29mIHRoYXQgdGhpcyBldmVudCBvY2N1clxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5vbnN1YmdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJnaWZ0XCIsIGNoYW5uZWwsIHN0cmVha01vbnRocywgcmVjaXBpZW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhbmRvbSBnaWZ0IHN1YnNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1Ym15c3RlcnlnaWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCB1c2VybmFtZSwgZ2lmdFN1YkNvdW50LCBtZXRob2RzLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGFub255bW91cyByYW5kb20gZ2lmdCBzdWJzXG4gICAgICAgICAgICAgICAgICAgIC8vIE5lZWQgcHJvb2YgdGhhdCB0aGlzIGV2ZW50IG9jY3VyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uc3VibXlzdGVyeWdpZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFub25zdWJteXN0ZXJ5Z2lmdFwiLCBjaGFubmVsLCBnaWZ0U3ViQ291bnQsIG1ldGhvZHMsIHVzZXJzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdXNlciB1cGdyYWRpbmcgZnJvbSBQcmltZSB0byBhIG5vcm1hbCB0aWVyIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJpbWVwYWlkdXBncmFkZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicHJpbWVwYWlkdXBncmFkZVwiLCBjaGFubmVsLCB1c2VybmFtZSwgbWV0aG9kcywgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGEgZ2lmdGVkIHN1YlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZGVyID0gbWVzc2FnZS50YWdzW1wibXNnLXBhcmFtLXNlbmRlci1uYW1lXCJdIHx8IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1zZW5kZXItbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJnaWZ0cGFpZHVwZ3JhZGVcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIHNlbmRlciwgdXNlcnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIHVwZ3JhZGluZyBmcm9tIGFuIGFub255bW91cyBnaWZ0ZWQgc3ViXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhbm9uZ2lmdHBhaWR1cGdyYWRlXCIsIGNoYW5uZWwsIHVzZXJuYW1lLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhaWRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJhaWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS1kaXNwbGF5TmFtZVwiXSB8fCBtZXNzYWdlLnRhZ3NbXCJtc2ctcGFyYW0tbG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlld2VycyA9IG1lc3NhZ2UudGFnc1tcIm1zZy1wYXJhbS12aWV3ZXJDb3VudFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJhaWRlZFwiLCBjaGFubmVsLCB1c2VybmFtZSwgdmlld2Vycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gQ2hhbm5lbCBpcyBub3cgaG9zdGluZyBhbm90aGVyIGNoYW5uZWwgb3IgZXhpdGVkIGhvc3QgbW9kZS4uXG4gICAgICAgICAgICBjYXNlIFwiSE9TVFRBUkdFVFwiOlxuICAgICAgICAgICAgICAgIHZhciBtc2dTcGxpdCA9IG1zZy5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdlcnMgPSB+fm1zZ1NwbGl0WzFdIHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gU3RvcHBlZCBob3N0aW5nLi5cbiAgICAgICAgICAgICAgICBpZiAobXNnU3BsaXRbMF0gPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBFeGl0ZWQgaG9zdCBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInVuaG9zdFwiLCBcIl9wcm9taXNlVW5ob3N0XCJdLCBbW2NoYW5uZWwsIHZpZXdlcnNdLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm93IGhvc3RpbmcuLlxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFubmVsfV0gTm93IGhvc3RpbmcgJHttc2dTcGxpdFswXX0gZm9yICR7dmlld2Vyc30gdmlld2VyKHMpLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0aW5nXCIsIGNoYW5uZWwsIG1zZ1NwbGl0WzBdLCB2aWV3ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFNvbWVvbmUgaGFzIGJlZW4gdGltZWQgb3V0IG9yIGNoYXQgaGFzIGJlZW4gY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICBjYXNlIFwiQ0xFQVJDSEFUXCI6XG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYmVlbiBiYW5uZWQgLyB0aW1lZCBvdXQgYnkgYSBtb2RlcmF0b3IuLlxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmFtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIER1cmF0aW9uIHJldHVybnMgbnVsbCBpZiBpdCdzIGEgYmFuLCBvdGhlcndpc2UgaXQncyBhIHRpbWVvdXQuLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBfLmdldChtZXNzYWdlLnRhZ3NbXCJiYW4tZHVyYXRpb25cIl0sIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzTnVsbChkdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gYmFubmVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiYmFuXCIsIGNoYW5uZWwsIG1zZywgbnVsbCwgbWVzc2FnZS50YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke21zZ30gaGFzIGJlZW4gdGltZWQgb3V0IGZvciAke2R1cmF0aW9ufSBzZWNvbmRzLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidGltZW91dFwiLCBjaGFubmVsLCBtc2csIG51bGwsIH5+ZHVyYXRpb24sIG1lc3NhZ2UudGFncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hhdCB3YXMgY2xlYXJlZCBieSBhIG1vZGVyYXRvci4uXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBDaGF0IHdhcyBjbGVhcmVkIGJ5IGEgbW9kZXJhdG9yLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImNsZWFyY2hhdFwiLCBcIl9wcm9taXNlQ2xlYXJcIl0sIFtbY2hhbm5lbF0sIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgY2FzZSBcIkNMRUFSTVNHXCI6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gbWVzc2FnZS50YWdzW1wibG9naW5cIl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVkTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzdGF0ZSA9IG1lc3NhZ2UudGFncztcbiAgICAgICAgICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJtZXNzYWdlZGVsZXRlZFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSAke3VzZXJuYW1lfSdzIG1lc3NhZ2UgaGFzIGJlZW4gZGVsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZWRlbGV0ZWRcIiwgY2hhbm5lbCwgdXNlcm5hbWUsIGRlbGV0ZWRNZXNzYWdlLCB1c2Vyc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgYSByZWNvbm5lY3Rpb24gcmVxdWVzdCBmcm9tIHRoZSBzZXJ2ZXIuLlxuICAgICAgICAgICAgY2FzZSBcIlJFQ09OTkVDVFwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oXCJSZWNlaXZlZCBSRUNPTk5FQ1QgcmVxdWVzdCBmcm9tIFR3aXRjaC4uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYERpc2Nvbm5lY3RpbmcgYW5kIHJlY29ubmVjdGluZyBpbiAke01hdGgucm91bmQodGhpcy5yZWNvbm5lY3RUaW1lciAvIDEwMDApfSBzZWNvbmRzLi5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBSZWNlaXZlZCB3aGVuIGpvaW5pbmcgYSBjaGFubmVsIGFuZCBldmVyeSB0aW1lIHlvdSBzZW5kIGEgUFJJVk1TRyB0byBhIGNoYW5uZWwuXG4gICAgICAgICAgICBjYXNlIFwiVVNFUlNUQVRFXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY2xpZW50IHRvIHRoZSBtb2RlcmF0b3JzIG9mIHRoaXMgcm9vbS4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcInVzZXItdHlwZVwiXSA9PT0gXCJtb2RcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdKSB7IHRoaXMubW9kZXJhdG9yc1t0aGlzLmxhc3RKb2luZWRdID0gW107IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5pbmNsdWRlcyh0aGlzLnVzZXJuYW1lKSkgeyB0aGlzLm1vZGVyYXRvcnNbdGhpcy5sYXN0Sm9pbmVkXS5wdXNoKHRoaXMudXNlcm5hbWUpOyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTG9nZ2VkIGluIGFuZCB1c2VybmFtZSBkb2Vzbid0IHN0YXJ0IHdpdGgganVzdGluZmFuLi5cbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSAmJiAhdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2Vyc3RhdGVbY2hhbm5lbF0gPSBtZXNzYWdlLnRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEpvaW5lZCA9IGNoYW5uZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMucHVzaChjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgSm9pbmVkICR7Y2hhbm5lbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBfLnVzZXJuYW1lKHRoaXMuZ2V0VXNlcm5hbWUoKSksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEVtb3RlLXNldHMgaGFzIGNoYW5nZWQsIHVwZGF0ZSBpdC4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0gIT09IHRoaXMuZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdID0gbWVzc2FnZS50YWdzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBEZXNjcmliZSBub24tY2hhbm5lbC1zcGVjaWZpYyBzdGF0ZSBpbmZvcm1hdGlvbnMuLlxuICAgICAgICAgICAgY2FzZSBcIkdMT0JBTFVTRVJTVEFURVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsdXNlcnN0YXRlID0gbWVzc2FnZS50YWdzO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgZW1vdGUtc2V0cy4uXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnRhZ3NbXCJlbW90ZS1zZXRzXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVtb3Rlc2V0KG1lc3NhZ2UudGFnc1tcImVtb3RlLXNldHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgd2hlbiBqb2luaW5nIGEgY2hhbm5lbCBhbmQgZXZlcnkgdGltZSBvbmUgb2YgdGhlIGNoYXQgcm9vbSBzZXR0aW5ncywgbGlrZSBzbG93IG1vZGUsIGNoYW5nZS5cbiAgICAgICAgICAgIC8vIFRoZSBtZXNzYWdlIG9uIGpvaW4gY29udGFpbnMgYWxsIHJvb20gc2V0dGluZ3MuXG4gICAgICAgICAgICBjYXNlIFwiUk9PTVNUQVRFXCI6XG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoaXMgbm90aWNlIHRvIGtub3cgaWYgd2Ugc3VjY2Vzc2Z1bGx5IGpvaW5lZCBhIGNoYW5uZWwuLlxuICAgICAgICAgICAgICAgIGlmIChfLmNoYW5uZWwodGhpcy5sYXN0Sm9pbmVkKSA9PT0gY2hhbm5lbCkgeyB0aGlzLmVtaXQoXCJfcHJvbWlzZUpvaW5cIiwgbnVsbCwgY2hhbm5lbCk7IH1cblxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgdGhlIGNoYW5uZWwgbmFtZSBpbiB0aGUgdGFncyBiZWZvcmUgZW1pdHRpbmcgaXQuLlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFncy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyb29tc3RhdGVcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZS50YWdzLmhhc093blByb3BlcnR5KFwic3Vicy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzbG93IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBzbG93X29uL29mZiBub3RpY2UuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS4gWW91IG1heSBzZW5kIG1lc3NhZ2VzIGV2ZXJ5IHNsb3dfZHVyYXRpb24gc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInNsb3dcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS50YWdzLnNsb3cgPT09IFwiYm9vbGVhblwiICYmICFtZXNzYWdlLnRhZ3Muc2xvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gc2xvdyBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wic2xvd1wiLCBcInNsb3dtb2RlXCIsIFwiX3Byb21pc2VTbG93b2ZmXCJdLCBbZGlzYWJsZWQsIGRpc2FibGVkLCBbbnVsbF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSB+fm1lc3NhZ2UudGFncy5zbG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmFibGVkID0gW2NoYW5uZWwsIHRydWUsIG1pbnV0ZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW5uZWx9XSBUaGlzIHJvb20gaXMgbm93IGluIHNsb3cgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcInNsb3dcIiwgXCJzbG93bW9kZVwiLCBcIl9wcm9taXNlU2xvd1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGZvbGxvd2VycyBvbmx5IG1vZGUgaGVyZSBpbnN0ZWFkIG9mIHRoZSBmb2xsb3dlcnNfb24vb2ZmIG5vdGljZS4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvb20gaXMgbm93IGluIDxkdXJhdGlvbj4gZm9sbG93ZXJzLW9ubHkgbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByb29tIGlzIG5vIGxvbmdlciBpbiBmb2xsb3dlcnMtb25seSBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyBkdXJhdGlvbiBpcyBpbiBtaW51dGVzIChzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIHdoZW4gL2ZvbGxvd2Vyc29mZiAoc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZSB3aGVuIC9mb2xsb3dlcnMgd2l0aCBubyBkdXJhdGlvbiAoYm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcImZvbGxvd2Vycy1vbmx5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl0gPT09IFwiLTFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IFtjaGFubmVsLCBmYWxzZSwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBubyBsb25nZXIgaW4gZm9sbG93ZXJzLW9ubHkgbW9kZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRzKFtcImZvbGxvd2Vyc29ubHlcIiwgXCJmb2xsb3dlcnNtb2RlXCIsIFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIl0sIFtkaXNhYmxlZCwgZGlzYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IH5+bWVzc2FnZS50YWdzW1wiZm9sbG93ZXJzLW9ubHlcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuYWJsZWQgPSBbY2hhbm5lbCwgdHJ1ZSwgbWludXRlc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIFRoaXMgcm9vbSBpcyBub3cgaW4gZm9sbG93ZXItb25seSBtb2RlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiZm9sbG93ZXJzb25seVwiLCBcImZvbGxvd2Vyc21vZGVcIiwgXCJfcHJvbWlzZUZvbGxvd2Vyc1wiXSwgW2VuYWJsZWQsIGVuYWJsZWQsIFtudWxsXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBXcm9uZyBjbHVzdGVyLi5cbiAgICAgICAgICAgIGNhc2UgXCJTRVJWRVJDSEFOR0VcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBmcm9tIHRtaS50d2l0Y2gudHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VzIGZyb20ganR2Li5cbiAgICBlbHNlIGlmIChtZXNzYWdlLnByZWZpeCA9PT0gXCJqdHZcIikge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiTU9ERVwiOlxuICAgICAgICAgICAgICAgIGlmIChtc2cgPT09IFwiK29cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdXNlcm5hbWUgdG8gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5pbmNsdWRlcyhtZXNzYWdlLnBhcmFtc1syXSkpIHsgdGhpcy5tb2RlcmF0b3JzW2NoYW5uZWxdLnB1c2gobWVzc2FnZS5wYXJhbXNbMl0pOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobXNnID09PSBcIi1vXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHVzZXJuYW1lIGZyb20gdGhlIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uZmlsdGVyKCh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUgIT0gbWVzc2FnZS5wYXJhbXNbMl07IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInVubW9kXCIsIGNoYW5uZWwsIG1lc3NhZ2UucGFyYW1zWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2cud2FybihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgZnJvbSBqdHY6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFueXRoaW5nIGVsc2UuLlxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2gobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiMzUzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibmFtZXNcIiwgbWVzc2FnZS5wYXJhbXNbMl0sIG1lc3NhZ2UucGFyYW1zWzNdLnNwbGl0KFwiIFwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCIzNjZcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU29tZW9uZSBoYXMgam9pbmVkIHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJKT0lOXCI6XG4gICAgICAgICAgICAgICAgdmFyIG5pY2sgPSBtZXNzYWdlLnByZWZpeC5zcGxpdChcIiFcIilbMF07XG4gICAgICAgICAgICAgICAgLy8gSm9pbmVkIGEgY2hhbm5lbCBhcyBhIGp1c3RpbmZhbiAoYW5vbnltb3VzKSB1c2VyLi5cbiAgICAgICAgICAgICAgICBpZiAoXy5pc0p1c3RpbmZhbih0aGlzLmdldFVzZXJuYW1lKCkpICYmIHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Sm9pbmVkID0gY2hhbm5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscy5wdXNoKGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBKb2luZWQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJqb2luXCIsIGNoYW5uZWwsIG5pY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgZWxzZSBqb2luZWQgdGhlIGNoYW5uZWwsIGp1c3QgZW1pdCB0aGUgam9pbiBldmVudC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgIT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiam9pblwiLCBjaGFubmVsLCBuaWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBTb21lb25lIGhhcyBsZWZ0IHRoZSBjaGFubmVsLi5cbiAgICAgICAgICAgIGNhc2UgXCJQQVJUXCI6XG4gICAgICAgICAgICAgICAgdmFyIGlzU2VsZiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIC8vIENsaWVudCBsZWZ0IGEgY2hhbm5lbC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09IG5pY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcnN0YXRlW2NoYW5uZWxdKSB7IGRlbGV0ZSB0aGlzLnVzZXJzdGF0ZVtjaGFubmVsXTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLmNoYW5uZWxzLnNwbGljZShpbmRleCwgMSk7IH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm9wdHMuY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyB0aGlzLm9wdHMuY2hhbm5lbHMuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYExlZnQgJHtjaGFubmVsfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJfcHJvbWlzZVBhcnRcIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xpZW50IG9yIHNvbWVvbmUgZWxzZSBsZWZ0IHRoZSBjaGFubmVsLCBlbWl0IHRoZSBwYXJ0IGV2ZW50Li5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwYXJ0XCIsIGNoYW5uZWwsIG5pY2ssIGlzU2VsZik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIGEgd2hpc3Blci4uXG4gICAgICAgICAgICBjYXNlIFwiV0hJU1BFUlwiOlxuICAgICAgICAgICAgICAgIHZhciBuaWNrID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFtXSElTUEVSXSA8JHtuaWNrfT46ICR7bXNnfWApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YWdzIHRvIHByb3ZpZGUgdGhlIHVzZXJuYW1lLi5cbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UudGFncy5oYXNPd25Qcm9wZXJ0eShcInVzZXJuYW1lXCIpKSB7IG1lc3NhZ2UudGFncy51c2VybmFtZSA9IG5pY2s7IH1cbiAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcIndoaXNwZXJcIjtcblxuICAgICAgICAgICAgICAgIHZhciBmcm9tID0gXy5jaGFubmVsKG1lc3NhZ2UudGFncy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBmb3IgYm90aCwgd2hpc3BlciBhbmQgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJ3aGlzcGVyXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgICAgICBbZnJvbSwgbWVzc2FnZS50YWdzLCBtc2csIGZhbHNlXVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiUFJJVk1TR1wiOlxuICAgICAgICAgICAgICAgIC8vIEFkZCB1c2VybmFtZSAobG93ZXJjYXNlKSB0byB0aGUgdGFncy4uXG4gICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzLnVzZXJuYW1lID0gbWVzc2FnZS5wcmVmaXguc3BsaXQoXCIhXCIpWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBmcm9tIEpUVi4uXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFncy51c2VybmFtZSA9PT0gXCJqdHZcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IF8udXNlcm5hbWUobXNnLnNwbGl0KFwiIFwiKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdXRvaG9zdCA9IG1zZy5pbmNsdWRlcyhcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWVvbmUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCBhbmQgdGhlIG1lc3NhZ2UgY29udGFpbnMgaG93IG1hbnkgdmlld2Vycy4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaW5jbHVkZXMoXCJob3N0aW5nIHlvdSBmb3JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IF8uZXh0cmFjdE51bWJlcihtc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgY291bnQsIGF1dG9ob3N0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgaXMgaG9zdGluZyB0aGUgY2hhbm5lbCwgYnV0IG5vIHZpZXdlcihzKSBjb3VudCBwcm92aWRlZCBpbiB0aGUgbWVzc2FnZS4uXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1zZy5pbmNsdWRlcyhcImhvc3RpbmcgeW91XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJob3N0ZWRcIiwgY2hhbm5lbCwgbmFtZSwgMCwgYXV0b2hvc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhZ3NbXCJtZXNzYWdlLXR5cGVcIl0gPSBcImFjdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dICo8JHttZXNzYWdlLnRhZ3MudXNlcm5hbWV9PjogJHthY3Rpb25NZXNzYWdlWzFdfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0cyhbXCJhY3Rpb25cIiwgXCJtZXNzYWdlXCJdLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgYWN0aW9uTWVzc2FnZVsxXSwgZmFsc2VdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRhZ3MuaGFzT3duUHJvcGVydHkoXCJiaXRzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2hlZXJcIiwgY2hhbm5lbCwgbWVzc2FnZS50YWdzLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNZXNzYWdlIGlzIGEgcmVndWxhciBjaGF0IG1lc3NhZ2UuLlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWdzW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbm5lbH1dIDwke21lc3NhZ2UudGFncy51c2VybmFtZX0+OiAke21zZ31gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwsIG1lc3NhZ2UudGFncywgbXNnLCBmYWxzZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZTpcXG4ke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDQpfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gQ29ubmVjdCB0byBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnNlcnZlciA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnNlcnZlciwgXCJpcmMtd3MuY2hhdC50d2l0Y2gudHZcIik7XG4gICAgICAgIHRoaXMucG9ydCA9IF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnBvcnQsIDgwKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBwb3J0IGlmIHVzaW5nIGEgc2VjdXJlIGNvbm5lY3Rpb24uLlxuICAgICAgICBpZiAodGhpcy5zZWN1cmUpIHsgdGhpcy5wb3J0ID0gNDQzOyB9XG4gICAgICAgIGlmICh0aGlzLnBvcnQgPT09IDQ0MykgeyB0aGlzLnNlY3VyZSA9IHRydWU7IH1cblxuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gdGhpcy5yZWNvbm5lY3RUaW1lciAqIHRoaXMucmVjb25uZWN0RGVjYXk7XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyID49IHRoaXMubWF4UmVjb25uZWN0SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSB0aGlzLm1heFJlY29ubmVjdEludGVydmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29ubmVjdCB0byBzZXJ2ZXIgZnJvbSBjb25maWd1cmF0aW9uLi5cbiAgICAgICAgdGhpcy5fb3BlbkNvbm5lY3Rpb24oKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VDb25uZWN0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW3RoaXMuc2VydmVyLCB+fnRoaXMucG9ydF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vLyBPcGVuIGEgY29ubmVjdGlvbi4uXG5jbGllbnQucHJvdG90eXBlLl9vcGVuQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIF9vcGVuQ29ubmVjdGlvbigpIHtcbiAgICB0aGlzLndzID0gbmV3IHdzKGAke3RoaXMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIn06Ly8ke3RoaXMuc2VydmVyfToke3RoaXMucG9ydH0vYCwgXCJpcmNcIik7XG5cbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLl9vbkNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLl9vbk9wZW4uYmluZCh0aGlzKTtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBPUEVOLlxuLy8gSW5kaWNhdGVzIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgcmVhZHkgdG8gc2VuZCBhbmQgcmVjZWl2ZSBkYXRhLi5cbmNsaWVudC5wcm90b3R5cGUuX29uT3BlbiA9IGZ1bmN0aW9uIF9vbk9wZW4oKSB7XG4gICAgaWYgKF8uaXNOdWxsKHRoaXMud3MpIHx8IHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEVtaXR0aW5nIFwiY29ubmVjdGluZ1wiIGV2ZW50Li5cbiAgICB0aGlzLmxvZy5pbmZvKGBDb25uZWN0aW5nIHRvICR7dGhpcy5zZXJ2ZXJ9IG9uIHBvcnQgJHt0aGlzLnBvcnR9Li5gKTtcbiAgICB0aGlzLmVtaXQoXCJjb25uZWN0aW5nXCIsIHRoaXMuc2VydmVyLCB+fnRoaXMucG9ydCk7XG5cbiAgICB0aGlzLnVzZXJuYW1lID0gXy5nZXQodGhpcy5vcHRzLmlkZW50aXR5LnVzZXJuYW1lLCBfLmp1c3RpbmZhbigpKTtcbiAgICB0aGlzLnBhc3N3b3JkID0gXy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiU0NITU9PUElJRVwiKSk7XG5cbiAgICAvLyBFbWl0dGluZyBcImxvZ29uXCIgZXZlbnQuLlxuICAgIHRoaXMubG9nLmluZm8oXCJTZW5kaW5nIGF1dGhlbnRpY2F0aW9uIHRvIHNlcnZlci4uXCIpO1xuICAgIHRoaXMuZW1pdChcImxvZ29uXCIpO1xuXG4gICAgLy8gQXV0aGVudGljYXRpb24uLlxuICAgIHRoaXMud3Muc2VuZChcIkNBUCBSRVEgOnR3aXRjaC50di90YWdzIHR3aXRjaC50di9jb21tYW5kcyB0d2l0Y2gudHYvbWVtYmVyc2hpcFwiKTtcbiAgICB0aGlzLndzLnNlbmQoYFBBU1MgJHt0aGlzLnBhc3N3b3JkfWApO1xuICAgIHRoaXMud3Muc2VuZChgTklDSyAke3RoaXMudXNlcm5hbWV9YCk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLi5cbmNsaWVudC5wcm90b3R5cGUuX29uTWVzc2FnZSA9IGZ1bmN0aW9uIF9vbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICB2YXIgcGFydHMgPSBldmVudC5kYXRhLnNwbGl0KFwiXFxyXFxuXCIpO1xuXG4gICAgcGFydHMuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgICAgIGlmICghXy5pc051bGwoc3RyKSkgeyB0aGlzLmhhbmRsZU1lc3NhZ2UocGFyc2UubXNnKHN0cikpOyB9XG4gICAgfSk7XG59O1xuXG4vLyBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuLlxuY2xpZW50LnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICB0aGlzLnJlYXNvbiA9ICFfLmlzTnVsbCh0aGlzLndzKSA/IFwiVW5hYmxlIHRvIGNvbm5lY3QuXCIgOiBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuXG4gICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dXSk7XG5cbiAgICAvLyBSZWNvbm5lY3QgdG8gc2VydmVyLi5cbiAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgIHRoaXMuZW1pdChcIm1heHJlY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJNYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVjb25uZWN0ICYmICF0aGlzLnJlY29ubmVjdGluZyAmJiB0aGlzLnJlY29ubmVjdGlvbnMgPD0gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cy0xKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgIHRoaXMubG9nLmVycm9yKGBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlY29ubmVjdFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7IHRoaXMuY29ubmVjdCgpOyB9LCB0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICB9XG5cbiAgICB0aGlzLndzID0gbnVsbDtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbidzIHJlYWR5U3RhdGUgY2hhbmdlcyB0byBDTE9TRUQuLlxuY2xpZW50LnByb3RvdHlwZS5fb25DbG9zZSA9IGZ1bmN0aW9uIF9vbkNsb3NlKCkge1xuICAgIHRoaXMubW9kZXJhdG9ycyA9IHt9O1xuICAgIHRoaXMudXNlcnN0YXRlID0ge307XG4gICAgdGhpcy5nbG9iYWx1c2Vyc3RhdGUgPSB7fTtcblxuICAgIC8vIFN0b3AgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG5cbiAgICAvLyBVc2VyIGNhbGxlZCAuZGlzY29ubmVjdCgpLCBkb24ndCB0cnkgdG8gcmVjb25uZWN0LlxuICAgIGlmICh0aGlzLndhc0Nsb3NlQ2FsbGVkKSB7XG4gICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFzb24gPSBcIkNvbm5lY3Rpb24gY2xvc2VkLlwiO1xuICAgICAgICB0aGlzLmxvZy5pbmZvKHRoaXMucmVhc29uKTtcbiAgICAgICAgdGhpcy5lbWl0cyhbXCJfcHJvbWlzZUNvbm5lY3RcIiwgXCJfcHJvbWlzZURpc2Nvbm5lY3RcIiwgXCJkaXNjb25uZWN0ZWRcIl0sIFtbdGhpcy5yZWFzb25dLCBbbnVsbF0sIFt0aGlzLnJlYXNvbl1dKTtcbiAgICB9XG4gICAgLy8gR290IGRpc2Nvbm5lY3RlZCBmcm9tIHNlcnZlci4uXG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdHMoW1wiX3Byb21pc2VDb25uZWN0XCIsIFwiZGlzY29ubmVjdGVkXCJdLCBbW3RoaXMucmVhc29uXV0pO1xuXG4gICAgICAgIC8vIFJlY29ubmVjdCB0byBzZXJ2ZXIuLlxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3Rpb25zID09PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJtYXhyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihcIk1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzIHJlYWNoZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdCAmJiAhdGhpcy5yZWNvbm5lY3RpbmcgJiYgdGhpcy5yZWNvbm5lY3Rpb25zIDw9IHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMtMSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25zID0gdGhpcy5yZWNvbm5lY3Rpb25zKzE7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihgQ291bGQgbm90IGNvbm5lY3QgdG8gc2VydmVyLiBSZWNvbm5lY3RpbmcgaW4gJHtNYXRoLnJvdW5kKHRoaXMucmVjb25uZWN0VGltZXIgLyAxMDAwKX0gc2Vjb25kcy4uYCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWNvbm5lY3RcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTsgdGhpcy5jb25uZWN0KCk7IH0sIHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cyA9IG51bGw7XG59O1xuXG4vLyBNaW5pbXVtIG9mIDYwMG1zIGZvciBjb21tYW5kIHByb21pc2VzLCBpZiBjdXJyZW50IGxhdGVuY3kgZXhjZWVkcywgYWRkIDEwMG1zIHRvIGl0IHRvIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IGdldCB0aW1lZCBvdXQuLlxuY2xpZW50LnByb3RvdHlwZS5fZ2V0UHJvbWlzZURlbGF5ID0gZnVuY3Rpb24gX2dldFByb21pc2VEZWxheSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50TGF0ZW5jeSA8PSA2MDApIHsgcmV0dXJuIDYwMDsgfVxuICAgIGVsc2UgeyByZXR1cm4gdGhpcy5jdXJyZW50TGF0ZW5jeSArIDEwMDsgfVxufTtcblxuLy8gU2VuZCBjb21tYW5kIHRvIHNlcnZlciBvciBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuX3NlbmRDb21tYW5kID0gZnVuY3Rpb24gX3NlbmRDb21tYW5kKGRlbGF5LCBjaGFubmVsLCBjb21tYW5kLCBmbikge1xuICAgIC8vIFJhY2UgcHJvbWlzZSBhZ2FpbnN0IGRlbGF5Li5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvY2tldCBpcyBvcGVuZWQuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIuLlxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vdCBjb25uZWN0ZWQgdG8gc2VydmVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7IHJlamVjdChcIk5vIHJlc3BvbnNlIGZyb20gVHdpdGNoLlwiKTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRpbmcgYSBjb21tYW5kIG9uIGEgY2hhbm5lbC4uXG4gICAgICAgIGlmICghXy5pc051bGwoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgWyR7Y2hhbn1dIEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHtjb21tYW5kfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhlY3V0aW5nIGEgcmF3IGNvbW1hbmQuLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYEV4ZWN1dGluZyBjb21tYW5kOiAke2NvbW1hbmR9YCk7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoY29tbWFuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIFNlbmQgYSBtZXNzYWdlIHRvIGNoYW5uZWwuLlxuY2xpZW50LnByb3RvdHlwZS5fc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiBfc2VuZE1lc3NhZ2UoZGVsYXksIGNoYW5uZWwsIG1lc3NhZ2UsIGZuKSB7XG4gICAgLy8gUHJvbWlzZSBhIHJlc3VsdC4uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb2NrZXQgaXMgb3BlbmVkIGFuZCBub3QgbG9nZ2VkIGluIGFzIGEganVzdGluZmFuIHVzZXIuLlxuICAgICAgICBpZiAoXy5pc051bGwodGhpcy53cykgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8uaXNKdXN0aW5mYW4odGhpcy5nZXRVc2VybmFtZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIkNhbm5vdCBzZW5kIGFub255bW91cyBtZXNzYWdlcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYW4gPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIGlmICghdGhpcy51c2Vyc3RhdGVbY2hhbl0pIHsgdGhpcy51c2Vyc3RhdGVbY2hhbl0gPSB7fSB9XG5cbiAgICAgICAgLy8gU3BsaXQgbG9uZyBsaW5lcyBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGVhdGVuIGJ5IHRoZSBzZXJ2ZXIuLlxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPj0gNTAwKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gXy5zcGxpdExpbmUobWVzc2FnZSwgNTAwKTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtc2dbMF07XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRNZXNzYWdlKGRlbGF5LCBjaGFubmVsLCBtc2dbMV0sICgpID0+IHt9KTtcbiAgICAgICAgICAgIH0sIDM1MCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndzLnNlbmQoYFBSSVZNU0cgJHtjaGFufSA6JHttZXNzYWdlfWApO1xuXG4gICAgICAgIHZhciBlbW90ZXMgPSB7fTtcblxuICAgICAgICAvLyBQYXJzZSByZWdleCBhbmQgc3RyaW5nIGVtb3Rlcy4uXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZW1vdGVzZXRzKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbW90ZXNldHNbaWRdLmZvckVhY2goZnVuY3Rpb24oZW1vdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc1JlZ2V4KGVtb3RlLmNvZGUpKSB7IHJldHVybiBwYXJzZS5lbW90ZVJlZ2V4KG1lc3NhZ2UsIGVtb3RlLmNvZGUsIGVtb3RlLmlkLCBlbW90ZXMpOyB9XG4gICAgICAgICAgICAgICAgcGFyc2UuZW1vdGVTdHJpbmcobWVzc2FnZSwgZW1vdGUuY29kZSwgZW1vdGUuaWQsIGVtb3Rlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgdXNlcnN0YXRlIHdpdGggcGFyc2VkIGVtb3Rlcy4uXG4gICAgICAgIHZhciB1c2Vyc3RhdGUgPSBfLm1lcmdlKHRoaXMudXNlcnN0YXRlW2NoYW5dLCBwYXJzZS5lbW90ZXMoeyBlbW90ZXM6IHBhcnNlLnRyYW5zZm9ybUVtb3RlcyhlbW90ZXMpIHx8IG51bGwgfSkpO1xuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYW4gYWN0aW9uICgvbWUgPG1lc3NhZ2U+KS4uXG4gICAgICAgIHZhciBhY3Rpb25NZXNzYWdlID0gXy5hY3Rpb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICBpZiAoYWN0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJhY3Rpb25cIjtcbiAgICAgICAgICAgIHRoaXMubG9nLmluZm8oYFske2NoYW59XSAqPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7YWN0aW9uTWVzc2FnZVsxXX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiYWN0aW9uXCIsIFwibWVzc2FnZVwiXSwgW1xuICAgICAgICAgICAgICAgIFtjaGFuLCB1c2Vyc3RhdGUsIGFjdGlvbk1lc3NhZ2VbMV0sIHRydWVdXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgYSByZWd1bGFyIGNoYXQgbWVzc2FnZS4uXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXNlcnN0YXRlW1wibWVzc2FnZS10eXBlXCJdID0gXCJjaGF0XCI7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBbJHtjaGFufV0gPCR7dGhpcy5nZXRVc2VybmFtZSgpfT46ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wiY2hhdFwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbY2hhbiwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbn07XG5cbi8vIEdyYWIgdGhlIGVtb3RlLXNldHMgb2JqZWN0IGZyb20gdGhlIEFQSS4uXG5jbGllbnQucHJvdG90eXBlLl91cGRhdGVFbW90ZXNldCA9IGZ1bmN0aW9uIF91cGRhdGVFbW90ZXNldChzZXRzKSB7XG4gICAgdGhpcy5lbW90ZXMgPSBzZXRzO1xuXG4gICAgdGhpcy5hcGkoe1xuICAgICAgICB1cmw6IGAvY2hhdC9lbW90aWNvbl9pbWFnZXM/ZW1vdGVzZXRzPSR7c2V0c31gLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYE9BdXRoICR7Xy5wYXNzd29yZChfLmdldCh0aGlzLm9wdHMuaWRlbnRpdHkucGFzc3dvcmQsIFwiXCIpKS5yZXBsYWNlKFwib2F1dGg6XCIsIFwiXCIpfWAsXG4gICAgICAgICAgICBcIkNsaWVudC1JRFwiOiB0aGlzLmNsaWVudElkXG4gICAgICAgIH1cbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZW1vdGVzZXRzID0gYm9keVtcImVtb3RpY29uX3NldHNcIl0gfHwge307XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiZW1vdGVzZXRzXCIsIHNldHMsIHRoaXMuZW1vdGVzZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fdXBkYXRlRW1vdGVzZXQoc2V0cyk7IH0sIDYwMDAwKTtcbiAgICB9KTtcbn07XG5cbi8vIEdldCBjdXJyZW50IHVzZXJuYW1lLi5cbmNsaWVudC5wcm90b3R5cGUuZ2V0VXNlcm5hbWUgPSBmdW5jdGlvbiBnZXRVc2VybmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbn07XG5cbi8vIEdldCBjdXJyZW50IG9wdGlvbnMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRzO1xufTtcblxuLy8gR2V0IGN1cnJlbnQgY2hhbm5lbHMuLlxuY2xpZW50LnByb3RvdHlwZS5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkge1xuICAgIHJldHVybiB0aGlzLmNoYW5uZWxzO1xufTtcblxuLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgYSBtb2RlcmF0b3Igb24gYSBjaGFubmVsLi5cbmNsaWVudC5wcm90b3R5cGUuaXNNb2QgPSBmdW5jdGlvbiBpc01vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgIHZhciBjaGFuID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIGlmICghdGhpcy5tb2RlcmF0b3JzW2NoYW5dKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFuXSA9IFtdOyB9XG4gICAgcmV0dXJuIHRoaXMubW9kZXJhdG9yc1tjaGFuXS5pbmNsdWRlcyhfLnVzZXJuYW1lKHVzZXJuYW1lKSk7XG59O1xuXG4vLyBHZXQgcmVhZHlTdGF0ZS4uXG5jbGllbnQucHJvdG90eXBlLnJlYWR5U3RhdGUgPSBmdW5jdGlvbiByZWFkeVN0YXRlKCkge1xuICAgIGlmIChfLmlzTnVsbCh0aGlzLndzKSkgeyByZXR1cm4gXCJDTE9TRURcIjsgfVxuICAgIHJldHVybiBbXCJDT05ORUNUSU5HXCIsIFwiT1BFTlwiLCBcIkNMT1NJTkdcIiwgXCJDTE9TRURcIl1bdGhpcy53cy5yZWFkeVN0YXRlXTtcbn07XG5cbi8vIERpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuLlxuY2xpZW50LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoIV8uaXNOdWxsKHRoaXMud3MpICYmIHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gMykge1xuICAgICAgICAgICAgdGhpcy53YXNDbG9zZUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKFwiRGlzY29ubmVjdGluZyBmcm9tIHNlcnZlci4uXCIpO1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VEaXNjb25uZWN0XCIsICgpID0+IHsgcmVzb2x2ZShbdGhpcy5zZXJ2ZXIsIH5+dGhpcy5wb3J0XSk7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJDYW5ub3QgZGlzY29ubmVjdCBmcm9tIHNlcnZlci4gU29ja2V0IGlzIG5vdCBvcGVuZWQgb3IgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGNsb3NpbmcuXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiQ2Fubm90IGRpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIuIFNvY2tldCBpcyBub3Qgb3BlbmVkIG9yIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBjbG9zaW5nLlwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLy8gRXhwb3NlIGV2ZXJ5dGhpbmcsIGZvciBicm93c2VyIGFuZCBOb2RlLi5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjbGllbnQ7XG59XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbmRvdy50bWkgPSB7fTtcbiAgICB3aW5kb3cudG1pLmNsaWVudCA9IGNsaWVudDtcbiAgICB3aW5kb3cudG1pLkNsaWVudCA9IGNsaWVudDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbi8vIEVuYWJsZSBmb2xsb3dlcnMtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBmb2xsb3dlcnNvbmx5KGNoYW5uZWwsIG1pbnV0ZXMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIG1pbnV0ZXMgPSBfLmdldChtaW51dGVzLCAzMCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZm9sbG93ZXJzICR7bWludXRlc31gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlRm9sbG93ZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRm9sbG93ZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+bWludXRlc10pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gZm9sbG93ZXJzb25seW9mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvZm9sbG93ZXJzb2ZmXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VGb2xsb3dlcnNvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VGb2xsb3dlcnNvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIExlYXZlIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBwYXJ0KGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBgUEFSVCAke2NoYW5uZWx9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVBhcnQgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VQYXJ0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiByOWtiZXRhKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9yOWtiZXRhXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VSOWtiZXRhIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlUjlrYmV0YVwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gRGlzYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbmZ1bmN0aW9uIHI5a2JldGFvZmYoY2hhbm5lbCkge1xuICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL3I5a2JldGFvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVI5a2JldGFvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VSOWtiZXRhb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBFbmFibGUgc2xvdyBtb2RlIG9uIGEgY2hhbm5lbC4uXG5mdW5jdGlvbiBzbG93KGNoYW5uZWwsIHNlY29uZHMpIHtcbiAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuXG4gICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3Nsb3cgJHtzZWNvbmRzfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VTbG93IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlU2xvd1wiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB+fnNlY29uZHNdKTsgfVxuICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuZnVuY3Rpb24gc2xvd29mZihjaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvc2xvd29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlU2xvd29mZiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVNsb3dvZmZcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFNlbmQgYWN0aW9uIG1lc3NhZ2UgKC9tZSA8bWVzc2FnZT4pIG9uIGEgY2hhbm5lbC4uXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBtZXNzYWdlID0gYFxcdTAwMDFBQ1RJT04gJHttZXNzYWdlfVxcdTAwMDFgO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICBiYW46IGZ1bmN0aW9uIGJhbihjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHVzZXJuYW1lID0gXy51c2VybmFtZSh1c2VybmFtZSk7XG4gICAgICAgIHJlYXNvbiA9IF8uZ2V0KHJlYXNvbiwgXCJcIik7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgYC9iYW4gJHt1c2VybmFtZX0gJHtyZWFzb259YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VCYW4gZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQmFuXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgcmVhc29uXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2xlYXIgYWxsIG1lc3NhZ2VzIG9uIGEgY2hhbm5lbC4uXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9jbGVhclwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUNsZWFyIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNsZWFyXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvZiB5b3VyIHVzZXJuYW1lLi5cbiAgICBjb2xvcjogZnVuY3Rpb24gY29sb3IoY2hhbm5lbCwgbmV3Q29sb3IpIHtcbiAgICAgICAgbmV3Q29sb3IgPSBfLmdldChuZXdDb2xvciwgY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC9jb2xvciAke25ld0NvbG9yfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlQ29sb3IgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlQ29sb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW25ld0NvbG9yXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gUnVuIGNvbW1lcmNpYWwgb24gYSBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIGNvbW1lcmNpYWw6IGZ1bmN0aW9uIGNvbW1lcmNpYWwoY2hhbm5lbCwgc2Vjb25kcykge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICBzZWNvbmRzID0gXy5nZXQoc2Vjb25kcywgMzApO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvY29tbWVyY2lhbCAke3NlY29uZHN9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VDb21tZXJjaWFsIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZUNvbW1lcmNpYWxcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWwsIH5+c2Vjb25kc10pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblx0XG5cdFxuICAgIC8vIERlbGV0ZSBhIHNwZWNpZmljIG1lc3NhZ2Ugb24gYSBjaGFubmVsXG4gICAgZGVsZXRlbWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlbWVzc2FnZShjaGFubmVsLCBtZXNzYWdlVVVJRCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvZGVsZXRlICR7bWVzc2FnZVVVSUR9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VEZWxldGVtZXNzYWdlIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZURlbGV0ZW1lc3NhZ2VcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmFibGUgZW1vdGUtb25seSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgZW1vdGVvbmx5OiBmdW5jdGlvbiBlbW90ZW9ubHkoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIFwiL2Vtb3Rlb25seVwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUVtb3Rlb25seSBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VFbW90ZW9ubHlcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7IHJlc29sdmUoW2NoYW5uZWxdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBEaXNhYmxlIGVtb3RlLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGVtb3Rlb25seW9mZjogZnVuY3Rpb24gZW1vdGVvbmx5b2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9lbW90ZW9ubHlvZmZcIiwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VFbW90ZW9ubHlvZmYgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlRW1vdGVvbmx5b2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRW5hYmxlIGZvbGxvd2Vycy1vbmx5IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBmb2xsb3dlcnNvbmx5OiBmb2xsb3dlcnNvbmx5LFxuXG4gICAgLy8gQWxpYXMgZm9yIGZvbGxvd2Vyc29ubHkoKS4uXG4gICAgZm9sbG93ZXJzbW9kZTogZm9sbG93ZXJzb25seSxcblxuICAgIC8vIERpc2FibGUgZm9sbG93ZXJzLW9ubHkgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIGZvbGxvd2Vyc29ubHlvZmY6IGZvbGxvd2Vyc29ubHlvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3IgZm9sbG93ZXJzb25seW9mZigpLi5cbiAgICBmb2xsb3dlcnNtb2Rlb2ZmOiBmb2xsb3dlcnNvbmx5b2ZmLFxuXG4gICAgLy8gSG9zdCBhIGNoYW5uZWwuLlxuICAgIGhvc3Q6IGZ1bmN0aW9uIGhvc3QoY2hhbm5lbCwgdGFyZ2V0KSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICAgIHRhcmdldCA9IF8udXNlcm5hbWUodGFyZ2V0KTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKDIwMDAsIGNoYW5uZWwsIGAvaG9zdCAke3RhcmdldH1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZUhvc3QgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlSG9zdFwiLCAoZXJyLCByZW1haW5pbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB0YXJnZXQsIH5+cmVtYWluaW5nXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gSm9pbiBhIGNoYW5uZWwuLlxuICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciAuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQobnVsbCwgbnVsbCwgYEpPSU4gJHtjaGFubmVsfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBcIl9wcm9taXNlSm9pblwiO1xuICAgICAgICAgICAgdmFyIGhhc0Z1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gKGVyciwgam9pbmVkQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsID09PSBfLmNoYW5uZWwoam9pbmVkQ2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VKb2luIGV2ZW50IGZvciB0aGUgdGFyZ2V0IGNoYW5uZWwsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzRnVsZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgLy8gUmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5fZ2V0UHJvbWlzZURlbGF5KCk7XG4gICAgICAgICAgICBfLnByb21pc2VEZWxheShkZWxheSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNGdWxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KGV2ZW50TmFtZSwgXCJObyByZXNwb25zZSBmcm9tIFR3aXRjaC5cIiwgY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBNb2QgdXNlcm5hbWUgb24gY2hhbm5lbC4uXG4gICAgbW9kOiBmdW5jdGlvbiBtb2QoY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL21vZCAke3VzZXJuYW1lfWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlTW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZU1vZFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBHZXQgbGlzdCBvZiBtb2RzIG9uIGEgY2hhbm5lbC4uXG4gICAgbW9kczogZnVuY3Rpb24gbW9kcyhjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwgPSBfLmNoYW5uZWwoY2hhbm5lbCk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgY2hhbm5lbCwgXCIvbW9kc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZU1vZHMgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlTW9kc1wiLCAoZXJyLCBtb2RzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBsaXN0IG9mIG1vZGVyYXRvcnMuLlxuICAgICAgICAgICAgICAgICAgICBtb2RzLmZvckVhY2goKHVzZXJuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW9kZXJhdG9yc1tjaGFubmVsXSkgeyB0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0gPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVyYXRvcnNbY2hhbm5lbF0uaW5jbHVkZXModXNlcm5hbWUpKSB7IHRoaXMubW9kZXJhdG9yc1tjaGFubmVsXS5wdXNoKHVzZXJuYW1lKTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBMZWF2ZSBhIGNoYW5uZWwuLlxuICAgIHBhcnQ6IHBhcnQsXG5cbiAgICAvLyBBbGlhcyBmb3IgcGFydCgpLi5cbiAgICBsZWF2ZTogcGFydCxcblxuICAgIC8vIFNlbmQgYSBwaW5nIHRvIHRoZSBzZXJ2ZXIuLlxuICAgIHBpbmc6IGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIG51bGwsIFwiUElOR1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVybmFsIHBpbmcgdGltZW91dCBjaGVjayBpbnRlcnZhbC4uXG4gICAgICAgICAgICB0aGlzLmxhdGVuY3kgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FzQ2xvc2VDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoXCJQaW5nIHRpbWVvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdMb29wKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF8uZ2V0KHRoaXMub3B0cy5jb25uZWN0aW9uLnRpbWVvdXQsIDk5OTkpKTtcblxuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VQaW5nIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVBpbmdcIiwgKGxhdGVuY3kpID0+IHsgcmVzb2x2ZShbcGFyc2VGbG9hdChsYXRlbmN5KV0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBSOUtCZXRhIG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICByOWtiZXRhOiByOWtiZXRhLFxuXG4gICAgLy8gQWxpYXMgZm9yIHI5a2JldGEoKS4uXG4gICAgcjlrbW9kZTogcjlrYmV0YSxcblxuICAgIC8vIERpc2FibGUgUjlLQmV0YSBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgcjlrYmV0YW9mZjogcjlrYmV0YW9mZixcblxuICAgIC8vIEFsaWFzIGZvciByOWtiZXRhb2ZmKCkuLlxuICAgIHI5a21vZGVvZmY6IHI5a2JldGFvZmYsXG5cbiAgICAvLyBTZW5kIGEgcmF3IG1lc3NhZ2UgdG8gdGhlIHNlcnZlci4uXG4gICAgcmF3OiBmdW5jdGlvbiByYXcobWVzc2FnZSkge1xuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBudWxsLCBtZXNzYWdlLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKFttZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBTZW5kIGEgbWVzc2FnZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNheTogZnVuY3Rpb24gc2F5KGNoYW5uZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2Uuc3RhcnRzV2l0aChcIi5cIikgJiYgIW1lc3NhZ2Uuc3RhcnRzV2l0aChcIi4uXCIpKSB8fCBtZXNzYWdlLnN0YXJ0c1dpdGgoXCIvXCIpIHx8IG1lc3NhZ2Uuc3RhcnRzV2l0aChcIlxcXFxcIikpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZXNzYWdlIGlzIGFuIGFjdGlvbiBtZXNzYWdlLi5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN1YnN0cigxLCAzKSA9PT0gXCJtZSBcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbihjaGFubmVsLCBtZXNzYWdlLnN1YnN0cig0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyB0aW1lLCB0aGVyZSBpcyBubyBwb3NzaWJsZSB3YXkgdG8gZGV0ZWN0IGlmIGEgbWVzc2FnZSBoYXMgYmVlbiBzZW50IGhhcyBiZWVuIGVhdGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBzZXJ2ZXIsIHNvIHdlIGNhbiBvbmx5IHJlc29sdmUgdGhlIFByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2UodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIG1lc3NhZ2UsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW2NoYW5uZWwsIG1lc3NhZ2VdKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEVuYWJsZSBzbG93IG1vZGUgb24gYSBjaGFubmVsLi5cbiAgICBzbG93OiBzbG93LFxuXG4gICAgLy8gQWxpYXMgZm9yIHNsb3coKS4uXG4gICAgc2xvd21vZGU6IHNsb3csXG5cbiAgICAvLyBEaXNhYmxlIHNsb3cgbW9kZSBvbiBhIGNoYW5uZWwuLlxuICAgIHNsb3dvZmY6IHNsb3dvZmYsXG5cbiAgICAvLyBBbGlhcyBmb3Igc2xvd29mZigpLi5cbiAgICBzbG93bW9kZW9mZjogc2xvd29mZixcblxuICAgIC8vIEVuYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnM6IGZ1bmN0aW9uIHN1YnNjcmliZXJzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc1wiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZSBzdWJzY3JpYmVycyBtb2RlIG9uIGEgY2hhbm5lbC4uXG4gICAgc3Vic2NyaWJlcnNvZmY6IGZ1bmN0aW9uIHN1YnNjcmliZXJzb2ZmKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi9zdWJzY3JpYmVyc29mZlwiLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVN1YnNjcmliZXJzb2ZmIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVN1YnNjcmliZXJzb2ZmXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsXSk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgcmVqZWN0KGVycik7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gVGltZW91dCB1c2VybmFtZSBvbiBjaGFubmVsIGZvciBYIHNlY29uZHMuLlxuICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQoY2hhbm5lbCwgdXNlcm5hbWUsIHNlY29uZHMsIHJlYXNvbikge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIGlmICghXy5pc051bGwoc2Vjb25kcykgJiYgIV8uaXNJbnRlZ2VyKHNlY29uZHMpKSB7XG4gICAgICAgICAgICByZWFzb24gPSBzZWNvbmRzO1xuICAgICAgICAgICAgc2Vjb25kcyA9IDMwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlY29uZHMgPSBfLmdldChzZWNvbmRzLCAzMDApO1xuICAgICAgICByZWFzb24gPSBfLmdldChyZWFzb24sIFwiXCIpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdGltZW91dCAke3VzZXJuYW1lfSAke3NlY29uZHN9ICR7cmVhc29ufWAsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVGltZW91dCBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VUaW1lb3V0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZSwgfn5zZWNvbmRzLCByZWFzb25dKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBVbmJhbiB1c2VybmFtZSBvbiBjaGFubmVsLi5cbiAgICB1bmJhbjogZnVuY3Rpb24gdW5iYW4oY2hhbm5lbCwgdXNlcm5hbWUpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcbiAgICAgICAgdXNlcm5hbWUgPSBfLnVzZXJuYW1lKHVzZXJuYW1lKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBgL3VuYmFuICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VVbmJhbiBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VVbmJhblwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbCwgdXNlcm5hbWVdKTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyByZWplY3QoZXJyKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBFbmQgdGhlIGN1cnJlbnQgaG9zdGluZy4uXG4gICAgdW5ob3N0OiBmdW5jdGlvbiB1bmhvc3QoY2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQoMjAwMCwgY2hhbm5lbCwgXCIvdW5ob3N0XCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVW5ob3N0IGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVuaG9zdFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsgcmVzb2x2ZShbY2hhbm5lbF0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVubW9kIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVubW9kOiBmdW5jdGlvbiB1bm1vZChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW5tb2QgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVubW9kIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVubW9kXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFVudmlwIHVzZXJuYW1lIG9uIGNoYW5uZWwuLlxuICAgIHVudmlwOiBmdW5jdGlvbiB1bnZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdW52aXAgJHt1c2VybmFtZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWNlaXZlZCBfcHJvbWlzZVVudmlwIGV2ZW50LCByZXNvbHZlIG9yIHJlamVjdC4uXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJfcHJvbWlzZVVudmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEFkZCB1c2VybmFtZSB0byBWSVAgbGlzdCBvbiBjaGFubmVsLi5cbiAgICB2aXA6IGZ1bmN0aW9uIHZpcChjaGFubmVsLCB1c2VybmFtZSkge1xuICAgICAgICBjaGFubmVsID0gXy5jaGFubmVsKGNoYW5uZWwpO1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIHNlcnZlciBhbmQgcmFjZSB0aGUgUHJvbWlzZSBhZ2FpbnN0IGEgZGVsYXkuLlxuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZENvbW1hbmQodGhpcy5fZ2V0UHJvbWlzZURlbGF5KCksIGNoYW5uZWwsIGAvdmlwICR7dXNlcm5hbWV9YCwgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVjZWl2ZWQgX3Byb21pc2VWaXAgZXZlbnQsIHJlc29sdmUgb3IgcmVqZWN0Li5cbiAgICAgICAgICAgIHRoaXMub25jZShcIl9wcm9taXNlVmlwXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKFtjaGFubmVsLCB1c2VybmFtZV0pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEdldCBsaXN0IG9mIFZJUHMgb24gYSBjaGFubmVsLi5cbiAgICB2aXBzOiBmdW5jdGlvbiB2aXBzKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbCA9IF8uY2hhbm5lbChjaGFubmVsKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBjb21tYW5kIHRvIHRoZSBzZXJ2ZXIgYW5kIHJhY2UgdGhlIFByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRDb21tYW5kKHRoaXMuX2dldFByb21pc2VEZWxheSgpLCBjaGFubmVsLCBcIi92aXBzXCIsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFJlY2VpdmVkIF9wcm9taXNlVmlwcyBldmVudCwgcmVzb2x2ZSBvciByZWplY3QuLlxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiX3Byb21pc2VWaXBzXCIsIChlcnIsIHZpcHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycikgeyByZXNvbHZlKHZpcHMpOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHJlamVjdChlcnIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFNlbmQgYW4gd2hpc3BlciBtZXNzYWdlIHRvIGEgdXNlci4uXG4gICAgd2hpc3BlcjogZnVuY3Rpb24gd2hpc3Blcih1c2VybmFtZSwgbWVzc2FnZSkge1xuICAgICAgICB1c2VybmFtZSA9IF8udXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgd2lsbCBub3Qgc2VuZCBhIHdoaXNwZXIgdG8gdGhlIGFjY291bnQgdGhhdCBzZW50IGl0LlxuICAgICAgICBpZiAodXNlcm5hbWUgPT09IHRoaXMuZ2V0VXNlcm5hbWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQ2Fubm90IHNlbmQgYSB3aGlzcGVyIHRvIHRoZSBzYW1lIGFjY291bnQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgc2VydmVyIGFuZCByYWNlIHRoZSBQcm9taXNlIGFnYWluc3QgYSBkZWxheS4uXG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kQ29tbWFuZCh0aGlzLl9nZXRQcm9taXNlRGVsYXkoKSwgXCIjdG1panNcIiwgYC93ICR7dXNlcm5hbWV9ICR7bWVzc2FnZX1gLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IF8uY2hhbm5lbCh1c2VybmFtZSksXG4gICAgICAgICAgICAgICAgdXNlcnN0YXRlID0gXy5tZXJnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3NhZ2UtdHlwZVwiOiBcIndoaXNwZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZS1pZFwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aHJlYWQtaWRcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmdldFVzZXJuYW1lKClcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5nbG9iYWx1c2Vyc3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IGZvciBib3RoLCB3aGlzcGVyIGFuZCBtZXNzYWdlLi5cbiAgICAgICAgICAgIHRoaXMuZW1pdHMoW1wid2hpc3BlclwiLCBcIm1lc3NhZ2VcIl0sIFtcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXSxcbiAgICAgICAgICAgICAgICBbZnJvbSwgdXNlcnN0YXRlLCBtZXNzYWdlLCB0cnVlXVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gcG9zc2libGUgd2F5IHRvIGRldGVjdCBpZiBhIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBoYXMgYmVlbiBlYXRlblxuICAgICAgICAgICAgLy8gYnkgdGhlIHNlcnZlciwgc28gd2UgY2FuIG9ubHkgcmVzb2x2ZSB0aGUgUHJvbWlzZS5cbiAgICAgICAgICAgIHJlc29sdmUoW3VzZXJuYW1lLCBtZXNzYWdlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4gKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4gKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4gKiBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbiAqIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4gKiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuICogT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuICogVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gICAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdCBtdWx0aXBsZSBldmVudHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0cyA9IGZ1bmN0aW9uKHR5cGVzLCB2YWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwgPSBpIDwgdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1tpXSA6IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbdHlwZXNbaV1dLmNvbmNhdCh2YWwpKTtcbiAgICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gICAgaWYgKCF0aGlzLl9ldmVudHMpIHsgdGhpcy5fZXZlbnRzID0ge307IH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgICBpZiAodHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8IChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikgeyB0aHJvdyBlcjsgfVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFxcXCJlcnJvclxcXCIgZXZlbnQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIHNsb3dlclxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgICAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbTtcblxuICAgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpIHsgdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpOyB9XG5cbiAgICBpZiAoIXRoaXMuX2V2ZW50cykgeyB0aGlzLl9ldmVudHMgPSB7fTsgfVxuXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmVtaXQoXCJuZXdMaXN0ZW5lclwiLCB0eXBlLCBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyOyB9XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpIHsgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpOyB9XG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgZWxzZSB7IHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTsgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgICAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIiwgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBOb3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMuLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7IHRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTsgfVxuXG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KHR5cGUpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICB2YXIgY291bnQgPSAxO1xuICAgICAgICB2YXIgc2VhcmNoRm9yID0gdHlwZTtcblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGspICYmIGsuc3RhcnRzV2l0aChzZWFyY2hGb3IpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gdHlwZSArIGNvdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGcoKSB7XG4gICAgICAgIGlmICh0eXBlLmNoYXJBdCgwKSA9PT0gXCJfXCIgJiYgIWlzTmFOKHR5cGUuc3Vic3RyKHR5cGUubGVuZ3RoIC0gMSkpKSB7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5zdWJzdHJpbmcoMCwgdHlwZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgICAgIGlmICghZmlyZWQpIHtcbiAgICAgICAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgdGhpcy5vbih0eXBlLCBnKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLy8gRW1pdHMgYSBcInJlbW92ZUxpc3RlbmVyXCIgZXZlbnQgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLi5cbi8vIE1vZGlmaWVkIHRvIHN1cHBvcnQgbXVsdGlwbGUgY2FsbHMgZnJvbSAub25jZSgpLi5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkgeyB0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7IH1cblxuICAgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gICAgcG9zaXRpb24gPSAtMTtcbiAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlICsgXCIyXCIpICYmIHR5cGUuY2hhckF0KDApID09PSBcIl9cIikge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEZvciA9IHR5cGU7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuX2V2ZW50cyl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShrKSAmJiBrLnN0YXJ0c1dpdGgoc2VhcmNoRm9yKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGsuc3Vic3RyKGsubGVuZ3RoIC0gMSkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGUgKyBwYXJzZUludChrLnN1YnN0cihrLmxlbmd0aCAtIDEpIC0gMSldID0gdGhpcy5fZXZlbnRzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1trXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGUgKyBcIjFcIl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpOyB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikgeyB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBrZXksIGxpc3RlbmVycztcblxuICAgIGlmICghdGhpcy5fZXZlbnRzKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsgdGhpcy5fZXZlbnRzID0ge307IH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKSB7IGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcInJlbW92ZUxpc3RlbmVyXCIpIHsgY29udGludWU7IH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHsgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpOyB9XG4gICAgZWxzZSBpZiAobGlzdGVuZXJzKSB7IHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKSB7IHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7IH0gfVxuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSkgeyByZXQgPSBbXTsgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSkgeyByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTsgfVxuICAgIGVsc2UgeyByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTsgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgICAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSkgeyByZXR1cm4gMTsgfVxuICAgICAgICBlbHNlIGlmIChldmxpc3RlbmVyKSB7IHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDsgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSBcIm51bWJlclwiO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsInZhciBfID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBjdXJyZW50TGV2ZWwgPSBcImluZm9cIjtcbnZhciBsZXZlbHMgPSB7IFwidHJhY2VcIjogMCwgXCJkZWJ1Z1wiOiAxLCBcImluZm9cIjogMiwgXCJ3YXJuXCI6IDMsIFwiZXJyb3JcIjogNCwgXCJmYXRhbFwiOiA1IH1cblxuLy8gTG9nZ2VyIGltcGxlbWVudGF0aW9uLi5cbmZ1bmN0aW9uIGxvZyhsZXZlbCkge1xuICAgIC8vIFJldHVybiBhIGNvbnNvbGUgbWVzc2FnZSBkZXBlbmRpbmcgb24gdGhlIGxvZ2dpbmcgbGV2ZWwuLlxuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAobGV2ZWxzW2xldmVsXSA+PSBsZXZlbHNbY3VycmVudExldmVsXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFske18uZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKX1dICR7bGV2ZWx9OiAke21lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIENoYW5nZSB0aGUgY3VycmVudCBsb2dnaW5nIGxldmVsLi5cbiAgICBzZXRMZXZlbDogZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XG4gICAgfSxcbiAgICB0cmFjZTogbG9nKFwidHJhY2VcIiksXG4gICAgZGVidWc6IGxvZyhcImRlYnVnXCIpLFxuICAgIGluZm86IGxvZyhcImluZm9cIiksXG4gICAgd2FybjogbG9nKFwid2FyblwiKSxcbiAgICBlcnJvcjogbG9nKFwiZXJyb3JcIiksXG4gICAgZmF0YWw6IGxvZyhcImZhdGFsXCIpXG59O1xuIiwiLypcbiAgICBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSwgRmlvbm4gS2VsbGVoZXIgQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gICAgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgICAgIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAgICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblxuICAgICAgICBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAgICBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICAgIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAgICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICAgIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAgIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsXG4gICAgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gICAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICAgIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZXG4gICAgT0YgU1VDSCBEQU1BR0UuXG4qL1xudmFyIF8gPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBub25zcGFjZVJlZ2V4ID0gL1xcUysvZztcblxuZnVuY3Rpb24gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIHRhZ0tleSwgc3BsQSA9IFwiLFwiLCBzcGxCID0gXCIvXCIsIHNwbEMpIHtcbiAgICB2YXIgcmF3ID0gdGFnc1t0YWdLZXldO1xuICAgIFxuICAgIGlmKHJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH1cblxuICAgIHZhciB0YWdJc1N0cmluZyA9IF8uaXNTdHJpbmcocmF3KTtcbiAgICB0YWdzW3RhZ0tleSArIFwiLXJhd1wiXSA9IHRhZ0lzU3RyaW5nID8gcmF3IDogbnVsbDtcblxuICAgIGlmKHJhdyA9PT0gdHJ1ZSkge1xuICAgICAgICB0YWdzW3RhZ0tleV0gPSBudWxsO1xuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG5cbiAgICB0YWdzW3RhZ0tleV0gPSB7fTtcblxuICAgIGlmICh0YWdJc1N0cmluZykge1xuICAgICAgICB2YXIgc3BsID0gcmF3LnNwbGl0KHNwbEEpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBzcGxbaV0uc3BsaXQoc3BsQik7XG4gICAgICAgICAgICB2YXIgdmFsID0gcGFydHNbMV07XG4gICAgICAgICAgICBpZiAoc3BsQyAhPT0gdW5kZWZpbmVkICYmIHZhbCkge1xuICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5zcGxpdChzcGxDKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhZ3NbdGFnS2V5XVtwYXJ0c1swXV0gPSB2YWwgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFncztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gUGFyc2UgVHdpdGNoIGJhZGdlcy4uXG4gICAgYmFkZ2VzOiBmdW5jdGlvbiBiYWRnZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2VzXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggYmFkZ2UtaW5mby4uXG4gICAgYmFkZ2VJbmZvOiBmdW5jdGlvbiBiYWRnZUluZm8odGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiYmFkZ2UtaW5mb1wiKTtcbiAgICB9LFxuXG4gICAgLy8gUGFyc2UgVHdpdGNoIGVtb3Rlcy4uXG4gICAgZW1vdGVzOiBmdW5jdGlvbiBlbW90ZXModGFncykge1xuICAgICAgICByZXR1cm4gcGFyc2VDb21wbGV4VGFnKHRhZ3MsIFwiZW1vdGVzXCIsIFwiL1wiLCBcIjpcIiwgXCIsXCIpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSByZWdleCBlbW90ZXMuLlxuICAgIGVtb3RlUmVnZXg6IGZ1bmN0aW9uIGVtb3RlUmVnZXgobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIihcXFxcYnxefFxccylcIiArIF8udW5lc2NhcGVIdG1sKGNvZGUpICsgXCIoXFxcXGJ8JHxcXHMpXCIpO1xuICAgICAgICB2YXIgbWF0Y2g7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZW1vdGUgY29kZSBtYXRjaGVzIHVzaW5nIFJlZ0V4cCBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QobWF0Y2hbMF0pKSB7XG4gICAgICAgICAgICAgICAgb2JqW2lkXSA9IG9ialtpZF0gfHwgW107XG4gICAgICAgICAgICAgICAgb2JqW2lkXS5wdXNoKFttYXRjaC5pbmRleCwgbm9uc3BhY2VSZWdleC5sYXN0SW5kZXggLSAxXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBzdHJpbmcgZW1vdGVzLi5cbiAgICBlbW90ZVN0cmluZzogZnVuY3Rpb24gZW1vdGVTdHJpbmcobXNnLCBjb2RlLCBpZCwgb2JqKSB7XG4gICAgICAgIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGVtb3RlIGNvZGUgbWF0Y2hlcyBhbmQgcHVzaCBpdCB0byB0aGUgb2JqZWN0Li5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IG5vbnNwYWNlUmVnZXguZXhlYyhtc2cpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09PSBfLnVuZXNjYXBlSHRtbChjb2RlKSkge1xuICAgICAgICAgICAgICAgIG9ialtpZF0gPSBvYmpbaWRdIHx8IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpZF0ucHVzaChbbWF0Y2guaW5kZXgsIG5vbnNwYWNlUmVnZXgubGFzdEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgZW1vdGVzIG9iamVjdCB0byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0Li5cbiAgICAvLyBlbW90ZV9pZDpmaXJzdF9pbmRleC1sYXN0X2luZGV4LGFub3RoZXJfZmlyc3QtYW5vdGhlcl9sYXN0L2Fub3RoZXJfZW1vdGVfaWQ6Zmlyc3RfaW5kZXgtbGFzdF9pbmRleFxuICAgIHRyYW5zZm9ybUVtb3RlczogZnVuY3Rpb24gdHJhbnNmb3JtRW1vdGVzKGVtb3Rlcykge1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSBcIlwiO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGVtb3RlcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gYCR7dHJhbnNmb3JtZWQraWR9OmA7XG4gICAgICAgICAgICBlbW90ZXNbaWRdLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZCtpbmRleC5qb2luKFwiLVwiKX0sYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSBgJHt0cmFuc2Zvcm1lZC5zbGljZSgwLC0xKX0vYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnNsaWNlKDAsLTEpO1xuICAgIH0sXG5cbiAgICAvLyBQYXJzZSBUd2l0Y2ggbWVzc2FnZXMuLlxuICAgIG1zZzogZnVuY3Rpb24gbXNnKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICByYXc6IGRhdGEsXG4gICAgICAgICAgICB0YWdzOiB7fSxcbiAgICAgICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IG51bGwsXG4gICAgICAgICAgICBwYXJhbXM6IFtdXG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3NpdGlvbiBhbmQgbmV4dHNwYWNlIGFyZSB1c2VkIGJ5IHRoZSBwYXJzZXIgYXMgYSByZWZlcmVuY2UuLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgbmV4dHNwYWNlID0gMDtcblxuICAgICAgICAvLyBUaGUgZmlyc3QgdGhpbmcgd2UgY2hlY2sgZm9yIGlzIElSQ3YzLjIgbWVzc2FnZSB0YWdzLlxuICAgICAgICAvLyBodHRwOi8vaXJjdjMuYXRoZW1lLm9yZy9zcGVjaWZpY2F0aW9uL21lc3NhZ2UtdGFncy0zLjJcbiAgICAgICAgaWYgKGRhdGEuY2hhckNvZGVBdCgwKSA9PT0gNjQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0c3BhY2UgPSBkYXRhLmluZGV4T2YoXCIgXCIpO1xuXG4gICAgICAgICAgICAvLyBNYWxmb3JtZWQgSVJDIG1lc3NhZ2UuLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGFncyBhcmUgc3BsaXQgYnkgYSBzZW1pIGNvbG9uLi5cbiAgICAgICAgICAgIHZhciByYXdUYWdzID0gZGF0YS5zbGljZSgxLCBuZXh0c3BhY2UpLnNwbGl0KFwiO1wiKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gVGFncyBkZWxpbWl0ZWQgYnkgYW4gZXF1YWxzIHNpZ24gYXJlIGtleT12YWx1ZSB0YWdzLlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZXF1YWxzLCB3ZSBhc3NpZ24gdGhlIHRhZyBhIHZhbHVlIG9mIHRydWUuXG4gICAgICAgICAgICAgICAgdmFyIHRhZyA9IHJhd1RhZ3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBhaXIgPSB0YWcuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UudGFnc1twYWlyWzBdXSA9IHRhZy5zdWJzdHJpbmcodGFnLmluZGV4T2YoXCI9XCIpICsgMSkgfHwgdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIG1lc3NhZ2UncyBwcmVmaXggaWYgcHJlc2VudC4gUHJlZml4ZXMgYXJlIHByZXBlbmRlZCB3aXRoIGEgY29sb24uLlxuICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgIG5leHRzcGFjZSA9IGRhdGEuaW5kZXhPZihcIiBcIiwgcG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgYWZ0ZXIgdGhlIHByZWZpeCwgZGVlbSB0aGlzIG1lc3NhZ2UgdG8gYmUgbWFsZm9ybWVkLlxuICAgICAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVzc2FnZS5wcmVmaXggPSBkYXRhLnNsaWNlKHBvc2l0aW9uICsgMSwgbmV4dHNwYWNlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gbmV4dHNwYWNlICsgMTtcblxuICAgICAgICAgICAgLy8gU2tpcCBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZS4uXG4gICAgICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBtb3JlIHdoaXRlc3BhY2UgbGVmdCwgZXh0cmFjdCBldmVyeXRoaW5nIGZyb20gdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nIGFzIHRoZSBjb21tYW5kLi5cbiAgICAgICAgaWYgKG5leHRzcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5jb21tYW5kID0gZGF0YS5zbGljZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWxzZSwgdGhlIGNvbW1hbmQgaXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gdXAgdG8gdGhlIG5leHQgc3BhY2UuIEFmdGVyXG4gICAgICAgIC8vIHRoYXQsIHdlIGV4cGVjdCBzb21lIHBhcmFtZXRlcnMuXG4gICAgICAgIG1lc3NhZ2UuY29tbWFuZCA9IGRhdGEuc2xpY2UocG9zaXRpb24sIG5leHRzcGFjZSk7XG5cbiAgICAgICAgcG9zaXRpb24gPSBuZXh0c3BhY2UgKyAxO1xuXG4gICAgICAgIC8vIFNraXAgYW55IHRyYWlsaW5nIHdoaXRlc3BhY2UuLlxuICAgICAgICB3aGlsZSAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gMzIpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAocG9zaXRpb24gPCBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgbmV4dHNwYWNlID0gZGF0YS5pbmRleE9mKFwiIFwiLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgYSBjb2xvbiwgd2UndmUgZ290IGEgdHJhaWxpbmcgcGFyYW1ldGVyLlxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgdGhlcmUgYXJlIG5vIGV4dHJhIHBhcmFtcywgc28gd2UgcHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICAvLyBmcm9tIGFmdGVyIHRoZSBjb2xvbiB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHRvIHRoZSBwYXJhbXMgYXJyYXlcbiAgICAgICAgICAgIC8vIGFuZCBicmVhayBvdXQgb2YgdGhlIGxvb3AuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyQ29kZUF0KHBvc2l0aW9uKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtcy5wdXNoKGRhdGEuc2xpY2UocG9zaXRpb24gKyAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIHN0aWxsIGhhdmUgc29tZSB3aGl0ZXNwYWNlLi4uXG4gICAgICAgICAgICBpZiAobmV4dHNwYWNlICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFB1c2ggd2hhdGV2ZXIncyBiZXR3ZWVuIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIHNwYWNlIHRvIHRoZSBwYXJhbXMgYXJyYXkuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uLCBuZXh0c3BhY2UpKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5leHRzcGFjZSArIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBTa2lwIGFueSB0cmFpbGluZyB3aGl0ZXNwYWNlIGFuZCBjb250aW51ZSBsb29waW5nLlxuICAgICAgICAgICAgICAgIHdoaWxlIChkYXRhLmNoYXJDb2RlQXQocG9zaXRpb24pID09PSAzMikge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIHdoaXRlc3BhY2UgYW5kIHRoZSBwYXJhbSBpc24ndCB0cmFpbGluZyxcbiAgICAgICAgICAgIC8vIHB1c2ggZXZlcnl0aGluZyByZW1haW5pbmcgdG8gdGhlIHBhcmFtcyBhcnJheS5cbiAgICAgICAgICAgIGlmIChuZXh0c3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJhbXMucHVzaChkYXRhLnNsaWNlKHBvc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG59XG4iLCIvLyBJbml0aWFsaXplIHRoZSBxdWV1ZSB3aXRoIGEgc3BlY2lmaWMgZGVsYXkuLlxuZnVuY3Rpb24gcXVldWUoZGVmYXVsdERlbGF5KSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMuZGVmYXVsdERlbGF5ID0gZGVmYXVsdERlbGF5IHx8IDMwMDA7XG59XG5cbi8vIEFkZCBhIG5ldyBmdW5jdGlvbiB0byB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgZGVsYXkpIHtcbiAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICBmbjogZm4sXG4gICAgICAgIGRlbGF5OiBkZWxheVxuICAgIH0pO1xufTtcblxuLy8gUnVuIHRoZSBjdXJyZW50IHF1ZXVlLi5cbnF1ZXVlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oaW5kZXgpIHtcbiAgICAoaW5kZXggfHwgaW5kZXggPT09IDApICYmICh0aGlzLmluZGV4ID0gaW5kZXgpO1xuICAgIHRoaXMubmV4dCgpO1xufTtcblxuLy8gR28gdG8gdGhlIG5leHQgaW4gcXVldWUuLlxucXVldWUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBpID0gdGhpcy5pbmRleCsrO1xuICAgIHZhciBhdCA9IHRoaXMucXVldWVbaV07XG4gICAgdmFyIG5leHQgPSB0aGlzLnF1ZXVlW3RoaXMuaW5kZXhdO1xuXG4gICAgaWYgKCFhdCkgeyByZXR1cm47IH1cblxuICAgIGF0LmZuKCk7XG4gICAgbmV4dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfSwgbmV4dC5kZWxheSB8fCB0aGlzLmRlZmF1bHREZWxheSk7XG59O1xuXG4vLyBSZXNldCB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG59O1xuXG4vLyBDbGVhciB0aGUgcXVldWUuLlxucXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xufTtcblxuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuIiwidmFyIGFjdGlvbk1lc3NhZ2VSZWdleCA9IC9eXFx1MDAwMUFDVElPTiAoW15cXHUwMDAxXSspXFx1MDAwMSQvO1xudmFyIGp1c3RpbkZhblJlZ2V4ID0gL14oanVzdGluZmFuKShcXGQrJCkvO1xudmFyIHVuZXNjYXBlSVJDUmVnZXggPSAvXFxcXChbc246clxcXFxdKS9nO1xudmFyIGlyY0VzY2FwZWRDaGFycyA9IHsgczogJyAnLCBuOiAnJywgJzonOiAnOycsIHI6ICcnIH07XG52YXIgc2VsZiA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8vIFJldHVybiB0aGUgc2Vjb25kIHZhbHVlIGlmIHRoZSBmaXJzdCB2YWx1ZSBpcyB1bmRlZmluZWQuLlxuICAgIGdldDogKG9iajEsIG9iajIpID0+IHsgcmV0dXJuIHR5cGVvZiBvYmoxID09PSBcInVuZGVmaW5lZFwiID8gb2JqMiA6IG9iajE7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIGJvb2xlYW4uLlxuICAgIGlzQm9vbGVhbjogKG9iaikgPT4geyByZXR1cm4gdHlwZW9mKG9iaikgPT09IFwiYm9vbGVhblwiOyB9LFxuXG4gICAgLy8gVmFsdWUgaXMgYSBmaW5pdGUgbnVtYmVyLi5cbiAgICBpc0Zpbml0ZTogKGludCkgPT4geyByZXR1cm4gaXNGaW5pdGUoaW50KSAmJiAhaXNOYU4ocGFyc2VGbG9hdChpbnQpKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGFuIGludGVnZXIuLlxuICAgIGlzSW50ZWdlcjogKGludCkgPT4geyByZXR1cm4gIWlzTmFOKHNlbGYudG9OdW1iZXIoaW50LCAwKSk7IH0sXG5cbiAgICAvLyBVc2VybmFtZSBpcyBhIGp1c3RpbmZhbiB1c2VybmFtZS4uXG4gICAgaXNKdXN0aW5mYW46ICh1c2VybmFtZSkgPT4geyByZXR1cm4ganVzdGluRmFuUmVnZXgudGVzdCh1c2VybmFtZSk7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBudWxsLi5cbiAgICBpc051bGw6IChvYmopID0+IHsgcmV0dXJuIG9iaiA9PT0gbnVsbDsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgcmVnZXguLlxuICAgIGlzUmVnZXg6IChzdHIpID0+IHsgcmV0dXJuIC9bXFx8XFxcXFxcXlxcJFxcKlxcK1xcP1xcOlxcI10vLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFZhbHVlIGlzIGEgc3RyaW5nLi5cbiAgICBpc1N0cmluZzogKHN0cikgPT4geyByZXR1cm4gdHlwZW9mKHN0cikgPT09IFwic3RyaW5nXCI7IH0sXG5cbiAgICAvLyBWYWx1ZSBpcyBhIHZhbGlkIHVybC4uXG4gICAgaXNVUkw6IChzdHIpID0+IHsgcmV0dXJuIFJlZ0V4cChcIl4oPzooPzpodHRwcz98ZnRwKTovLykoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXFxcLjI1NHwxOTJcXFxcLjE2OCkoPzpcXFxcLlxcXFxkezEsM30pezJ9KSg/ITE3MlxcXFwuKD86MVs2LTldfDJcXFxcZHwzWzAtMV0pKD86XFxcXC5cXFxcZHsxLDN9KXsyfSkoPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9KD86XFxcXC4oPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZl17Mix9KSlcXFxcLj8pKD86OlxcXFxkezIsNX0pPyg/OlsvPyNdXFxcXFMqKT8kXCIsXCJpXCIpLnRlc3Qoc3RyKTsgfSxcblxuICAgIC8vIFJldHVybiBhIHJhbmRvbSBqdXN0aW5mYW4gdXNlcm5hbWUuLlxuICAgIGp1c3RpbmZhbjogKCkgPT4geyByZXR1cm4gYGp1c3RpbmZhbiR7TWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDgwMDAwKSArIDEwMDApfWA7IH0sXG5cbiAgICAvLyBSZXR1cm4gYSB2YWxpZCBwYXNzd29yZC4uXG4gICAgcGFzc3dvcmQ6IChzdHIpID0+IHsgcmV0dXJuIFtcIlNDSE1PT1BJSUVcIiwgXCJcIiwgbnVsbF0uaW5jbHVkZXMoc3RyKSA/IFwiU0NITU9PUElJRVwiIDogYG9hdXRoOiR7c3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIm9hdXRoOlwiLCBcIlwiKX1gOyB9LFxuXG4gICAgLy8gUmFjZSBhIHByb21pc2UgYWdhaW5zdCBhIGRlbGF5Li5cbiAgICBwcm9taXNlRGVsYXk6ICh0aW1lKSA9PiB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpOyB9KTsgfSxcblxuICAgIC8vIFJlcGxhY2UgYWxsIG9jY3VyZW5jZXMgb2YgYSBzdHJpbmcgdXNpbmcgYW4gb2JqZWN0Li5cbiAgICByZXBsYWNlQWxsOiAoc3RyLCBvYmopID0+IHtcbiAgICAgICAgaWYgKHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSBcInVuZGVmaW5lZFwiKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIGZvciAodmFyIHggaW4gb2JqKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKHgsIFwiZ1wiKSwgb2JqW3hdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICB1bmVzY2FwZUh0bWw6IChzYWZlKSA9PiB7XG4gICAgICAgIHJldHVybiBzYWZlLnJlcGxhY2UoL1xcXFwmYW1wXFxcXDsvZywgXCImXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXCZsdFxcXFw7L2csIFwiPFwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwmZ3RcXFxcOy9nLCBcIj5cIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJnF1b3RcXFxcOy9nLCBcIlxcXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcJiMwMzlcXFxcOy9nLCBcIidcIik7XG4gICAgfSxcblxuICAgIC8vIEVzY2FwaW5nIHZhbHVlczogaHR0cDovL2lyY3YzLm5ldC9zcGVjcy9jb3JlL21lc3NhZ2UtdGFncy0zLjIuaHRtbCNlc2NhcGluZy12YWx1ZXNcbiAgICB1bmVzY2FwZUlSQzogKG1zZykgPT4ge1xuICAgICAgICByZXR1cm4gIW1zZyB8fCAhbXNnLmluY2x1ZGVzKCdcXFxcJykgPyBtc2cgOiBtc2cucmVwbGFjZSh1bmVzY2FwZUlSQ1JlZ2V4LCAobSwgcCkgPT4geyByZXR1cm4gcCBpbiBpcmNFc2NhcGVkQ2hhcnMgPyBpcmNFc2NhcGVkQ2hhcnNbcF0gOiBwIH0pO1xuICAgIH0sXG5cbiAgICBhY3Rpb25NZXNzYWdlOiAobXNnKSA9PiB7XG4gICAgICAgIHJldHVybiBtc2cubWF0Y2goYWN0aW9uTWVzc2FnZVJlZ2V4KTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIHdvcmQgdG8gYSBzdHJpbmcuLlxuICAgIGFkZFdvcmQ6IChsaW5lLCB3b3JkKSA9PiB7XG4gICAgICAgIHJldHVybiBsaW5lLmxlbmd0aCA/IGxpbmUgKyBcIiBcIiArIHdvcmQgOiBsaW5lICsgd29yZDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgY2hhbm5lbCBuYW1lLi5cbiAgICBjaGFubmVsOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciBjaGFubmVsID0gKHN0ciA/IHN0ciA6IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBjaGFubmVsWzBdID09PSBcIiNcIiA/IGNoYW5uZWwgOiBcIiNcIiArIGNoYW5uZWw7XG4gICAgfSxcblxuICAgIC8vIEV4dHJhY3QgYSBudW1iZXIgZnJvbSBhIHN0cmluZy4uXG4gICAgZXh0cmFjdE51bWJlcjogKHN0cikgPT4ge1xuICAgICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0ludGVnZXIocGFydHNbaV0pKSB7IHJldHVybiB+fnBhcnRzW2ldOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8vIEZvcm1hdCB0aGUgZGF0ZS4uXG4gICAgZm9ybWF0RGF0ZTogKGRhdGUpID0+IHtcbiAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgICAgICB2YXIgbWlucyAgPSBkYXRlLmdldE1pbnV0ZXMoKTtcblxuICAgICAgICBob3VycyA9IChob3VycyA8IDEwID8gXCIwXCIgOiBcIlwiKSArIGhvdXJzO1xuICAgICAgICBtaW5zID0gKG1pbnMgPCAxMCA/IFwiMFwiIDogXCJcIikgKyBtaW5zO1xuXG4gICAgICAgIHJldHVybiBgJHtob3Vyc306JHttaW5zfWA7XG4gICAgfSxcblxuICAgIC8vIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci4uXG4gICAgaW5oZXJpdHM6IChjdG9yLCBzdXBlckN0b3IpID0+IHtcbiAgICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7XG4gICAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgTm9kZSBhcHBsaWNhdGlvbiBvciBub3QuLlxuICAgIGlzTm9kZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gd2hldGhlciBpbnNpZGUgYSBDaHJvbWUgZXh0ZW5zaW9uIG9yIG5vdC4uXG4gICAgaXNFeHRlbnNpb246ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY2hyb21lICYmIGNocm9tZS5ydW50aW1lICYmIGNocm9tZS5ydW50aW1lLmlkO1xuICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgaW5zaWRlIGEgUmVhY3QgTmF0aXZlIGFwcC4uXG4gICAgaXNSZWFjdE5hdGl2ZTogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PSBcIlJlYWN0TmF0aXZlXCI7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gb2JqZWN0cy4uXG4gICAgbWVyZ2U6IE9iamVjdC5hc3NpZ24sXG5cbiAgICAvLyBTcGxpdCBhIGxpbmUgYnV0IHRyeSBub3QgdG8gY3V0IGEgd29yZCBpbiBoYWxmLi5cbiAgICBzcGxpdExpbmU6IChpbnB1dCwgbGVuZ3RoKSA9PiB7XG4gICAgICAgIHZhciBsYXN0U3BhY2UgPSBpbnB1dC5zdWJzdHJpbmcoMCwgbGVuZ3RoKS5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgICAgIC8vIE5vIHNwYWNlcyBmb3VuZCwgc3BsaXQgYXQgdGhlIHZlcnkgZW5kIHRvIGF2b2lkIGEgbG9vcC4uXG4gICAgICAgIGlmIChsYXN0U3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICBsYXN0U3BhY2UgPSBsZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaW5wdXQuc3Vic3RyaW5nKDAsIGxhc3RTcGFjZSksIGlucHV0LnN1YnN0cmluZyhsYXN0U3BhY2UgKyAxKV07XG4gICAgfSxcblxuICAgIC8vIFBhcnNlIHN0cmluZyB0byBudW1iZXIuIFJldHVybnMgTmFOIGlmIHN0cmluZyBjYW4ndCBiZSBwYXJzZWQgdG8gbnVtYmVyLi5cbiAgICB0b051bWJlcjogKG51bSwgcHJlY2lzaW9uKSA9PiB7XG4gICAgICAgIGlmIChudW0gPT09IG51bGwpIHJldHVybiAwO1xuICAgICAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIHNlbGYuaXNGaW5pdGUocHJlY2lzaW9uKSA/IHByZWNpc2lvbiA6IDApO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBmYWN0b3IpIC8gZmFjdG9yO1xuICAgIH0sXG5cbiAgICAvLyBNZXJnZSB0d28gYXJyYXlzLi5cbiAgICB1bmlvbjogKGFycjEsIGFycjIpID0+IHtcbiAgICAgICAgdmFyIGhhc2ggPSB7fTtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlID0gYXJyMVtpXTtcbiAgICAgICAgICAgIGlmICghaGFzaFtlXSkge1xuICAgICAgICAgICAgICAgIGhhc2hbZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGUgPSBhcnIyW2ldO1xuICAgICAgICAgICAgaWYgKCFoYXNoW2VdKSB7XG4gICAgICAgICAgICAgICAgaGFzaFtlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJuIGEgdmFsaWQgdXNlcm5hbWUuLlxuICAgIHVzZXJuYW1lOiAoc3RyKSA9PiB7XG4gICAgICAgIHZhciB1c2VybmFtZSA9IChzdHIgPyBzdHIgOiBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gdXNlcm5hbWVbMF0gPT09IFwiI1wiID8gdXNlcm5hbWUuc2xpY2UoMSkgOiB1c2VybmFtZTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5zY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuXG5leHBvcnQgY2xhc3MgSm9iIHtcbiAgcHJpdmF0ZSB0aW1lcjogbnVtYmVyIHwgbnVsbDtcblxuICBwcml2YXRlIGN1cnJlbnQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY3VycmVudFBpbmc6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIGVlOiBFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHRpbWVvdXQ6IG51bWJlciA9IDEwLCAvLyBpbiBzXG4gICAgcHVibGljIHJlcXVpcmVkUGluZ3MgPSAxXG4gICkge31cblxuICBwdWJsaWMgdGltZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnQrKztcbiAgICBpZiAodGhpcy5jdXJyZW50ID49IHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgIHRoaXMuZWUuZW1pdChcImNhbmNlbFwiKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcGluZygpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRQaW5nICsrO1xuICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudDpcIiwgdGhpcy5jdXJyZW50UGluZyk7XG5cbiAgICBpZiAodGhpcy5jdXJyZW50UGluZyA8IHRoaXMucmVxdWlyZWRQaW5ncykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgdGhpcy5jdXJyZW50UGluZyA9IDA7XG5cbiAgICBpZiAodGhpcy50aW1lciA9PSBudWxsKSB7XG4gICAgICB0aGlzLnRpbWVyID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHRoaXMudGltZSgpLCAxMDAwKTtcbiAgICAgIHRoaXMuZWUuZW1pdChcInN0YXJ0XCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdG9wVGltZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGltZXIgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyByZXNldCB2YWx1ZXNcbiAgICB0aGlzLmN1cnJlbnQgPSAwO1xuICAgIHRoaXMuY3VycmVudFBpbmcgPSAwO1xuICB9XG5cbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcgfCBzeW1ib2wsIGxpc3RlbmVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgUmVhY3Rpb24ge1xuICAgIHNvcnRpbmc6IG51bWJlcjtcbiAgICBkaXNwbGF5OiBzdHJpbmc7XG4gICAga2V5d29yZHM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCByZWFjdGlvbnM6IFJlYWN0aW9uW10gPSBbXG4gICAgeyBcbiAgICAgICAgc29ydGluZzogMCxcbiAgICAgICAgZGlzcGxheTogXCIrMVwiLFxuICAgICAgICBrZXl3b3JkczogW1xuICAgICAgICAgICAgXCIrMVwiLCBcIjFcIiwgXCJ5ZXNcIiwgXCJ5ZVwiLCBcImphXCJcbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBzb3J0aW5nOiAyLFxuICAgICAgICBkaXNwbGF5OiBcIn5cIixcbiAgICAgICAga2V5d29yZHM6IFtcbiAgICAgICAgICAgIFwiMlwiLCBcInd0ZlwiXG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgc29ydGluZzogMyxcbiAgICAgICAgZGlzcGxheTogXCItMVwiLFxuICAgICAgICBrZXl3b3JkczogW1xuICAgICAgICAgICAgXCItMVwiLCBcIjBcIiwgXCJub1wiLCBcIm5laW5cIlxuICAgICAgICBdXG4gICAgfVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlYWN0aW9uQnlLZXl3b3JkKGtleXdvcmQ6IHN0cmluZyk6IFJlYWN0aW9uIHtcbiAgICBrZXl3b3JkID0ga2V5d29yZC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHJlYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByZWFjdGlvbjogUmVhY3Rpb24gPSByZWFjdGlvbnNbaV07XG4gICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCByZWFjdGlvbi5rZXl3b3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKHJlYWN0aW9uLmtleXdvcmRzW2pdID09IGtleXdvcmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhY3Rpb247XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQge1xuICAgIHJlYWN0aW9uc1xufSIsImltcG9ydCB7IEFjdGlvbnMsIENoYXRVc2Vyc3RhdGUsIENsaWVudCwgQ2xpZW50QmFzZSB9IGZyb20gXCJ0bWkuanNcIjtcbmltcG9ydCB7IEpvYiB9IGZyb20gXCIuL2pvYlwiO1xuaW1wb3J0IHsgZ2V0UmVhY3Rpb25CeUtleXdvcmQsIFJlYWN0aW9uIH0gZnJvbSBcIi4va2V5d29yZHNcIjtcblxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuZXhwb3J0IGNsYXNzIENoYXQge1xuICBwdWJsaWMgY2xpZW50OiBDbGllbnRCYXNlICYgQWN0aW9ucztcbiAgcHVibGljIHJlYWN0aW9uVmFsdWVzOiBNYXA8UmVhY3Rpb24sIG51bWJlcj47XG5cbiAgcHJpdmF0ZSBlZTogRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2hhbm5lbDogc3RyaW5nLCBwcml2YXRlIGpvYjogSm9iKSB7XG4gICAgdGhpcy5yZWFjdGlvblZhbHVlcyA9IG5ldyBNYXAoKTtcblxuICAgIC8vIGNyZWF0ZSBjbGllbnRcbiAgICB0aGlzLmNsaWVudCA9IENsaWVudCh7XG4gICAgICBjb25uZWN0aW9uOiB7XG4gICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgcmVjb25uZWN0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGNoYW5uZWxzOiBbdGhpcy5jaGFubmVsXSxcbiAgICB9KTtcblxuICAgIC8vIGRlYnVnXG4gICAgY29uc29sZS5sb2coXCJbQ2hhdF0gQ29ubmVjdGluZyB0byBjaGFubmVsOiBcIiArIGNoYW5uZWwpO1xuICAgIHRoaXMuY2xpZW50LmNvbm5lY3QoKTtcbiAgICBjb25zb2xlLmxvZyhcIltDaGF0XSBDb25uZWN0ZWQhXCIpO1xuXG4gICAgLy8gZXZlbnRzXG4gICAgdGhpcy5jbGllbnQub24oXG4gICAgICBcIm1lc3NhZ2VcIixcbiAgICAgIChjOiBzdHJpbmcsIHU6IENoYXRVc2Vyc3RhdGUsIG1lc3NhZ2U6IHN0cmluZywgczogYm9vbGVhbikgPT5cbiAgICAgICAgdGhpcy5vbk1lc3NhZ2UobWVzc2FnZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGV4ZWN1dGVkIHdoZW4gdGhlIFR3aXRjaCBJUkMgY2hhdCByZWNlaXZlcyBhIG1lc3NhZ2VcbiAgICpcbiAgICogQHBhcmFtIGNoYW5uZWwgVGhlIGNoYW5uZWwgaW4gd2hpY2ggdGhlIG1lc3NhZ2Ugd2FzIHNlbnRcbiAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdGhhdCB3YXMgc2VudFxuICAgKi9cbiAgcHJpdmF0ZSBvbk1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5lZS5lbWl0KFwibWVzc2FnZVwiLCBtZXNzYWdlKTtcblxuICAgIGlmIChtZXNzYWdlID09IFwiIXJlc2V0XCIpIHtcbiAgICAgIHRoaXMucmVzZXRWYWx1ZXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWFjdGlvbjogUmVhY3Rpb24gPSBnZXRSZWFjdGlvbkJ5S2V5d29yZChtZXNzYWdlKTtcbiAgICBpZiAocmVhY3Rpb24gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGluY3JlbWVudCBjb3VudGVyXG4gICAgY29uc29sZS5sb2cocmVhY3Rpb24pO1xuICAgIGNvbnN0IHZhbDogbnVtYmVyID0gdGhpcy5pbmNyZW1lbnQocmVhY3Rpb24pO1xuXG4gICAgLy8gcmVhY3Rpb24gd2FzIGZvdW5kXG4gICAgY29uc29sZS5sb2coXCIgIC0+IFJlYWN0aW9uIGZvdW5kOlwiLCByZWFjdGlvbiwgdmFsKTtcblxuICAgIC8vIGVtaXRcbiAgICB0aGlzLmVlLmVtaXQoXCJyZWFjdGlvblwiLCByZWFjdGlvbiwgdmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYWxsIHN0b3JlZCByZWFjdGlvbiB2YWx1ZXNcbiAgICpcbiAgICogQHBhcmFtIGNoYW5uZWwgVGhlIGNoYW5uZWwgaW4gd2hpY2ggdGhlIHZhbHVlIGlzIHRvIGJlIHJlc2V0LlxuICAgKiBDYW4gYmUgYW4gYXJyYXksIGEgc3RyaW5nLCBvciByZW1haW4gZW1wdHkuXG4gICAqIElmIHRoZSBwYXJhbWV0ZXIgaXMgbGVmdCBlbXB0eSwgdGhlIHZhbHVlcyBvZiBlYWNoIGNoYW5uZWwgYXJlIHJlc2V0LlxuICAgKi9cbiAgcHVibGljIHJlc2V0VmFsdWVzKCk6IHZvaWQge1xuICAgIHRoaXMucmVhY3Rpb25WYWx1ZXMuY2xlYXIoKTtcbiAgICB0aGlzLmVlLmVtaXQoXCJyZXNldFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3VudCB1cCB0aGUgcmVhY3Rpb24gdmFsdWUgaW4gdGhlIHNwZWNpZmllZCBjaGFubmVsIGJ5IDFcbiAgICpcbiAgICogQHBhcmFtIGNoYW5uZWwgVGhlIGNoYW5uZWwgaW4gd2hpY2ggdGhlIHJlYWN0aW9uIHNob3VsZCBiZSBpbmNyZWFzZWRcbiAgICogQHBhcmFtIHJlYWN0aW9uIFRoZSByZWFjdGlvbiB0byBiZSBjb3VudGVkIHVwXG4gICAqL1xuICBwdWJsaWMgaW5jcmVtZW50KHJlYWN0aW9uOiBSZWFjdGlvbik6IG51bWJlciB7XG4gICAgbGV0IHZhbHVlOiBudW1iZXIgPSB0aGlzLnJlYWN0aW9uVmFsdWVzLmhhcyhyZWFjdGlvbilcbiAgICAgID8gdGhpcy5yZWFjdGlvblZhbHVlcy5nZXQocmVhY3Rpb24pXG4gICAgICA6IDA7XG5cbiAgICAvLyBpbmNyZW1lbnQgdmFsdWVcbiAgICB2YWx1ZSsrO1xuXG4gICAgdGhpcy5yZWFjdGlvblZhbHVlcy5zZXQocmVhY3Rpb24sIHZhbHVlKTtcbiAgICB0aGlzLmVlLmVtaXQoXCJpbmNyZW1lbnRcIiwgcmVhY3Rpb24sIHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRWYWx1ZXMoKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGtleXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgbWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5yZWFjdGlvblZhbHVlcy5mb3JFYWNoKCh2YWx1ZTogbnVtYmVyLCByZWFjdGlvbjogUmVhY3Rpb24pID0+IHtcbiAgICAgIG1hcC5zZXQocmVhY3Rpb24uc29ydGluZywgdmFsdWUpO1xuICAgICAga2V5cy5wdXNoKHJlYWN0aW9uLnNvcnRpbmcpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFRvRG86IFJld29yayBteSBzaGl0dHkgc29ydGluZ1xuICAgIC8vIG9yIGV2ZW4gYmV0dGVyOiByZXdvcmsgdGhpcyB3aG9sZSBtZXRob2RcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoaSA9PSBqKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhID0ga2V5c1tpXTtcbiAgICAgICAgY29uc3QgYiA9IGtleXNbal07XG5cbiAgICAgICAgaWYgKGEgPCBiKSB7XG4gICAgICAgICAga2V5c1tpXSA9IGI7XG4gICAgICAgICAga2V5c1tqXSA9IGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMucHVzaChtYXAuZ2V0KGtleXNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyB0byB7RXZlbnRFbWl0dGVyI29ufVxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgdG8gbGlzdGVuIGZvclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgTGlzdGVuZXJcbiAgICovXG4gIHB1YmxpYyBvbihldmVudDogc3RyaW5nIHwgc3ltYm9sLCBsaXN0ZW5lcjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5lZS5vbihldmVudCwgbGlzdGVuZXIpO1xuICB9XG59XG4iLCJjb25zdCBTSVpFX0ZJTEw6IG51bWJlciA9IC0xO1xuY29uc3QgTE9DQVRJT05fQ0VOVEVSOiBudW1iZXIgPSAtMjtcblxuZXhwb3J0IGludGVyZmFjZSBDaGFydFByb3BlcnRpZXMge1xuICBlbGVtZW50SWQ6IHN0cmluZztcbiAgeD86IG51bWJlcjtcbiAgeT86IG51bWJlcjtcbiAgd2lkdGg/OiBudW1iZXI7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgYmFja2dyb3VuZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENoYXJ0IHtcbiAgLy9cbiAgcHVibGljIGNhbnZhc0VsZW1lbnRJZDogc3RyaW5nO1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICAvL1xuICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwdWJsaWMgZXJyb3I6IHN0cmluZztcbiAgLy9cblxuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzOiBDaGFydFByb3BlcnRpZXMpIHtcbiAgICB0aGlzLmNhbnZhc0VsZW1lbnRJZCA9IHByb3BlcnRpZXMuZWxlbWVudElkO1xuICAgIHRoaXMueCA9IHByb3BlcnRpZXMueCA/PyAwO1xuICAgIHRoaXMueSA9IHByb3BlcnRpZXMueSA/PyAwO1xuICAgIHRoaXMud2lkdGggPSBwcm9wZXJ0aWVzLndpZHRoID8/IFNJWkVfRklMTDtcbiAgICB0aGlzLmhlaWdodCA9IHByb3BlcnRpZXMuaGVpZ2h0ID8/IFNJWkVfRklMTDtcblxuICAgIC8vIGlmIHdpZHRoID09IC0xOiB3aWR0aCBvZiBkaXNwbGF5XG4gICAgaWYgKHRoaXMud2lkdGggPT09IFNJWkVfRklMTCkge1xuICAgICAgdGhpcy53aWR0aCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGg7XG4gICAgfSBlbHNlIGlmICh0aGlzLnggPT09IExPQ0FUSU9OX0NFTlRFUikge1xuICAgICAgdGhpcy54ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCAvIDIgLSB0aGlzLndpZHRoIC8gMjtcbiAgICB9XG5cbiAgICAvLyBpZiBoZWlnaHQgPT0gLTE6IGhlaWdodCBvZiBkaXNwbGF5XG4gICAgaWYgKHRoaXMuaGVpZ2h0ID09IFNJWkVfRklMTCkge1xuICAgICAgdGhpcy5oZWlnaHQgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtcbiAgICB9IGVsc2UgaWYgKHRoaXMueCA9PT0gTE9DQVRJT05fQ0VOVEVSKSB7XG4gICAgICB0aGlzLnkgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5pbm5lckhlaWdodCAvIDIgLSB0aGlzLmhlaWdodCAvIDI7XG4gICAgfVxuXG4gICAgLy8gZmluZCBjYW52YXNcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0VsZW1lbnRJZCk7XG4gICAgaWYgKGNhbnZhcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVycm9yID0gXCJDYW52YXMgbm90IGZvdW5kLlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5jYW52YXM7XG5cbiAgICAvLyBnZXQgY29udGV4dFxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBjb25zb2xlLmxvZyhcImN0eDpcIiwgY3R4KTtcbiAgICBpZiAoY3R4ID09IG51bGwpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBcIkNvbnRleHQgbm90IGZvdW5kLlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN0eCA9IGN0eDtcblxuICAgIC8vIG1ha2UgdGhlIGNhbnZhcyB0aGUgc2l6ZSBvZiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xuXG4gICAgLy8gYmFja2dyb3VuZFxuICAgIGlmICgocHJvcGVydGllcy5iYWNrZ3JvdW5kID8/IFwiIzJjM2U1MFwiKSAhPSBcIm5vbmVcIikge1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IHByb3BlcnRpZXMuYmFja2dyb3VuZCA/PyBcIiMyYzNlNTBcIjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGFic3RyYWN0IGluaXQoKTogdm9pZDtcbiAgYWJzdHJhY3QgZHJhdyh2YWx1ZXM6IG51bWJlcltdLCBkcmF3VGV4dD86IGJvb2xlYW4sIGNsZWFyPzogYm9vbGVhbik6IHZvaWQ7XG4gIGFic3RyYWN0IGNsZWFyKCk6IHZvaWQ7XG59XG4iLCJpbXBvcnQgeyBjb2xvcnMsIGRhcmtlbkhleENvbG9yIH0gZnJvbSBcIi4uL2NvbG9yXCI7XG5pbXBvcnQgeyBDaGFydCwgQ2hhcnRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vY2hhcnRcIjtcblxuY29uc3QgRk9OVF9EWU5BTUlDOiBudW1iZXIgPSAtMTtcbmV4cG9ydCB7IEZPTlRfRFlOQU1JQyB9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBCYXJQcm9wZXJ0aWVzIGV4dGVuZHMgQ2hhcnRQcm9wZXJ0aWVzIHtcbiAgLyoqXG4gICAqIFRoZSBkaXN0YW5jZSBvZiB0aGUgaGVpZ2h0IChib3R0b20gYW5kIHRvcCkgdG8gdGhlIGVkZ2Ugb2YgdGhlIGNhbnZhc1xuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBiYXJNYXJnaW5IZWlnaHQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBkaXN0YW5jZSBvZiB0aGUgd2lkdGggKGxlZnQgYW5kIHJpZ2h0KSB0byB0aGUgZWRnZSBvZiB0aGUgY2FudmFzXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGJhck1hcmdpbldpZHRoPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdG9wIGFuZCBib3R0b20gZGlzdGFuY2UgYmV0d2VlblxuICAgKiB0aGUgb3V0bGluZSBvZiB0aGUgUHJvZ3Jlc3NCYXIgYW5kIHRoZSBmaWxsZWQgaW5cbiAgICogQGRlZmF1bHQgNVxuICAgKi9cbiAgc3Ryb2tlTWFyZ2luSGVpZ2h0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGVmdCBhbmQgcmlnaHQgZGlzdGFuY2UgYmV0d2VlblxuICAgKiB0aGUgb3V0bGluZSBvZiB0aGUgUHJvZ3Jlc3NCYXIgYW5kIHRoZSBmaWxsZWQgaW5cbiAgICogQGRlZmF1bHQgNVxuICAgKi9cbiAgc3Ryb2tlTWFyZ2luV2lkdGg/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvcnMgZnJvbSB0aGlzIGFycmF5IGFyZSBncmFkdWFsbHkgdXNlZCBmb3IgdGhlIGNvbG9ycyBvZiB0aGUgdmFsdWVzIG9mIHRoZSBiYXIuXG4gICAqIElmIHRoZXJlIGFyZSBsZXNzIGNvbG9ycyBpbiB0aGUgYXJyYXkgdGhhbiB2YWx1ZXMsXG4gICAqIHRoZSBuZXh0IGNvbG9yIGlzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZyBhZ2Fpbi5cbiAgICogQGRlZmF1bHQgey4uL2NvbG9yLnRzOjpjb2xvcnN9XG4gICAqL1xuICB2YWx1ZUNvbG9ycz86IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbG9yIGlzIHVzZWQgZm9yIHRoZSBib3JkZXIgb2YgdGhlIGJhci5cbiAgICogQGRlZmF1bHQgIzM0NDk1ZSAobGlnaHQgZ3JheSlcbiAgICovXG4gIHN0cm9rZUNvbG9yPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb3cgb2Z0ZW4gc2hvdWxkIHRoZSBjb250b3VyIGJlIGRyYXduPyAoT3IgYWxzbzogdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlKVxuICAgKi9cbiAgc3Ryb2tlSXRlcmF0aW9ucz86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgc2l6ZSBvZiB0aGUgZm9udCB0aGF0IHNlcnZlcyBhcyBhIHBlcmNlbnRhZ2UgZGlzcGxheSBhYm92ZSB0aGUgY2hhcnQuXG4gICAqIFVzZSBGT05UX0RZTkFNSUMgdG8gaGF2ZSB0aGUgZm9udCBzaXplIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBjaGFydCAoZHluYW1pYylcbiAgICogQGRlZmF1bHQgRk9OVF9EWU5BTUlDXG4gICAqL1xuICBmb250U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgZmFtaWx5IGZvciB0aGUgdmFsdWVzXG4gICAqIEBkZWZhdWx0IGNhbGlicmlcbiAgICovXG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvdyBtdWNoIHRoZSB0ZXh0IGNvbG9yIHNob3VsZCBiZSBkYXJrZW5lZFxuICAgKiBAZGVmYXVsdCAuNjVcbiAgICovXG4gIGZvbnRDb2xvckZhY3Rvcj86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGZvbnQgaW4gdGhlIGNhbGN1bGF0aW9uIGJ5IHRoZSBmYWN0b3Ige2ZvbnRTaXplRmFjdG9yfVxuICAgKiBAZGVmYXVsdCAxLzhcbiAgICovXG4gIGZvbnRTaXplRmFjdG9yPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSb3VuZCB0aGUgdmFsdWU/XG4gICAqL1xuICB0ZXh0Um91bmQ/OiBib29sZWFuO1xufVxuXG5jb25zdCBkZWZhdWx0QmFyUHJvcGVydGllczogQmFyUHJvcGVydGllcyA9IHtcbiAgZWxlbWVudElkOiBcIlwiLFxuICBiYXJNYXJnaW5IZWlnaHQ6IDEwLFxuICBiYXJNYXJnaW5XaWR0aDogMTAsXG4gIHN0cm9rZU1hcmdpbkhlaWdodDogNSxcbiAgc3Ryb2tlTWFyZ2luV2lkdGg6IDUsXG4gIHZhbHVlQ29sb3JzOiBjb2xvcnMsXG4gIHN0cm9rZUNvbG9yOiBcIiMzNDQ5NWVcIixcbiAgc3Ryb2tlSXRlcmF0aW9uczogMSxcbiAgZm9udFNpemU6IEZPTlRfRFlOQU1JQyxcbiAgZm9udEZhbWlseTogXCJjb3VyaWVyXCIsXG4gIGZvbnRTaXplRmFjdG9yOiAxLjgsXG4gIGZvbnRDb2xvckZhY3RvcjogMC42NSxcbiAgdGV4dFJvdW5kOiB0cnVlLFxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBCYXIgZXh0ZW5kcyBDaGFydCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwcm9wZXJ0aWVzOiBCYXJQcm9wZXJ0aWVzKSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0QmFyUHJvcGVydGllcywgLi4udGhpcy5wcm9wZXJ0aWVzIH07XG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge31cblxuICAvKipcbiAgICogRHJhdyB0aGUgYmFyXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZXMgQW4gYXJyYXkgb2YgdmFsdWVzXG4gICAqIEBwYXJhbSBkcmF3VGV4dCBEcmF3IHRoZSBwZXJjZW50YWdlIG9uIHRvcD9cbiAgICogQHBhcmFtIGNsZWFyIENsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmc/XG4gICAqL1xuICBwdWJsaWMgZHJhdyhcbiAgICB2YWx1ZXM6IG51bWJlcltdLFxuICAgIGRyYXdUZXh0OiBib29sZWFuID0gdHJ1ZSxcbiAgICBjbGVhcjogYm9vbGVhbiA9IHRydWVcbiAgKTogdm9pZCB7XG4gICAgLy8gZHJhd1xuICAgIGlmIChjbGVhcikge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3AgPSB0aGlzLnByb3BlcnRpZXM7XG5cbiAgICBjb25zdCByZWN0V2lkdGg6IG51bWJlciA9IHRoaXMud2lkdGggLSBwcm9wLmJhck1hcmdpbldpZHRoICogMjtcbiAgICBjb25zdCByZWN0SGVpZ2h0OiBudW1iZXIgPSB0aGlzLmhlaWdodCAtIHByb3AuYmFyTWFyZ2luSGVpZ2h0ICogMjtcblxuICAgIC8vIHByb3BlcnRpZXNcbiAgICBsZXQgZm9udFNpemUgPSBwcm9wLmZvbnRTaXplO1xuICAgIGlmIChmb250U2l6ZSA9PT0gRk9OVF9EWU5BTUlDKSB7XG4gICAgICBmb250U2l6ZSA9IHJlY3RIZWlnaHQgKiAoMiAvIDMpO1xuICAgIH1cblxuICAgIGNvbnN0IGZvbnRNcCA9IGZvbnRTaXplIC8gcHJvcC5mb250U2l6ZUZhY3RvcjtcbiAgICB0aGlzLmN0eC5mb250ID0gYCR7TWF0aC5yb3VuZChmb250U2l6ZSl9cHggJHtwcm9wLmZvbnRGYW1pbHl9YDtcbiAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHByb3Auc3Ryb2tlQ29sb3I7XG5cbiAgICAvLyBzdHJva2VcbiAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgcHJvcC5zdHJva2VJdGVyYXRpb25zOyBqKyspIHtcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHgucmVjdChcbiAgICAgICAgdGhpcy54ICsgcHJvcC5iYXJNYXJnaW5XaWR0aCAtIHByb3Auc3Ryb2tlTWFyZ2luV2lkdGggLSBqLFxuICAgICAgICB0aGlzLnkgKyBwcm9wLmJhck1hcmdpbkhlaWdodCAtIHByb3Auc3Ryb2tlTWFyZ2luSGVpZ2h0IC0gaixcbiAgICAgICAgcmVjdFdpZHRoICsgcHJvcC5zdHJva2VNYXJnaW5XaWR0aCAqIDIgKyBqLFxuICAgICAgICByZWN0SGVpZ2h0ICsgcHJvcC5zdHJva2VNYXJnaW5IZWlnaHQgKiAyICsgalxuICAgICAgKTtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICB0aGlzLnggKyBwcm9wLmJhck1hcmdpbldpZHRoIC0gcHJvcC5zdHJva2VNYXJnaW5XaWR0aCAtIGosXG4gICAgICAgIHRoaXMueSArIHByb3AuYmFyTWFyZ2luSGVpZ2h0IC0gcHJvcC5zdHJva2VNYXJnaW5IZWlnaHQgLSBqLFxuICAgICAgICByZWN0V2lkdGggKyBwcm9wLnN0cm9rZU1hcmdpbldpZHRoICogMiArIGosXG4gICAgICAgIHJlY3RIZWlnaHQgKyBwcm9wLnN0cm9rZU1hcmdpbkhlaWdodCAqIDIgKyBqXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGNvdW50IHRoZSBzdW0gb2YgYWxsIHJlYWN0aW9uc1xuICAgIC8vIGxldCBzdW0gPSB2YWwubWFwKGMgPT4gYy52YWx1ZSkucmVkdWNlKChhLCBjKSA9PiBhICsgYyk7XG4gICAgY29uc3Qgc3VtID0gdmFsdWVzLnJlZHVjZSgoYSwgYykgPT4gYSArIGMpO1xuXG4gICAgbGV0IGxhc3RYID0gcHJvcC5iYXJNYXJnaW5XaWR0aDsgLy8gNTAgLT4gc3RhcnRpbmcgcG9zXG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdjogbnVtYmVyID0gdmFsdWVzW2ldO1xuICAgICAgY29uc3QgcGVyY2VudGFnZTogbnVtYmVyID0gdiAvIHN1bTtcblxuICAgICAgY29uc3QgdmFsdWVXaWR0aDogbnVtYmVyID0gcmVjdFdpZHRoICogcGVyY2VudGFnZTtcblxuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gcHJvcC52YWx1ZUNvbG9yc1tpICUgcHJvcC52YWx1ZUNvbG9ycy5sZW5ndGhdO1xuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmN0eC5yZWN0KFxuICAgICAgICB0aGlzLnggKyBsYXN0WCxcbiAgICAgICAgdGhpcy55ICsgcHJvcC5iYXJNYXJnaW5IZWlnaHQsXG4gICAgICAgIHZhbHVlV2lkdGgsXG4gICAgICAgIHJlY3RIZWlnaHRcbiAgICAgICk7XG4gICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgLy8gZHJhdyB0ZXh0XG4gICAgICBpZiAoZHJhd1RleHQpIHtcbiAgICAgICAgbGV0IHR4dDogc3RyaW5nO1xuICAgICAgICBpZiAocHJvcC50ZXh0Um91bmQpIHtcbiAgICAgICAgICB0eHQgPSBgJHtNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgKiAxMDApfSVgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR4dCA9IGAke3BlcmNlbnRhZ2UgKiAxMDB9JWA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZGFya2VuSGV4Q29sb3IoXG4gICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlLFxuICAgICAgICAgIHByb3AuZm9udENvbG9yRmFjdG9yXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICAgIHR4dCxcbiAgICAgICAgICB0aGlzLnggKyBsYXN0WCArIHZhbHVlV2lkdGggLyAyIC0gKGZvbnRNcCAqIHR4dC5sZW5ndGgpIC8gMixcbiAgICAgICAgICB0aGlzLnkgKyBwcm9wLmJhck1hcmdpbkhlaWdodCArIHJlY3RIZWlnaHQgLyAyICsgZm9udE1wIC8gMlxuICAgICAgICApO1xuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIH1cblxuICAgICAgbGFzdFggKz0gdmFsdWVXaWR0aDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbn1cbiIsIi8vIGNvbG9ycyBmb3IgdGhlIGNoYXJ0c1xuLy8gdGFrZW4gZnJvbTogaHR0cHM6Ly9mbGF0dWljb2xvcnMuY29tL1xuY29uc3QgY29sb3JzOiBBcnJheTxzdHJpbmc+ID0gW1xuICBcIiMzNDk4ZGJcIixcbiAgXCIjZjFjNDBmXCIsXG4gIFwiI2U3NGMzY1wiLFxuICBcIiMzNDk4ZGJcIixcbiAgXCIjMmVjYzcxXCIsXG4gIFwiIzFhYmM5Y1wiLFxuICBcIiM5YjU5YjZcIixcbiAgXCIjZjFjNDBmXCIsXG4gIFwiI2U2N2UyMlwiLFxuICBcIiNlNzRjM2NcIixcbiAgXCIjZWNmMGYxXCIsXG5dO1xuLy8gZXhwb3J0IGNvbG9yc1xuZXhwb3J0IHsgY29sb3JzIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBSR0IySGV4KHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGxlYWRpbmdIYXNoOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7XG4gIGNvbnN0IHJnYjogbnVtYmVyID0gKChyIDw8IDE2KSB8IChnIDw8IDgpIHwgYikgJiAweGZmZmZmZjtcbiAgY29uc3QgaGV4ID0gcmdiLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIChsZWFkaW5nSGFzaCA/IFwiI1wiIDogXCJcIikgKyBoZXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZXgyUkdCKGhleDogc3RyaW5nKTogQXJyYXk8bnVtYmVyPiB7XG4gIGlmIChoZXguc3RhcnRzV2l0aChcIiNcIikpIHtcbiAgICBoZXggPSBoZXguc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgY29uc3QgcmdiOiBudW1iZXIgPSBwYXJzZUludChoZXgsIDE2KTtcblxuICByZXR1cm4gW1xuICAgIC8qIFIgKi8gKHJnYiA+PiAxNikgJiAweGZmLFxuICAgIC8qIEcgKi8gKHJnYiA+PiA4KSAmIDB4ZmYsXG4gICAgLyogQiAqLyByZ2IgJiAweGZmLFxuICBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGFya2VuUkdCQ29sb3IoXG4gIHI6IG51bWJlcixcbiAgZzogbnVtYmVyLFxuICBiOiBudW1iZXIsXG4gIG1wOiBudW1iZXJcbik6IHN0cmluZyB7XG4gIHIgPSBNYXRoLm1heCgwLCByICogbXApO1xuICBnID0gTWF0aC5tYXgoMCwgZyAqIG1wKTtcbiAgYiA9IE1hdGgubWF4KDAsIGIgKiBtcCk7XG4gIHJldHVybiBSR0IySGV4KHIsIGcsIGIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGFya2VuSGV4Q29sb3IoaGV4OiBzdHJpbmcsIG1wOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCByZ2IgPSBIZXgyUkdCKGhleCk7XG4gIGNvbnN0IGhleDIgPSBkYXJrZW5SR0JDb2xvcihyZ2JbMF0sIHJnYlsxXSwgcmdiWzJdLCBtcCk7XG4gIHJldHVybiBoZXgyO1xufVxuIiwiLyogUiBFIFMgTyBVIFIgQyBFIFMgKi9cbmltcG9ydCBcIi4vYXNzZXRzL3N0eWxlcy9tYWluLnNjc3NcIjtcblxuaW1wb3J0IHsgSm9iIH0gZnJvbSBcIi4vdHMvam9iXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vdHMvY2hhdFwiO1xuaW1wb3J0IHsgUmVhY3Rpb24gfSBmcm9tIFwiLi90cy9rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgQmFyIH0gZnJvbSBcIi4vdHMvY2hhcnRzL2JhclwiO1xuXG4vLyBnZXQgY2hhbm5lbCBmcm9tIHVybFxuY29uc3QgcGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuY29uc3QgY2hhbm5lbDogc3RyaW5nID0gcGFyYW1zLmhhcyhcImNoYW5uZWxcIikgPyBwYXJhbXMuZ2V0KFwiY2hhbm5lbFwiKSA6IFwiXCI7XG5cbmNvbnN0IGpvYjogSm9iID0gbmV3IEpvYigxMCwgNSk7XG5jb25zdCBjaGF0OiBDaGF0ID0gbmV3IENoYXQoY2hhbm5lbCwgam9iKTtcblxubGV0IGRyYXdpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuLy8gcGluZyByZWFjdGlvblxuY2hhdC5vbihcInJlYWN0aW9uXCIsIChjaGFubmVsOiBzdHJpbmcsIHJlYWN0aW9uOiBSZWFjdGlvbiwgdmFsdWU6IG51bWJlcikgPT4ge1xuICBjb25zb2xlLmxvZyhcInJlYWN0aW9uXCIpO1xuICBcbiAgam9iLnBpbmcoKTtcblxuICBpZiAoZHJhd2luZykge1xuICAgIHJlZHJhd0JhcigpO1xuICB9XG59KTtcblxuY29uc3QgYmFyOiBCYXIgPSBuZXcgQmFyKHtcbiAgZWxlbWVudElkOiBcImJhclwiLFxuICAvLyBoZWlnaHQ6IDUwLFxuICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgYmFyTWFyZ2luSGVpZ2h0OiAwLFxuICBiYXJNYXJnaW5XaWR0aDogMCxcbiAgc3Ryb2tlTWFyZ2luSGVpZ2h0OiAwLFxuICBzdHJva2VNYXJnaW5XaWR0aDogMCxcbn0pO1xuXG4vLyBUT0RPOiBTaG93IGJhclxuam9iLm9uKFwic3RhcnRcIiwgKCkgPT4ge1xuICBkcmF3aW5nID0gdHJ1ZTtcblxuICBjb25zb2xlLmxvZyhcIkpvYiBzdGFydGVkIVwiKTtcbiAgcmVkcmF3QmFyKCk7XG59KTtcblxuam9iLm9uKFwiY2FuY2VsXCIsICgpID0+IHtcbiAgZHJhd2luZyA9IGZhbHNlO1xuXG4gIGNvbnNvbGUubG9nKFwiSm9iIGNhbmNlbGVkIVwiKTtcblxuICAvLyBjbGVhciBiYXJcbiAgYmFyLmNsZWFyKCk7XG5cbiAgLy8gcmVzZXQgdmFsdWVzXG4gIGNoYXQucmVzZXRWYWx1ZXMoKTtcbn0pO1xuXG5mdW5jdGlvbiByZWRyYXdCYXIoKTogdm9pZCB7XG4gIC8vIGdldCB2YWx1ZXNcbiAgY29uc3QgdmFsdWVzOiBudW1iZXJbXSA9IGNoYXQuZ2V0VmFsdWVzKCk7XG4gIGJhci5kcmF3KHZhbHVlcywgdHJ1ZSwgdHJ1ZSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9