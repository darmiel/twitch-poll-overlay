<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Twitch Chat</title>
  </head>
  <body>
    <div id="chat">
      <div id="controls">
        <form>
          <fieldset>
            <legend>Switcher:</legend>
            <label>Channel:</label>
            <input name="name" type="text" id="channel" value="unsympathisch_tv" />
            <button type="button" onclick="switchChannel();">Switch</button>
          </fieldset>
        </form>
      </div>
    </div>
    <link rel="stylesheet" href="style.css" />
    <script src="main.js"></script>
    <script>
      function switchChannel() {
        const chatElem = document.getElementById("chat");
        if (chatElem == undefined) {
          return;
        }

        const channelElem = document.getElementById("channel");
        if (channelElem == undefined) {
          return;
        }

        const channel = channelElem.value;
        if (channel == undefined || channel.trim().length == 0) {
          alert("No channel specified.");
          return;
        }

        // switch tmi channel
        switchChannelByName(channel);

        // clear old bubbles
        const bubbles = document.getElementsByClassName("bubble");
        for (const bubble in bubbles) {
          bubbles[bubble].remove();
        }
      }
    </script>
  </body>
</html>
